<div class="help-api-right"><div id="jq-api-subcontent" class="hidden"></div><div id="jq-api-content"><h2 id="API文档">API文档</h2>
<p><span id="API"></span></p>
<h4 id="helpapihelpnameapi_old"><a href="/help/api/help?name=api_old">跳转到旧版</a></h4>
<p>感谢您使用JoinQuant（聚宽）量化交易平台，以下内容主要介绍聚宽量化交易平台的API使用方法，目录中带有"♠" 标识的API是 <code>"回测环境/模拟"</code>的专用API，<strong>不能在研究模块中调用</strong>。</p>
<p>内容较多，可使用<code>Ctrl+F</code>进行搜索。</p>
<p>如果以下内容仍没有解决您的问题，请您通过<a href="/community">社区提问</a>的方式告诉我们，谢谢。</p>
<h2 id="开始写策略">开始写策略</h2>
<p><span id="begin_alg"></span></p>
<h3 id="简单但是完整的策略">简单但是完整的策略</h3>
<p><span id="full_alg"></span></p>
<p>先来看一个简单但是完整的策略:</p>
<pre><code class="python language-python hljs"><span class="hljs-function">
			<span class="hljs-keyword">def</span> 
			<span class="hljs-title">initialize</span>
			<span class="hljs-params">(context)</span>:</span>
			<span class="hljs-comment"># 定义一个全局变量, 保存要操作的股票</span>
    g.security = <span class="hljs-string">'000001.XSHE'</span>
    <span class="hljs-comment"># 运行函数</span>
    run_daily(market_open, time=<span class="hljs-string">'every_bar'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">market_open</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-keyword">if</span> g.security <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> context.portfolio.positions:
        order(g.security, <span class="hljs-number">1000</span>)
    <span class="hljs-keyword">else</span>:
        order(g.security, <span class="hljs-number">-800</span>)
</code></pre>
<p>一个完整策略只需要两步:</p>
<ul>
<li>设置初始化函数: <a href="#initialize">initialize</a>,上面的例子中, 只操作一支股票: '000001.XSHE', 平安银行</li>
<li>实现一个函数, 来根据历史数据调整仓位.</li>
</ul>
<p>这个策略里, 每当我们没有股票时就买入1000股, 每当我们有股票时又卖出800股, 具体的下单API请看<a href="#order-method">order</a>函数.</p>
<p>这个策略里, 我们有了交易, 但是只是无意义的交易, 没有依据当前的数据做出合理的分析</p>
<p>下面我们来看一个真正实用的策略</p>
<h3 id="实用的策略">实用的策略</h3>
<p><span id="useful_alg"></span></p>
<p>在这个策略里, 我们会根据历史价格做出判断:</p>
<ul>
<li>如果上一时间点价格高出五天平均价1%, 则全仓买入</li>
<li>如果上一时间点价格低于五天平均价, 则空仓卖出</li>
</ul>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入聚宽函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-comment"># 初始化函数，设定要操作的股票、基准等等</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 定义一个全局变量, 保存要操作的股票</span>
    <span class="hljs-comment"># 000001(股票:平安银行)</span>
    g.security = <span class="hljs-string">'000001.XSHE'</span>
    <span class="hljs-comment"># 设定沪深300作为基准</span>
    set_benchmark(<span class="hljs-string">'000300.XSHG'</span>)
    <span class="hljs-comment"># 开启动态复权模式(真实价格)</span>
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)
    <span class="hljs-comment"># 运行函数</span>
    run_daily(market_open, time=<span class="hljs-string">'every_bar'</span>)

<span class="hljs-comment"># 每个单位时间(如果按天回测,则每天调用一次,如果按分钟,则每分钟调用一次)调用一次</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">market_open</span><span class="hljs-params">(context)</span>:</span>
    security = g.security
    <span class="hljs-comment"># 获取股票的收盘价</span>
    close_data = attribute_history(security, <span class="hljs-number">5</span>, <span class="hljs-string">'1d'</span>, [<span class="hljs-string">'close'</span>])
    <span class="hljs-comment"># 取得过去五天的平均价格</span>
    MA5 = close_data[<span class="hljs-string">'close'</span>].mean()
    <span class="hljs-comment"># 取得上一时间点价格</span>
    current_price = close_data[<span class="hljs-string">'close'</span>][<span class="hljs-number">-1</span>]
    <span class="hljs-comment"># 取得当前的现金</span>
    cash = context.portfolio.cash

    <span class="hljs-comment"># 如果上一时间点价格高出五天平均价1%, 则全仓买入</span>
    <span class="hljs-keyword">if</span> current_price &gt; <span class="hljs-number">1.01</span>*MA5:
        <span class="hljs-comment"># 用所有 cash 买入股票</span>
        order_value(security, cash)
        <span class="hljs-comment"># 记录这次买入</span>
        log.info(<span class="hljs-string">"Buying %s"</span> % (security))
    <span class="hljs-comment"># 如果上一时间点价格低于五天平均价, 则空仓卖出</span>
    <span class="hljs-keyword">elif</span> current_price &lt; MA5 <span class="hljs-keyword">and</span> context.portfolio.positions[security].closeable_amount &gt; <span class="hljs-number">0</span>:
        <span class="hljs-comment"># 卖出所有股票,使这只股票的最终持有量为0</span>
        order_target(security, <span class="hljs-number">0</span>)
        <span class="hljs-comment"># 记录这次卖出</span>
        log.info(<span class="hljs-string">"Selling %s"</span> % (security))
    <span class="hljs-comment"># 画出上一时间点价格</span>
    record(stock_price=current_price)
</code></pre>
<h2 id="策略引擎介绍">策略引擎介绍</h2>
<p><span id="alg_introduce"></span>
<span id="testing_environment"></span></p>
<h3 id="回测环境">回测环境</h3>
<ol>
<li>回测引擎运行在Python2.7之上, 请您的策略也兼容Python2.7</li>
<li>我们支持所有的Python标准库和部分常用第三方库, 具体请看: <a href="#Python库">python库</a>. 另外您可以把.py文件放在研究根目录, 回测中可以直接import, 具体请看: <a href="#自定义python库">自定义python库</a></li>
<li>安全是平台的重中之重, 您的策略的运行也会受到一些限制, 具体请看: <a href="#安全">安全</a></li>
</ol>
<p><span id="testing_process"></span></p>
<h3 id="回测过程">回测过程</h3>
<ol>
<li>准备好您的策略,  选择要操作的股票池, 实现handle_data函数</li>
<li>选定一个回测开始和结束日期, 选择初始资金、调仓间隔(每天还是每分钟), 开始回测</li>
<li>引擎根据您选择的股票池和日期, 取得股票数据, 然后每一天或者每一分钟调用一次您的handle_data函数, 同时告诉您现金、持仓情况和股票在上一天或者分钟的数据. 在此函数中, 您还可以调用函数获取任何多天的历史数据, 然后做出调仓决定.</li>
<li>当您下单后, 我们会根据接下来时间的实际交易情况, 处理您的订单. 具体细节参见<a href="#订单处理">订单处理</a></li>
<li>下单后您可以调用get_open_orders取得所有未完成的订单, 调用cancel_order取消订单</li>
<li>您可以在handle_data里面调用record()函数记录某些数据, 我们会以图表的方式显示在回测结果页面</li>
<li>您可以在任何时候调用log.info/debug/warn/error函数来打印一些日志</li>
<li>回测结束后我们会画出您的收益和基准(参见<a href="#set_benchmark">set_benchmark</a>)收益的曲线,  列出每日持仓,每日交易和一系列风险数据。</li>
</ol>
<p><span id="data_introduce"></span></p>
<h3 id="数据">数据</h3>
<ol>
<li>股票数据：我们拥有所有A股上市公司2005年以来的股票行情数据、<a href="/data/dict/fundamentals#市值数据">市值数据</a>、<a href="/data/dict/fundamentals">财务数据</a>、<a href="/help/data/data?name=jy">上市公司基本信息</a>、<a href="/api#getmtss">融资融券信息</a>等。为了避免<a href="http://zh.wikipedia.org/zh/%E5%80%96%E5%AD%98%E8%80%85%E5%81%8F%E5%B7%AE">幸存者偏差</a>，我们包括了已经退市的股票数据。</li>
<li>商品期货：我们支持从2005年以来上海国际能源交易中心、上期所、郑商所、大商所的行情数据，并包含历史产品的数据。</li>
<li>基金数据：我们目前提供了600多种在交易所上市的基金的行情、净值等数据，包含<a href="/data/dict/fundData#etf列表">ETF</a>、<a href="/data/dict/fundData#lof列表">LOF</a>、<a href="/data/dict/fundData#分级基金列表">分级A/B基金</a>以及<a href="/data/dict/fundData#mmf列表">货币基金</a>的完整的行情、净值数据等，请点击<a href="/data/dict/fundData">基金数据</a>查看。</li>
<li>金融期货数据：我们提供中金所推出的所有<a href="/data/dict/sfData">金融期货产品</a>的行情数据，并包含历史产品的数据。</li>
<li>股票指数：我们支持近600种<a href="/data/dict/indexData">股票指数</a>数据，包括指数的行情数据以及成分股数据。为了避免未来函数，我们支持获取历史任意时刻的指数成分股信息，具体见<a href="#get_index_stocks">get_index_stocks</a>。注意：指数不能买卖</li>
<li>行业板块：我们支持按行业、按板块选股，具体见<a href="#get_industry_stocks">get_industry_stocks</a></li>
<li>概念板块：我们支持按概念板块选股，具体见<a href="#get_concept_stocks">get_concept_stocks</a></li>
<li>宏观数据：我们提供全方位的<a href="/data/dict/macroData">宏观数据</a>，为投资者决策提供有力数据支持。</li>
<li>所有的行情数据我们均已处理好前复权信息。</li>
<li>我们当日的回测数据会在收盘后通过多数据源进行校验，并在T+1（第二天）的00:01更新。</li>
</ol>
<p><span id="safe_introduce"></span></p>
<h3 id="安全">安全</h3>
<ol>
<li>保证您的策略安全是我们的第一要务</li>
<li>在您使用我们网站的过程中, 我们全程使用https传输</li>
<li>策略会加密存储在数据库</li>
<li>回测时您的策略会在一个安全的进程中执行, 我们使用了进程隔离的方案来确保系统不会被任何用户的代码攻击, 每个用户的代码都运行在一个有很强限制的进程中:</li>
</ol>
<ul>
<li><p>只能读指定的一些python库文件</p></li>
<li><p>不能写和执行任何文件, 如果您需要保存和读取私有文件, 请看<a href="#write_file">write_file</a>/<a href="#read_file">read_file</a></p></li>
<li><p>不能创建进程或者线程</p></li>
<li><p>限制了cpu和内存, 堆栈的使用</p></li>
<li><p>可以访问网络, 但是对带宽做了限制, 下载最大带宽为500KB/s, 上传带宽为10KB/s</p></li>
<li><p>有严格的超时机制, 如果handle_data超过30分钟则立即停止运行
对于读取回测所需要的数据, 和输出回测结果, 我们使用一个辅助进程来帮它完成, 两者之间通过管道连接.</p>
<p>我们使用了linux内核级别的apparmer技术来实现这一点.
有了这些限制我们确保了任何用户不能侵入我们的系统, 更别提盗取他人的策略了.</p></li>
</ul>
<p><span id="running_frequency"></span></p>
<h3 id="运行频率">运行频率</h3>
<p><strong>1. Bar 的概念</strong></p>
<p>在一定时间段内的时间序列就构成了一根 K 线（日本蜡烛图），单根 K 线被称为 Bar。</p>
<p>如果是一分钟内的 Tick 序列，即构成一根分钟 K 线，又称分钟 Bar;<br>
如果是一天内的分钟序列，即构成一根日线 K 线，又称日线 Bar;</p>
<p>Bar 的示意图如下所示：</p>
<p><img src="http://img0.ph.126.net/QVCQxL-2IUy6NYG9MD-oRQ==/6631975962305988684.png" alt="Bar 的示意图"></p>
<p>Bar 就是时间维度上，价格在空间维度上变化构成的数据单元。如下图所示，多个数据单元 Bar 构成的一个时间序列。</p>
<p><img src="http://img1.ph.126.net/HAVUVlSog-bkwxWOm5UJWw==/6632518021535809699.png" alt="K线序列"></p>
<p><strong>2. 频率详解</strong></p>
<p>下列图片中齿轮为 handle_data(context, data) 的运行时间，before_trading_start(context) 等其他函数运行时间详见<a href="#alg_frame">相关API</a>。</p>
<p><strong>频率：天</strong></p>
<p>当选择天频率时， 算法在每根日线 Bar 都会运行一次，即每天运行一次。 </p>
<p>在算法中，可以获取任何粒度的数据。 </p>
<p><img src="http://img1.ph.126.net/bBL80Rm3WkBCYZ331cQ-tA==/6632136491003641585.png" alt="日K线"></p>
<p><strong>频率：分钟</strong></p>
<p>当选择分钟频率时， 算法在每根分钟 Bar 都会运行一次，即每分钟运行一次。</p>
<p>在算法中，可以获取任何粒度的数据。 </p>
<p><img src="http://img2.ph.126.net/NnyZ_w-rEbBOOdFa0HR0jg==/6632093610050159615.png" alt="分钟K线"></p>
<p><strong>频率：Tick</strong></p>
<p>当选择 Tick 频率时，每当新来一个 Tick，算法都会被执行一次。</p>
<p>执行示意图如下图所示：</p>
<p><img src="http://img0.ph.126.net/C7zTMuhM2ququLeNGSuMAQ==/6632092510538531835.png" alt="Tick序列"></p>
<p><span id="order_way"></span></p>
<h3 id="订单处理">订单处理</h3>
<p>风险指标数据有利于您对策略进行一个客观的评价。</p>
<p><strong>注意</strong>: 无论是回测还是模拟, 所有风险指标(年化收益/alpha/beta/sharpe/max_drawdown等指标)都只会<strong>每天更新一次, 也只根据每天收盘后的收益计算, 并不考虑每天盘中的收益情况</strong>. 例外:</p>
<ul>
<li>分钟和TICK模拟盘每分钟会更新策略收益和基准收益</li>
<li>按天模拟盘每天开盘后和收盘后会更新策略收益和基准收益</li>
</ul>
<p>那么可能会造成这种现象: 模拟时收益曲线中有回撤, 但是 max_drawdown 可能为0.</p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>回测</label>
      <label>回测订单处理详情</label>
      <article>

使用Bar撮合

- 市价单:
    - 按天回测
        - 当 “最新价+滑点” 在涨跌停范围内，则进行撮合，反之撤销
        - 交易价格: 最新价 + [滑点]，如果在开盘时刻运行， 最新价格为开盘价。 其他情况下， 为上一分钟的最后一个价格。
        - 最大成交量: 每次下单成交量不会超过该股票当天的总成交量.  可通过选项 [order_volume_ratio](#order_volume_ratio) 设置每天最大的成交量, 例如: 0.25 表示下单成交量不会超过当天成交量的 25%
        - 注意:
            - context.portfolio 中的持仓价格会使用上一分钟的最后一个价格更新。
            - data 是昨天的按天数据, 要想拿到当天开盘价, 请使用 [get_current_data](#get_current_data) 拿取 day_open 字段

    - 分钟回测
        - 当 “最新价+滑点” 在涨跌停范围内，则进行撮合，反之撤销
        - 交易价格: 因为我们是在每分钟的第一秒钟执行代码, 所以价格是上一分钟的最后一个价格 + [滑点]
        - 同按天回测规则, 每次下单成交量不会超过该股票当天的总成交量, [order_volume_ratio](#order_volume_ratio) 同样有效.注意: 这是限制了每个订单的成交量, 当然, 你可以通过一天多次下单来超过一天成交量, 但是, 为了对你的回测负责, 请不要这么做.

    - 所有市价单下单之后同步完成(也即 order_XXX 系列函数返回时完成), context.portfolio 会同步变化

- 限价单
    - 回测(天、分钟):
      - 当 委托价 &gt; 最新价+滑点，按市价单模式撮合
    - 当 委托价 &lt;= 最新价+滑点，则挂单，在Bar结束时按照Bar信息进行撮合：
      - 当 委托价 &gt; bar 的最低价，则成交价为委托价，成交量不超过 Bar 成交量 * order_volume_ratio
      - 天、分钟相同
    - 不是立即完成, 下单之后 context.portfolio.cash 和 context.portfolio.positions 不会同步变化.
    - 按天模拟交易暂时不支持限价单

- 上述过程中, 如果实际价格已经涨停或者跌停, 则相对应的买单或卖单不成交, 市价单直接取消(log中有警告信息), 限价单会挂单直到可以成交.
- 一天结束后, 所有未完成的订单会被取消
- 每次订单完成(完全成交)或者取消后, 我们会根据成交量计算手续费(参见[set_order_cost](#set_order_cost)), 减少您的现金
- 更多细节, 请看[order](#order-method)函数

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>模拟</label>
      <label>模拟交易订单处理详情</label>
      <article>

##### **1.使用盘口撮合**

- 市价单
  - 买单：
    - 根据卖单盘口进行撮合
    - 优先从卖一档开始撮合，根据成交量算出 加权均价
    - 成交价： 加权均价
    - 5档成交剩余撤销：买入时从“卖一"到“卖五"价格依次成交，卖出时从“买一”到“买五"价格依次成交。若无法全部成交，则剩余未匹配量自动撤销
    - 当前没有盘口时，按照 使用 Bar 处理 处理：
      - 当成交量不为零为，使用最新价+滑点成交
      - 当成交量为零，则取消该订单
  - 卖单：
    - 根据买单盘口进行撮合
    - 优先从买一档开始撮合，根据成交量算出 加权均价
    - 成交价 ： 加权均价
    - 5档成交剩余撤销：买入时从“卖一"到“卖五"价格依次成交，卖出时从“买一”到“买五"价格依次成交。若无法全部成交，则剩余未匹配量自动撤销
    - 当前没有盘口时，按照 使用 Bar 处理 处理：
      - 当成交量不为零为，使用最新价+滑点成交
      - 当成交量为零，则取消该订单

- 限价单
  - 买单：
    - 根据卖单盘口进行撮合
    - 优先从卖一档开始撮合，直至盘口价格&gt;委托价的档位，根据成交量算出 加权均价
    - 成交价 ： 加权均价
    - 当限价单根据盘口撮合完，为部分成交时，剩余委托数量会在 Bar 结束时根据 Bar 信息进行撮合，详情见Bar撮合方式。

  - 卖单：
    - 根据买单盘口进行撮合
    - 优先从买一档开始撮合，直至盘口价格&lt;委托价的档位，根据成交量算出 加权均价
    - 成交价 ： 加权均价
    - 当限价单根据盘口撮合完，为部分成交时，剩余委托数量会在 Bar 结束时根据 Bar 信息进行撮合，详情见 Bar 撮合方式。
  - 注意：如模拟盘下限价委托单，并且根据盘口撮合后，订单为部分成交，则该订单完整信息在收盘时更新。


##### **2.使用Bar撮合**

- 市价单:
    - 模拟交易
        - 当 “最新价+滑点” 在涨跌停范围内，则进行撮合，反之撤销
        - 交易价格: 最新价 + 滑点
        - 最大交易量: 不管是按天, 按分钟, 还是按tick, 由于市价单都是同步完成, 下单那一刻无法知道当天成交量, 所以市价单都不考虑成交量, 全量成交.

    - 所有市价单下单之后同步完成(也即 order_XXX 系列函数返回时完成), context.portfolio 会同步变化

- 限价单
  - 模拟交易(天、分钟、Tick):
    - 当 委托价 &gt; 最新价+滑点，按市价单模式撮合
    - 当 委托价 &lt;= 最新价+滑点，则挂单，在Bar结束时按照Bar信息进行撮合：
      - 当 委托价 &gt; bar 的最低价，则成交价为委托价，成交量不超过 Bar 成交量 * order_volume_ratio
      - 天、分钟、tick 相同
      - 按tick, 不是立即完成, 而是下单之后每个tick根据这个tick的分价表撮合一次, 直到完全成交或者当天收盘为止. 同样考虑 [order_volume_ratio](#order_volume_ratio) 选项.
    - 注意：如模拟盘下限价委托单，订单信息会在收盘后更新。

    - 不是立即完成, 下单之后 context.portfolio.cash 和 context.portfolio.positions 不会同步变化.

    - 按天模拟交易暂时不支持限价单

- 上述过程中, 如果实际价格已经涨停或者跌停, 则相对应的买单或卖单不成交, 市价单直接取消(log中有警告信息), 限价单会挂单直到可以成交.
- 一天结束后, 所有未完成的订单会被取消
- 每次订单完成(完全成交)或者取消后, 我们会根据成交量计算手续费(参见[set_order_cost](#set_order_cost)), 减少您的现金
- 更多细节, 请看[order](#order-method)函数

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


  </div>
</section>
<p><span id="split_merge_dividends_"></span></p>
<h3 id="拆分合并与分红">拆分合并与分红</h3>
<ul>
<li><strong>传统前复权回测模式：</strong>当股票发生拆分，合并或者分红时，股票价格会受到影响，为了保证价格的连续性, 我们使用前复权来处理之前的股票价格，给您的所有股票价格已经是前复权的价格。</li>
<li><strong>真实价格（动态复权）回测模式：</strong>当股票发生拆分，合并或者分红时，会按照历史情况，对账户进行处理，会在账户账户中增加现金或持股数量发生变化，并会有日志提示。</li>
</ul>
<section>
  <div class="header">
    <label>内容</label>
  </div>
  <div class="body">

    <div class="group">
      <label>传统前复权回测模式 与 真实价格（动态复权）回测模式 区别</label>
      <article>

使用前复权价格，不论回测开始时间、结束时间是何时，使用的数据都是基于今天（回测当天）或某个时间的复权因子进行前复权获得的价格，因此使用前复权价格进行回测，回测结果肯定有问题。示意图如下：

![传统回测模式](http://img2.ph.126.net/s5dPwCYVbIKgCRjMAjSDOQ==/6631803338977829912.jpg)

不论历史时刻1或历史时刻2，拿到的数据都是基于未来某一天的前复权价格，使用这样的数据存在未来函数（未来函数是回测最大的敌人之一）


![开启真实价格回测](http://img1.ph.126.net/E_KtLi8SEBsWf-tRh1t3IQ==/6631660402466218474.jpg)

使用真实价格回测模式，回测到历史时刻1，使用历史时刻1的真实价格撮合成交；如果需要复权，会使用的历史时刻1的复权因子，对“历史时刻1"之前的价格进行前复权，这样有效避免了未来函数，因为回测全程都不可能使用未来的数据。


你可能没有看懂，下面举个例子：

![p3](http://img1.ph.126.net/Tfq2l-YgvsUWIOHGo8MwFQ==/6631682392698838639.png)

如现有一只股票，股价一直没有波动，只进行了拆分。

- 前复权回测模式  
    - 站在“历史时刻3”看历史数据：因为使用今天的复权因子，“历史时刻3”之前的股价均为2；
    - 站在“历史时刻2”看历史数据：因为使用今天的复权因子，“历史时刻3”的股价是2；
    - 站在“历史时刻1”看历史数据，因为使用今天的复权因子，“历史时刻2”和“历史时刻3”的股价是2；

- 真实价格回测模式
    - 站在“历史时刻3”看历史数据：因为使用历史时刻3的复权因子，“历史时刻3”之前的股价均为8
    - 站在“历史时刻2”看历史数据：因为使用历史时刻2的复权因子，“历史时刻3”的股价是4；
    - 站在“历史时刻1”看历史数据：因为使用历史时刻1的复权因子，“历史时刻2”和“历史时刻3”的股价是2；

**因为使用了未来的复权因子，前复权回测模式，回测过程中使用的价格是不正确的。**

下面再举一个真实的例子，比较一下前复权回测模式和真实价格回测模式的区别

![GL_pre](http://img0.ph.126.net/LHU6vhX5xc4qC_1pIpZTkw==/6631628516629060053.jpg)

![GL_pre](http://img0.ph.126.net/sJw3-sj4vuKBIhbwwNs-EQ==/4819696026317438817.jpg)

2007-01-30，波导股份的真实股价（绿色曲线）是低于格力电器（黑色曲线）的；但使用前复权价格，波导股份的价格会高于格力电器。
采用最简单的交易思路，购买股价低的股票并持有，前复权模式会买入格力电器，真实价格回测模式会买入波导股份。

下面我们进行回测，根据2007-01-30当天格力电器与波导股份的收盘价，买入低价位股票并持有到现在。回测结果如下所示：

**前复权回测模式的回测结果：**
初始资金：100,000
策略收益：776.54%
沪深300收益：21.98%
最大回撤：64.98%

![gbzs](http://img1.ph.126.net/BmGLShxJ73EaDjo-n08dmg==/6631761557536052617.png)

**真实价格回测模式的回测结果：**
初始资金：100,000
策略收益：78.35%
沪深300收益：21.98%
最大回撤：79.78%

![kqzs](http://img1.ph.126.net/P3DxALiXIXufvTDVVQWGAg==/4855161873383798650.png)

**由回测结果不难看出，前复权回测模式因为存在未来函数，结果是不准确的，使用前复权回测模式可能会让你获得非常高的收益，但实盘时，效果却非常一般；在某些策略中，如使用到价格因子，前复权模式会导致回测中买卖信号与实际中不一致，从而导致回测结果不准确，影响策略在真实场景中的应用。**


开启真实价格回测功能

其实很简单，只需一步即可搞定：

在initialize中使用set_option即可，如下所示：
<pre><code class="python language-python">def initialize(context):
    set_option('use_real_price', True)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>是否开启动态复权(真实价格)模式对模拟交易的影响</label>
      <article>

近来，很多用户反馈在模拟盘看到的有些股票价格与在炒股软件上看到的不一样，对此表示很疑惑。

这是因为在模拟交易中，在未开启动态复权(真实价格)模式时，我们是使用基于模拟交易创建日期的[**后复权**](http://baike.baidu.com/link?url=2BW9tBKYan9fZ9cWCoBTR-DQDMaIahEOwu26zCe1UfrMMflYDE05aZHX4Kxmii0XrOQrJ1fUHV7OPD6ZyrPnXK)价格。

后复权模式示意图如下图所示：

![enter image description here](http://img2.ph.126.net/GZV_NYOuirdXrvHkKE3EaQ==/6631691188793544593.png)

不开启真实价格模拟盘的运算结果是没有错误，只是会让您理解起来更费劲一些。

用户如果想知道今天的真实价格，还需知道模拟创建的日期，并进行复权计算。

为了让用户使用更便于理解、更真实的模拟系统，我们强烈建议您**开启动态复权(真实价格)模式**。开启方式：用户可在代码中调用`set_option('use_real_price', True)`.

开启动态复权(真实价格)模式示意图如下图所示：
![enter image description here](http://img0.ph.126.net/arnwv6gwKRJwleUxIasIww==/6631743965351683797.png)


**开启动态复权(真实)模式后，您看到的价格都是最新的，每到新的一天, 如果持仓中有股票发生了拆合或者分红或者其他可能影响复权因子的情形, 我们会根据复权因子自动调整股票的数量. 但不要跨日期缓存这些 API 返回的结果**


## 我们强烈建议您开启动态复权(真实价格)模式，进行模拟与回测！

### **注意：**

1.  开启真实价格回测之后，为了让编写代码简单, 通过history/attribute_history/get_price/SecurityUnitData.mavg/vwap 等 API 拿到的都是基于当天日期的前复权价格.  另一方面, 你在不同日期调用 history/attribute_history/get_price/SecurityUnitData.mavg/vwap 返回的价格可能是不一样的, 因为我们在不同日期看到的前复权价格是不一样的. **所以不要跨日期缓存这些 API 返回的结果**.
2. 每到新的一天, **如果持仓中有股票发生了拆合或者分红或者其他可能影响复权因子的情形, 我们会根据复权因子自动调整股票的数量, 如果调整后的数量是小数, 则向下取整到整数,** 最后为了保证context.portfolio.portfolio_value不变, context.portfolio.cash可能有略微调整.
3. 更多详情请见 API - [set_option](#set_option)


      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="股息红利税的计算">股息红利税的计算</h3>
<p>真实的税率计算方式如下：</p>
<ul>
<li>分红派息的时候，不扣税；</li>
<li>等你卖出该只股票时，会根据你的股票持有时间（自你买进之日，算到你卖出之日的前一天，下同）超过一年的免税。2015年9月之前的政策是，满一年的收5%。现在执行的是,2015年9月份的新优惠政策：满一年的免税；</li>
<li>等你卖出股票时，你的持有时间在1个月以内（含1个月）的，补交红利的20%税款，券商会在你卖出股票当日清算时直接扣收；</li>
<li>等你卖出股票时，你的持有时间在1个月至1年间（含1年）的，补交红利的10%税款，券商直接扣；</li>
<li>分次买入的股票，一律按照“先进先出”原则，对应计算持股时间；</li>
<li>当日有买进卖出的（即所谓做盘中T+0），收盘后系统计算你当日净额，净额为买入，则记录为今日新买入。净额为卖出，则按照先进先出原则，算成你卖出了你最早买入的对应数量持股，并考虑是否扣税和税率问题。</li>
</ul>
<p>在回测及模拟交易中，由于需要在分红当天将扣税后的分红现金发放到账户，因此无法准确计算用户的持仓时间（不知道股票卖出时间），我们的计算方式是，统一按照 20% 的税率计算的。</p>
<p><span id="slippage_introduce"></span></p>
<h3 id="滑点">滑点</h3>
<p>在实战交易中，往往最终成交价和预期价格有一定偏差，因此我们加入了滑点模式来帮助您更好地模拟真实市场的表现。</p>
<p><span id="order_cost"></span></p>
<h3 id="交易税费">交易税费</h3>
<p>交易税费包含券商手续费和印花税。您可以通过<a href="#set_order_cost">set_order_cost</a>来设置具体的交易税费的参数。</p>
<h5 id="">券商手续费</h5>
<p>中国A股市场目前为双边收费，券商手续费系默认值为万分之三，即0.03%，最少5元。</p>
<h5 id="-1">印花税</h5>
<p>印花税对卖方单边征收，对买方不再征收，系统默认为千分之一，即0.1%。</p>
<p><span id="risk-metrics"></span></p>
<h3 id="风险指标">风险指标</h3>
<p>风险指标数据有利于您对策略进行一个客观的评价。</p>
<p><strong>注意</strong>: 无论是回测还是模拟, 所有风险指标(年化收益/alpha/beta/sharpe/max_drawdown等指标)都只会<strong>每天更新一次, 也只根据每天收盘后的收益计算, 并不考虑每天盘中的收益情况</strong>. 例外:</p>
<ul>
<li>分钟和TICK模拟盘每分钟会更新策略收益和基准收益</li>
<li>按天模拟盘每天开盘后和收盘后会更新策略收益和基准收益</li>
</ul>
<p>那么可能会造成这种现象: 模拟时收益曲线中有回撤, 但是 max_drawdown 可能为0.</p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>Total Returns</label>
      <label>策略收益</label>
      <article>

<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>s</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo>&amp;#x2217;</mo><mn>100</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 22.513em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.295em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.679em, 1000.003em, 2.848em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-7" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-10" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-11" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-13" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-16" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mo" id="MathJax-Span-17" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">(</span><span class="msubsup" id="MathJax-Span-18"><span style="display: inline-block; position: relative; width: 1.73em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-19" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="texatom" id="MathJax-Span-20"><span class="mrow" id="MathJax-Span-21"><span class="mi" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-23" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-24" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-25" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-26" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 2.035em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="texatom" id="MathJax-Span-28"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-32" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-33" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-34" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-35" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-36"><span class="mrow" id="MathJax-Span-37"><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; position: relative; width: 2.035em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="texatom" id="MathJax-Span-41"><span class="mrow" id="MathJax-Span-42"><span class="mi" id="MathJax-Span-43" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-44" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-45" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-46" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-47" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-48" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">∗</span><span class="mn" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">100</span><span class="mi" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>s</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo>−</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo>∗</mo><mn>100</mn><mi mathvariant="normal">%</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">Total\space Returns=(P_{end}-P_{start})/P_{start}*100\%</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6700;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7EC8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x80A1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7968;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x548C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x73B0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x91D1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EF7;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-51" role="math" style="width: 16.771em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.62em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-52"><span class="msubsup" id="MathJax-Span-53"><span style="display: inline-block; position: relative; width: 1.73em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="texatom" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"><span class="mi" id="MathJax-Span-57" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-58" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-59" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-61" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-62"><span class="mo" id="MathJax-Span-63"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-64"><span class="mrow" id="MathJax-Span-65"><span class="mo" id="MathJax-Span-66"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-67"><span class="mrow" id="MathJax-Span-68"><span class="mo" id="MathJax-Span-69"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">最</span></span></span></span><span class="texatom" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="mo" id="MathJax-Span-72"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">终</span></span></span></span><span class="texatom" id="MathJax-Span-73"><span class="mrow" id="MathJax-Span-74"><span class="mo" id="MathJax-Span-75"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">股</span></span></span></span><span class="texatom" id="MathJax-Span-76"><span class="mrow" id="MathJax-Span-77"><span class="mo" id="MathJax-Span-78"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-79"><span class="mrow" id="MathJax-Span-80"><span class="mo" id="MathJax-Span-81"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="texatom" id="MathJax-Span-82"><span class="mrow" id="MathJax-Span-83"><span class="mo" id="MathJax-Span-84"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-85"><span class="mrow" id="MathJax-Span-86"><span class="mo" id="MathJax-Span-87"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">金</span></span></span></span><span class="texatom" id="MathJax-Span-88"><span class="mrow" id="MathJax-Span-89"><span class="mo" id="MathJax-Span-90"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-91"><span class="mrow" id="MathJax-Span-92"><span class="mo" id="MathJax-Span-93"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mo" id="MathJax-Span-96"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">价</span></span></span></span><span class="texatom" id="MathJax-Span-97"><span class="mrow" id="MathJax-Span-98"><span class="mo" id="MathJax-Span-99"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>最</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>终</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>股</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>票</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>和</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>现</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>金</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>价</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">P_{end}=策略最终股票和现金的总价值</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5F00;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x59CB;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x80A1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7968;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x548C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x73B0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x91D1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EF7;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-100" role="math" style="width: 17.127em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.925em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-101"><span class="msubsup" id="MathJax-Span-102"><span style="display: inline-block; position: relative; width: 2.035em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-103" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="texatom" id="MathJax-Span-104"><span class="mrow" id="MathJax-Span-105"><span class="mi" id="MathJax-Span-106" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-107" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-108" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-109" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-110" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-111" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-112" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-113"><span class="mo" id="MathJax-Span-114"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-115"><span class="mrow" id="MathJax-Span-116"><span class="mo" id="MathJax-Span-117"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-118"><span class="mrow" id="MathJax-Span-119"><span class="mo" id="MathJax-Span-120"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="texatom" id="MathJax-Span-121"><span class="mrow" id="MathJax-Span-122"><span class="mo" id="MathJax-Span-123"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">始</span></span></span></span><span class="texatom" id="MathJax-Span-124"><span class="mrow" id="MathJax-Span-125"><span class="mo" id="MathJax-Span-126"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">股</span></span></span></span><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mo" id="MathJax-Span-129"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="mo" id="MathJax-Span-132"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="texatom" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mo" id="MathJax-Span-135"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span class="mo" id="MathJax-Span-138"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">金</span></span></span></span><span class="texatom" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mo" id="MathJax-Span-141"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-142"><span class="mrow" id="MathJax-Span-143"><span class="mo" id="MathJax-Span-144"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-145"><span class="mrow" id="MathJax-Span-146"><span class="mo" id="MathJax-Span-147"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">价</span></span></span></span><span class="texatom" id="MathJax-Span-148"><span class="mrow" id="MathJax-Span-149"><span class="mo" id="MathJax-Span-150"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>开</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>始</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>股</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>票</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>和</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>现</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>金</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>价</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-3">P_{start}=策略开始股票和现金的总价值</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Total Annualized Returns</label>
      <label>策略年化收益</label>
      <article>

<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext>&amp;#xA0;</mtext><mi>A</mi><mi>n</mi><mi>n</mi><mi>u</mi><mi>a</mi><mi>l</mi><mi>i</mi><mi>z</mi><mi>e</mi><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>s</mi><mo>=</mo><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>+</mo><mi>P</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mfrac><mn>250</mn><mi>n</mi></mfrac></msup><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mn>100</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-151" role="math" style="width: 29.779em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.19em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.273em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-152"><span class="mi" id="MathJax-Span-153" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-154" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-155" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-157" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-158" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">A</span><span class="mi" id="MathJax-Span-160" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-161" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-162" style="font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-163" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-164" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-165" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-166" style="font-family: STIXGeneral-Italic;">z</span><span class="mi" id="MathJax-Span-167" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-168" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mtext" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-170" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-171" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-172" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-173" style="font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-177" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-178" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-179" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-180" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-181" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mo" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">(</span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-184" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-185" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">+</span><span class="mi" id="MathJax-Span-186" style="font-family: STIXGeneral-Italic; padding-left: 0.257em;">P</span><span class="msubsup" id="MathJax-Span-187"><span style="display: inline-block; position: relative; width: 1.527em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-188" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -4.418em; left: 0.358em;"><span class="mfrac" id="MathJax-Span-189"><span style="display: inline-block; position: relative; width: 0.866em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.509em, 1000.003em, 4.169em, -999.997em); top: -4.367em; left: 50%; margin-left: -0.353em;"><span class="mn" id="MathJax-Span-190" style="font-size: 50%; font-family: STIXGeneral-Regular;">250</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.661em, 1000.003em, 4.169em, -999.997em); top: -3.758em; left: 50%; margin-left: -0.099em;"><span class="mi" id="MathJax-Span-191" style="font-size: 50%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.217em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.866em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="mn" id="MathJax-Span-193" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">1</span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">∗</span><span class="mn" id="MathJax-Span-196" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">100</span><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.816em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext>&nbsp;</mtext><mi>A</mi><mi>n</mi><mi>n</mi><mi>u</mi><mi>a</mi><mi>l</mi><mi>i</mi><mi>z</mi><mi>e</mi><mi>d</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>s</mi><mo>=</mo><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>P</mi><msup><mo stretchy="false">)</mo><mfrac><mn>250</mn><mi>n</mi></mfrac></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mn>100</mn><mi mathvariant="normal">%</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">Total\space Annualized\space Returns=R_p=((1+P)^\frac{250}{n}-1)*100\%</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-198" role="math" style="width: 6.405em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.185em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-199"><span class="mi" id="MathJax-Span-200" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-201" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-202" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-203"><span class="mo" id="MathJax-Span-204"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-205"><span class="mrow" id="MathJax-Span-206"><span class="mo" id="MathJax-Span-207"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mo" id="MathJax-Span-210"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-211"><span class="mrow" id="MathJax-Span-212"><span class="mo" id="MathJax-Span-213"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-5">P=策略收益</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>n</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6267;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x884C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5929;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-214" role="math" style="width: 8.285em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.71em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-215"><span class="mi" id="MathJax-Span-216" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-217" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-218" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-219"><span class="mo" id="MathJax-Span-220"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-221"><span class="mrow" id="MathJax-Span-222"><span class="mo" id="MathJax-Span-223"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-224"><span class="mrow" id="MathJax-Span-225"><span class="mo" id="MathJax-Span-226"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">执</span></span></span></span><span class="texatom" id="MathJax-Span-227"><span class="mrow" id="MathJax-Span-228"><span class="mo" id="MathJax-Span-229"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">行</span></span></span></span><span class="texatom" id="MathJax-Span-230"><span class="mrow" id="MathJax-Span-231"><span class="mo" id="MathJax-Span-232"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">天</span></span></span></span><span class="texatom" id="MathJax-Span-233"><span class="mrow" id="MathJax-Span-234"><span class="mo" id="MathJax-Span-235"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>n</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>执</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>行</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>天</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-6">n=策略执行天数</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Alpha</label>
      <label>阿尔法</label>
      <article>

投资中面临着系统性风险（即Beta）和非系统性风险（即Alpha），Alpha是投资者获得与市场波动无关的回报。比如投资者获得了15%的回报，其基准获得了10%的回报，那么Alpha或者价值增值的部分就是5%。

<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>A</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>=</mo><mi>&amp;#x03B1;</mi><mo>=</mo><msub><mi>R</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>R</mi><mi>f</mi></msub><mo>+</mo><msub><mi>&amp;#x03B2;</mi><mi>p</mi></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>R</mi><mi>m</mi></msub><mo>&amp;#x2212;</mo><msub><mi>R</mi><mi>f</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-236" role="math" style="width: 19.413em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.755em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.73em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-237"><span class="mi" id="MathJax-Span-238" style="font-family: STIXGeneral-Italic;">A</span><span class="mi" id="MathJax-Span-239" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-240" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-241" style="font-family: STIXGeneral-Italic;">h</span><span class="mi" id="MathJax-Span-242" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-243" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mi" id="MathJax-Span-244" style="font-family: STIXGeneral-Italic; padding-left: 0.307em;">α</span><span class="mo" id="MathJax-Span-245" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-246" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-247" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-248" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-249" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="mo" id="MathJax-Span-250" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">[</span><span class="msubsup" id="MathJax-Span-251"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-253" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">+</span><span class="msubsup" id="MathJax-Span-255" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.372em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-257" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-259"><span style="display: inline-block; position: relative; width: 1.222em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-260" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-261" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-262" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-263" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-264" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-265" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-267" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>A</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>=</mo><mi>α</mi><mo>=</mo><msub><mi>R</mi><mi>p</mi></msub><mo>−</mo><mo stretchy="false">[</mo><msub><mi>R</mi><mi>f</mi></msub><mo>+</mo><msub><mi>β</mi><mi>p</mi></msub><mo stretchy="false">(</mo><msub><mi>R</mi><mi>m</mi></msub><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-7">Alpha=\alpha=R_p- [R_f+\beta_p(R_m-R_f)]</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-268" role="math" style="width: 9.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.082em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-269"><span class="msubsup" id="MathJax-Span-270"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-272" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-274" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-275"><span class="mo" id="MathJax-Span-276"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-277"><span class="mrow" id="MathJax-Span-278"><span class="mo" id="MathJax-Span-279"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mo" id="MathJax-Span-282"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-283"><span class="mrow" id="MathJax-Span-284"><span class="mo" id="MathJax-Span-285"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-286"><span class="mrow" id="MathJax-Span-287"><span class="mo" id="MathJax-Span-288"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-289"><span class="mrow" id="MathJax-Span-290"><span class="mo" id="MathJax-Span-291"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-292"><span class="mrow" id="MathJax-Span-293"><span class="mo" id="MathJax-Span-294"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-8">R_p=策略年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>m</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-295" role="math" style="width: 10.165em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.234em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-296"><span class="msubsup" id="MathJax-Span-297"><span style="display: inline-block; position: relative; width: 1.222em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-298" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-299" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-300" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-301" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-302"><span class="mo" id="MathJax-Span-303"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-304"><span class="mrow" id="MathJax-Span-305"><span class="mo" id="MathJax-Span-306"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-307"><span class="mrow" id="MathJax-Span-308"><span class="mo" id="MathJax-Span-309"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-310"><span class="mrow" id="MathJax-Span-311"><span class="mo" id="MathJax-Span-312"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-313"><span class="mrow" id="MathJax-Span-314"><span class="mo" id="MathJax-Span-315"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-316"><span class="mrow" id="MathJax-Span-317"><span class="mo" id="MathJax-Span-318"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-319"><span class="mrow" id="MathJax-Span-320"><span class="mo" id="MathJax-Span-321"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>m</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-9">R_m=基准年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x98CE;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9669;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5229;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9ED8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8BA4;</mo></mrow><mn>0.04</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-322" role="math" style="width: 14.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.385em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-323"><span class="msubsup" id="MathJax-Span-324"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-325" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-326" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-327" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-328" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-329"><span class="mo" id="MathJax-Span-330"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">无</span></span></span></span><span class="texatom" id="MathJax-Span-331"><span class="mrow" id="MathJax-Span-332"><span class="mo" id="MathJax-Span-333"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">风</span></span></span></span><span class="texatom" id="MathJax-Span-334"><span class="mrow" id="MathJax-Span-335"><span class="mo" id="MathJax-Span-336"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">险</span></span></span></span><span class="texatom" id="MathJax-Span-337"><span class="mrow" id="MathJax-Span-338"><span class="mo" id="MathJax-Span-339"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">利</span></span></span></span><span class="texatom" id="MathJax-Span-340"><span class="mrow" id="MathJax-Span-341"><span class="mo" id="MathJax-Span-342"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="texatom" id="MathJax-Span-343"><span class="mrow" id="MathJax-Span-344"><span class="mo" id="MathJax-Span-345"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mo" id="MathJax-Span-348"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">默</span></span></span></span><span class="texatom" id="MathJax-Span-349"><span class="mrow" id="MathJax-Span-350"><span class="mo" id="MathJax-Span-351"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">认</span></span></span></span><span class="mn" id="MathJax-Span-352" style="font-family: STIXGeneral-Regular;">0.04</span><span class="texatom" id="MathJax-Span-353"><span class="mrow" id="MathJax-Span-354"><span class="mo" id="MathJax-Span-355"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>无</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>风</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>险</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>利</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>默</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>认</mo></mrow><mn>0.04</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-10">R_f=无风险利率（默认0.04）</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>&amp;#x03B2;</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mi>b</mi><mi>e</mi><mi>t</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-356" role="math" style="width: 7.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.456em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-357"><span class="msubsup" id="MathJax-Span-358"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.372em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-359" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-360" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-361" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-362" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-363"><span class="mo" id="MathJax-Span-364"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-365"><span class="mrow" id="MathJax-Span-366"><span class="mo" id="MathJax-Span-367"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="mi" id="MathJax-Span-368" style="font-family: STIXGeneral-Italic;">b</span><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-370" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-371" style="font-family: STIXGeneral-Italic;">a</span><span class="texatom" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mo" id="MathJax-Span-374"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>β</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mi>b</mi><mi>e</mi><mi>t</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-11">\beta_p=策略beta值</script>
Alpha值 | 解释
--------|--------
α&gt;0|策略相对于风险，获得了超额收益
α=0|策略相对于风险，获得了适当收益
α&lt;0|策略相对于风险，获得了较少收益


      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Beta</label>
      <label>贝塔</label>
      <article>

表示投资的系统性风险，反映了策略对大盘变化的敏感性。例如一个策略的Beta为1.5，则大盘涨1%的时候，策略可能涨1.5%，反之亦然；如果一个策略的Beta为-1.5，说明大盘涨1%的时候，策略可能跌1.5%，反之亦然。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>B</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><msub><mi>&amp;#x03B2;</mi><mi>p</mi></msub><mo>=</mo><mfrac><mrow><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>D</mi><mi>p</mi></msub><mo>,</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-375" role="math" style="width: 13.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.978em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.968em, 1000.003em, 3.559em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-376"><span class="mi" id="MathJax-Span-377" style="font-family: STIXGeneral-Italic;">B</span><span class="mi" id="MathJax-Span-378" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-380" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-381" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-382" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.372em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-383" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-384" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-386" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 5.338em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.474em, -999.997em); top: -4.774em; left: 50%; margin-left: -2.589em;"><span class="mrow" id="MathJax-Span-387"><span class="mi" id="MathJax-Span-388" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-389" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-390" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-392"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-393" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-394" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-396" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-398" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-399" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.322em, -999.997em); top: -3.351em; left: 50%; margin-left: -1.776em;"><span class="mrow" id="MathJax-Span-400"><span class="mi" id="MathJax-Span-401" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-402" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-403" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-404" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-405"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-406" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-407" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 5.338em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.122em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 2.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>B</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><msub><mi>β</mi><mi>p</mi></msub><mo>=</mo><mfrac><mrow><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mi>p</mi></msub><mo>,</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-12">Beta=\beta_p=\frac{Cov(D_p,D_m)}{Var(D_m)}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>D</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-409" role="math" style="width: 9.098em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.37em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-410"><span class="msubsup" id="MathJax-Span-411"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-412" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-413" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-414" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-415" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-416"><span class="mo" id="MathJax-Span-417"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-418"><span class="mrow" id="MathJax-Span-419"><span class="mo" id="MathJax-Span-420"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-421"><span class="mrow" id="MathJax-Span-422"><span class="mo" id="MathJax-Span-423"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-424"><span class="mrow" id="MathJax-Span-425"><span class="mo" id="MathJax-Span-426"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-427"><span class="mrow" id="MathJax-Span-428"><span class="mo" id="MathJax-Span-429"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-430"><span class="mrow" id="MathJax-Span-431"><span class="mo" id="MathJax-Span-432"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>D</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-13">D_p=策略每日收益</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>D</mi><mi>m</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-433" role="math" style="width: 9.251em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.523em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-434"><span class="msubsup" id="MathJax-Span-435"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-436" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-437" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-438" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-439" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-440"><span class="mo" id="MathJax-Span-441"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-442"><span class="mrow" id="MathJax-Span-443"><span class="mo" id="MathJax-Span-444"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-445"><span class="mrow" id="MathJax-Span-446"><span class="mo" id="MathJax-Span-447"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-448"><span class="mrow" id="MathJax-Span-449"><span class="mo" id="MathJax-Span-450"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-451"><span class="mrow" id="MathJax-Span-452"><span class="mo" id="MathJax-Span-453"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-454"><span class="mrow" id="MathJax-Span-455"><span class="mo" id="MathJax-Span-456"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>D</mi><mi>m</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-14">D_m=基准每日收益</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>D</mi><mi>p</mi></msub><mo>,</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4E0E;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x534F;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65B9;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5DEE;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-457" role="math" style="width: 25.155em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.429em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-458"><span class="mi" id="MathJax-Span-459" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-460" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-461" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-462" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-463"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-464" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-465" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-466" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-467" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-468" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-469" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-472" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-473"><span class="mo" id="MathJax-Span-474"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-475"><span class="mrow" id="MathJax-Span-476"><span class="mo" id="MathJax-Span-477"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-478"><span class="mrow" id="MathJax-Span-479"><span class="mo" id="MathJax-Span-480"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-481"><span class="mrow" id="MathJax-Span-482"><span class="mo" id="MathJax-Span-483"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-484"><span class="mrow" id="MathJax-Span-485"><span class="mo" id="MathJax-Span-486"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-487"><span class="mrow" id="MathJax-Span-488"><span class="mo" id="MathJax-Span-489"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-490"><span class="mrow" id="MathJax-Span-491"><span class="mo" id="MathJax-Span-492"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">与</span></span></span></span><span class="texatom" id="MathJax-Span-493"><span class="mrow" id="MathJax-Span-494"><span class="mo" id="MathJax-Span-495"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-496"><span class="mrow" id="MathJax-Span-497"><span class="mo" id="MathJax-Span-498"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-499"><span class="mrow" id="MathJax-Span-500"><span class="mo" id="MathJax-Span-501"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-502"><span class="mrow" id="MathJax-Span-503"><span class="mo" id="MathJax-Span-504"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-505"><span class="mrow" id="MathJax-Span-506"><span class="mo" id="MathJax-Span-507"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-508"><span class="mrow" id="MathJax-Span-509"><span class="mo" id="MathJax-Span-510"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-511"><span class="mrow" id="MathJax-Span-512"><span class="mo" id="MathJax-Span-513"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-514"><span class="mrow" id="MathJax-Span-515"><span class="mo" id="MathJax-Span-516"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">协</span></span></span></span><span class="texatom" id="MathJax-Span-517"><span class="mrow" id="MathJax-Span-518"><span class="mo" id="MathJax-Span-519"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">方</span></span></span></span><span class="texatom" id="MathJax-Span-520"><span class="mrow" id="MathJax-Span-521"><span class="mo" id="MathJax-Span-522"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">差</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mi>p</mi></msub><mo>,</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>与</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>协</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>方</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>差</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-15">Cov(D_p,D_m)=策略每日收益与基准每日收益的协方差</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65B9;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5DEE;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-523" role="math" style="width: 15.145em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.299em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-524"><span class="mi" id="MathJax-Span-525" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-526" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-527" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-528" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-529"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-530" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.714em;"><span class="mi" id="MathJax-Span-531" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-533" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-534" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-535"><span class="mo" id="MathJax-Span-536"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-537"><span class="mrow" id="MathJax-Span-538"><span class="mo" id="MathJax-Span-539"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-540"><span class="mrow" id="MathJax-Span-541"><span class="mo" id="MathJax-Span-542"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-543"><span class="mrow" id="MathJax-Span-544"><span class="mo" id="MathJax-Span-545"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-546"><span class="mrow" id="MathJax-Span-547"><span class="mo" id="MathJax-Span-548"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-549"><span class="mrow" id="MathJax-Span-550"><span class="mo" id="MathJax-Span-551"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-552"><span class="mrow" id="MathJax-Span-553"><span class="mo" id="MathJax-Span-554"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-555"><span class="mrow" id="MathJax-Span-556"><span class="mo" id="MathJax-Span-557"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">方</span></span></span></span><span class="texatom" id="MathJax-Span-558"><span class="mrow" id="MathJax-Span-559"><span class="mo" id="MathJax-Span-560"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">差</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>方</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>差</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-16">Var(D_m)=基准每日收益的方差</script>
Beta值 | 解释
--------|--------
β&lt;0|投资组合和基准的走向通常反方向，如空头头寸类
β=0|投资组合和基准的走向没有相关性，如固定收益类
0&lt;β&lt;1|投资组合和基准的走向相同，但是比基准的移动幅度更小
β=1|投资组合和基准的走向相同，并且和基准的移动幅度贴近
β&gt;1|投资组合和基准的走向相同，但是比基准的移动幅度更大

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Sharpe</label>
      <label>夏普比率</label>
      <article>

表示每承受一单位总风险，会产生多少的超额报酬，可以同时对策略的收益与风险进行综合考虑。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>S</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>p</mi><mi>e</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><msub><mi>R</mi><mi>f</mi></msub></mrow><msub><mi>&amp;#x03C3;</mi><mi>p</mi></msub></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-561" role="math" style="width: 12.655em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.267em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.968em, 1000.003em, 3.661em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-562"><span class="mi" id="MathJax-Span-563" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-564" style="font-family: STIXGeneral-Italic;">h</span><span class="mi" id="MathJax-Span-565" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-566" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-567" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-568" style="font-family: STIXGeneral-Italic;">e</span><span class="mtext" id="MathJax-Span-569" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-570" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-571" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-573" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-575" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-576" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 3.356em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.474em, -999.997em); top: -4.774em; left: 50%; margin-left: -1.623em;"><span class="mrow" id="MathJax-Span-577"><span class="msubsup" id="MathJax-Span-578"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-579" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-580" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-582" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-583" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-584" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.474em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.455em;"><span class="msubsup" id="MathJax-Span-585"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-586" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-587" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 3.356em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>p</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub></mrow><msub><mi>σ</mi><mi>p</mi></msub></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-17">Sharpe\space Ratio=\frac{R_p - R_f}{\sigma_p}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-588" role="math" style="width: 9.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.082em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-589"><span class="msubsup" id="MathJax-Span-590"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-591" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-592" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-593" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-594" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-595"><span class="mo" id="MathJax-Span-596"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-597"><span class="mrow" id="MathJax-Span-598"><span class="mo" id="MathJax-Span-599"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-600"><span class="mrow" id="MathJax-Span-601"><span class="mo" id="MathJax-Span-602"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-603"><span class="mrow" id="MathJax-Span-604"><span class="mo" id="MathJax-Span-605"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-606"><span class="mrow" id="MathJax-Span-607"><span class="mo" id="MathJax-Span-608"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-609"><span class="mrow" id="MathJax-Span-610"><span class="mo" id="MathJax-Span-611"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-612"><span class="mrow" id="MathJax-Span-613"><span class="mo" id="MathJax-Span-614"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-18">R_p=策略年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x98CE;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9669;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5229;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9ED8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8BA4;</mo></mrow><mn>0.04</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-615" role="math" style="width: 14.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.385em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-616"><span class="msubsup" id="MathJax-Span-617"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-618" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-619" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-620" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-621" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-622"><span class="mo" id="MathJax-Span-623"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">无</span></span></span></span><span class="texatom" id="MathJax-Span-624"><span class="mrow" id="MathJax-Span-625"><span class="mo" id="MathJax-Span-626"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">风</span></span></span></span><span class="texatom" id="MathJax-Span-627"><span class="mrow" id="MathJax-Span-628"><span class="mo" id="MathJax-Span-629"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">险</span></span></span></span><span class="texatom" id="MathJax-Span-630"><span class="mrow" id="MathJax-Span-631"><span class="mo" id="MathJax-Span-632"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">利</span></span></span></span><span class="texatom" id="MathJax-Span-633"><span class="mrow" id="MathJax-Span-634"><span class="mo" id="MathJax-Span-635"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="texatom" id="MathJax-Span-636"><span class="mrow" id="MathJax-Span-637"><span class="mo" id="MathJax-Span-638"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-639"><span class="mrow" id="MathJax-Span-640"><span class="mo" id="MathJax-Span-641"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">默</span></span></span></span><span class="texatom" id="MathJax-Span-642"><span class="mrow" id="MathJax-Span-643"><span class="mo" id="MathJax-Span-644"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">认</span></span></span></span><span class="mn" id="MathJax-Span-645" style="font-family: STIXGeneral-Regular;">0.04</span><span class="texatom" id="MathJax-Span-646"><span class="mrow" id="MathJax-Span-647"><span class="mo" id="MathJax-Span-648"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>无</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>风</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>险</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>利</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>默</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>认</mo></mrow><mn>0.04</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-19">R_f=无风险利率（默认0.04）</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>&amp;#x03C3;</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6CE2;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x52A8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-649" role="math" style="width: 9.759em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.929em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-650"><span class="msubsup" id="MathJax-Span-651"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-652" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-653" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-654" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-655" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-656"><span class="mo" id="MathJax-Span-657"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-658"><span class="mrow" id="MathJax-Span-659"><span class="mo" id="MathJax-Span-660"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-661"><span class="mrow" id="MathJax-Span-662"><span class="mo" id="MathJax-Span-663"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-664"><span class="mrow" id="MathJax-Span-665"><span class="mo" id="MathJax-Span-666"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mo" id="MathJax-Span-669"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">波</span></span></span></span><span class="texatom" id="MathJax-Span-670"><span class="mrow" id="MathJax-Span-671"><span class="mo" id="MathJax-Span-672"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">动</span></span></span></span><span class="texatom" id="MathJax-Span-673"><span class="mrow" id="MathJax-Span-674"><span class="mo" id="MathJax-Span-675"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>σ</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>波</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>动</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-20">\sigma_p=策略收益波动率</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Sortino</label>
      <label>索提诺比率</label>
      <article>

表示每承担一单位的下行风险，将会获得多少超额回报。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>S</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>o</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><msub><mi>R</mi><mi>f</mi></msub></mrow><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>d</mi></mrow></msub></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-676" role="math" style="width: 12.757em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.368em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.968em, 1000.003em, 3.661em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-677"><span class="mi" id="MathJax-Span-678" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-679" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-680" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-681" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-682" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-684" style="font-family: STIXGeneral-Italic;">o</span><span class="mtext" id="MathJax-Span-685" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-686" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-687" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-688" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-689" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-690" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-691" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-692" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 3.356em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.474em, -999.997em); top: -4.774em; left: 50%; margin-left: -1.623em;"><span class="mrow" id="MathJax-Span-693"><span class="msubsup" id="MathJax-Span-694"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-695" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-696" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-697" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-698" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-699" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-700" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.474em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.658em;"><span class="msubsup" id="MathJax-Span-701"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-702" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="texatom" id="MathJax-Span-703"><span class="mrow" id="MathJax-Span-704"><span class="mi" id="MathJax-Span-705" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-706" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 3.356em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub></mrow><msub><mi>σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>d</mi></mrow></msub></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-21">Sortino\space Ratio=\frac{R_p - R_f}{\sigma_{pd}}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-707" role="math" style="width: 9.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.082em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-708"><span class="msubsup" id="MathJax-Span-709"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-710" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-711" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-712" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-713" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-714"><span class="mo" id="MathJax-Span-715"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-716"><span class="mrow" id="MathJax-Span-717"><span class="mo" id="MathJax-Span-718"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-719"><span class="mrow" id="MathJax-Span-720"><span class="mo" id="MathJax-Span-721"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-722"><span class="mrow" id="MathJax-Span-723"><span class="mo" id="MathJax-Span-724"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-725"><span class="mrow" id="MathJax-Span-726"><span class="mo" id="MathJax-Span-727"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-728"><span class="mrow" id="MathJax-Span-729"><span class="mo" id="MathJax-Span-730"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-731"><span class="mrow" id="MathJax-Span-732"><span class="mo" id="MathJax-Span-733"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-22">R_p=策略年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x98CE;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9669;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5229;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9ED8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8BA4;</mo></mrow><mn>0.04</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-734" role="math" style="width: 14.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.385em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-735"><span class="msubsup" id="MathJax-Span-736"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-737" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-738" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-739" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-740" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-741"><span class="mo" id="MathJax-Span-742"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">无</span></span></span></span><span class="texatom" id="MathJax-Span-743"><span class="mrow" id="MathJax-Span-744"><span class="mo" id="MathJax-Span-745"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">风</span></span></span></span><span class="texatom" id="MathJax-Span-746"><span class="mrow" id="MathJax-Span-747"><span class="mo" id="MathJax-Span-748"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">险</span></span></span></span><span class="texatom" id="MathJax-Span-749"><span class="mrow" id="MathJax-Span-750"><span class="mo" id="MathJax-Span-751"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">利</span></span></span></span><span class="texatom" id="MathJax-Span-752"><span class="mrow" id="MathJax-Span-753"><span class="mo" id="MathJax-Span-754"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="texatom" id="MathJax-Span-755"><span class="mrow" id="MathJax-Span-756"><span class="mo" id="MathJax-Span-757"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-758"><span class="mrow" id="MathJax-Span-759"><span class="mo" id="MathJax-Span-760"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">默</span></span></span></span><span class="texatom" id="MathJax-Span-761"><span class="mrow" id="MathJax-Span-762"><span class="mo" id="MathJax-Span-763"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">认</span></span></span></span><span class="mn" id="MathJax-Span-764" style="font-family: STIXGeneral-Regular;">0.04</span><span class="texatom" id="MathJax-Span-765"><span class="mrow" id="MathJax-Span-766"><span class="mo" id="MathJax-Span-767"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>无</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>风</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>险</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>利</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>默</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>认</mo></mrow><mn>0.04</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-23">R_f=无风险利率（默认0.04）</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>d</mi></mrow></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4E0B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x884C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6CE2;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x52A8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-768" role="math" style="width: 10.267em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.336em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-769"><span class="msubsup" id="MathJax-Span-770"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-771" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="texatom" id="MathJax-Span-772"><span class="mrow" id="MathJax-Span-773"><span class="mi" id="MathJax-Span-774" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-775" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-776" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-777" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-778"><span class="mo" id="MathJax-Span-779"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-780"><span class="mrow" id="MathJax-Span-781"><span class="mo" id="MathJax-Span-782"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-783"><span class="mrow" id="MathJax-Span-784"><span class="mo" id="MathJax-Span-785"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">下</span></span></span></span><span class="texatom" id="MathJax-Span-786"><span class="mrow" id="MathJax-Span-787"><span class="mo" id="MathJax-Span-788"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">行</span></span></span></span><span class="texatom" id="MathJax-Span-789"><span class="mrow" id="MathJax-Span-790"><span class="mo" id="MathJax-Span-791"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">波</span></span></span></span><span class="texatom" id="MathJax-Span-792"><span class="mrow" id="MathJax-Span-793"><span class="mo" id="MathJax-Span-794"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">动</span></span></span></span><span class="texatom" id="MathJax-Span-795"><span class="mrow" id="MathJax-Span-796"><span class="mo" id="MathJax-Span-797"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>d</mi></mrow></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>下</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>行</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>波</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>动</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-24">\sigma_{pd}=策略下行波动率</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Information Ratio</label>
      <label>信息比率</label>
      <article>

衡量单位超额风险带来的超额收益。信息比率越大，说明该策略单位跟踪误差所获得的超额收益越高，因此，信息比率较大的策略的表现要优于信息比率较低的基准。合理的投资目标应该是在承担适度风险下，尽可能追求高信息比率。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><msub><mi>R</mi><mi>m</mi></msub></mrow><msub><mi>&amp;#x03C3;</mi><mi>t</mi></msub></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-798" role="math" style="width: 15.602em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.655em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.968em, 1000.003em, 3.559em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-799"><span class="mi" id="MathJax-Span-800" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-801" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-802" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mi" id="MathJax-Span-803" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-804" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-805" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-806" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-807" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-808" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-809" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-810" style="font-family: STIXGeneral-Italic;">n</span><span class="mtext" id="MathJax-Span-811" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-812" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-813" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-814" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-815" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-816" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-817" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-818" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 3.559em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.474em, -999.997em); top: -4.774em; left: 50%; margin-left: -1.725em;"><span class="mrow" id="MathJax-Span-819"><span class="msubsup" id="MathJax-Span-820"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-821" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-822" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-823" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-824" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 1.222em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-825" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-826" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.322em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.404em;"><span class="msubsup" id="MathJax-Span-827"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-828" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-829" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 3.559em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.122em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 2.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>p</mi></msub><mo>−</mo><msub><mi>R</mi><mi>m</mi></msub></mrow><msub><mi>σ</mi><mi>t</mi></msub></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-25">Information\space Ratio=\frac{R_p - R_m}{\sigma_t}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-830" role="math" style="width: 9.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.082em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-831"><span class="msubsup" id="MathJax-Span-832"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-833" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-834" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-835" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-836" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-837"><span class="mo" id="MathJax-Span-838"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-839"><span class="mrow" id="MathJax-Span-840"><span class="mo" id="MathJax-Span-841"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-842"><span class="mrow" id="MathJax-Span-843"><span class="mo" id="MathJax-Span-844"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-845"><span class="mrow" id="MathJax-Span-846"><span class="mo" id="MathJax-Span-847"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-848"><span class="mrow" id="MathJax-Span-849"><span class="mo" id="MathJax-Span-850"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-851"><span class="mrow" id="MathJax-Span-852"><span class="mo" id="MathJax-Span-853"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-854"><span class="mrow" id="MathJax-Span-855"><span class="mo" id="MathJax-Span-856"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-26">R_p=策略年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>m</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-857" role="math" style="width: 10.165em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.234em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-858"><span class="msubsup" id="MathJax-Span-859"><span style="display: inline-block; position: relative; width: 1.222em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-860" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-861" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-862" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-863" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-864"><span class="mo" id="MathJax-Span-865"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-866"><span class="mrow" id="MathJax-Span-867"><span class="mo" id="MathJax-Span-868"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-869"><span class="mrow" id="MathJax-Span-870"><span class="mo" id="MathJax-Span-871"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-872"><span class="mrow" id="MathJax-Span-873"><span class="mo" id="MathJax-Span-874"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-875"><span class="mrow" id="MathJax-Span-876"><span class="mo" id="MathJax-Span-877"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-878"><span class="mrow" id="MathJax-Span-879"><span class="mo" id="MathJax-Span-880"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-881"><span class="mrow" id="MathJax-Span-882"><span class="mo" id="MathJax-Span-883"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>m</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-27">R_m=基准年化收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>&amp;#x03C3;</mi><mi>t</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4E0E;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5DEE;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E74;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6807;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5DEE;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-884" role="math" style="width: 19.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.907em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-885"><span class="msubsup" id="MathJax-Span-886"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-887" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-888" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-889" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-890" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-891"><span class="mo" id="MathJax-Span-892"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-893"><span class="mrow" id="MathJax-Span-894"><span class="mo" id="MathJax-Span-895"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-896"><span class="mrow" id="MathJax-Span-897"><span class="mo" id="MathJax-Span-898"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">与</span></span></span></span><span class="texatom" id="MathJax-Span-899"><span class="mrow" id="MathJax-Span-900"><span class="mo" id="MathJax-Span-901"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-902"><span class="mrow" id="MathJax-Span-903"><span class="mo" id="MathJax-Span-904"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-905"><span class="mrow" id="MathJax-Span-906"><span class="mo" id="MathJax-Span-907"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mo" id="MathJax-Span-910"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-911"><span class="mrow" id="MathJax-Span-912"><span class="mo" id="MathJax-Span-913"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-914"><span class="mrow" id="MathJax-Span-915"><span class="mo" id="MathJax-Span-916"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-917"><span class="mrow" id="MathJax-Span-918"><span class="mo" id="MathJax-Span-919"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">差</span></span></span></span><span class="texatom" id="MathJax-Span-920"><span class="mrow" id="MathJax-Span-921"><span class="mo" id="MathJax-Span-922"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-923"><span class="mrow" id="MathJax-Span-924"><span class="mo" id="MathJax-Span-925"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-926"><span class="mrow" id="MathJax-Span-927"><span class="mo" id="MathJax-Span-928"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">年</span></span></span></span><span class="texatom" id="MathJax-Span-929"><span class="mrow" id="MathJax-Span-930"><span class="mo" id="MathJax-Span-931"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-932"><span class="mrow" id="MathJax-Span-933"><span class="mo" id="MathJax-Span-934"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">标</span></span></span></span><span class="texatom" id="MathJax-Span-935"><span class="mrow" id="MathJax-Span-936"><span class="mo" id="MathJax-Span-937"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-938"><span class="mrow" id="MathJax-Span-939"><span class="mo" id="MathJax-Span-940"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">差</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>σ</mi><mi>t</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>与</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>差</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>年</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>标</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>差</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-28">\sigma_t=策略与基准每日收益差值的年化标准差</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Algorithm Volatility</label>
      <label>策略波动率</label>
      <article>

用来测量策略的风险性，波动越大代表策略风险越高。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>A</mi><mi>l</mi><mi>g</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>m</mi><mtext>&amp;#xA0;</mtext><mi>V</mi><mi>o</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>=</mo><msub><mi>&amp;#x03C3;</mi><mi>p</mi></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mrow><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mi>p</mi></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></msqrt></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-941" role="math" style="width: 25.816em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.988em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.409em, 1000.003em, 4.372em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-942"><span class="mi" id="MathJax-Span-943" style="font-family: STIXGeneral-Italic;">A</span><span class="mi" id="MathJax-Span-944" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-945" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-946" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-947" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-948" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-949" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-950" style="font-family: STIXGeneral-Italic;">h</span><span class="mi" id="MathJax-Span-951" style="font-family: STIXGeneral-Italic;">m</span><span class="mtext" id="MathJax-Span-952" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-953" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-954" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-955" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-956" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-957" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-958" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-959" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-960" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-961" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-962" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-963" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-964" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 0.917em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-965" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-966" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-967" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msqrt" id="MathJax-Span-968" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 9.149em; height: 0px;"><span style="position: absolute; clip: rect(2.238em, 1000.003em, 5.44em, -999.997em); top: -4.012em; left: 1.12em;"><span class="mrow" id="MathJax-Span-969"><span class="mfrac" id="MathJax-Span-970"><span style="display: inline-block; position: relative; width: 2.34em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.153em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-971" style="font-family: STIXGeneral-Regular;">250</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -1.115em;"><span class="mrow" id="MathJax-Span-972"><span class="mi" id="MathJax-Span-973" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-974" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="mn" id="MathJax-Span-975" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 2.34em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-976" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-977" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.271em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-978"><span class="mrow" id="MathJax-Span-979"><span class="mi" id="MathJax-Span-980" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-981" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-982" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.46em;"><span class="texatom" id="MathJax-Span-983"><span class="mrow" id="MathJax-Span-984"><span class="mi" id="MathJax-Span-985" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-986" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-987"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-988" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-989" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-990" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="texatom" id="MathJax-Span-991" style="padding-left: 0.257em;"><span class="mrow" id="MathJax-Span-992"><span class="munderover" id="MathJax-Span-993"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-994"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-995" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-996" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.257em;"><span class="mo" id="MathJax-Span-997" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-998"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-999" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -4.418em; left: 0.358em;"><span class="mn" id="MathJax-Span-1000" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.051em, 1000.003em, 3.407em, -999.997em); top: -5.18em; left: 1.12em;"><span style="display: inline-block; position: relative; width: 8.031em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 0.003em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 7.523em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.409em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.866em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.324em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.73em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.188em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.645em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.102em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.509em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.966em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.423em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.881em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.287em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.744em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.202em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.608em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 7.066em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(4.525em, 1000.003em, 8.488em, -999.997em); top: -6.654em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.351em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.709em; left: 0.003em;">⎷<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.792em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.182em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.677em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.122em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>A</mi><mi>l</mi><mi>g</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>m</mi><mtext>&nbsp;</mtext><mi>V</mi><mi>o</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>=</mo><msub><mi>σ</mi><mi>p</mi></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>r</mi><mi>p</mi></msub><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">¯</mo></mover></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup></msqrt></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-29">Algorithm\space Volatility=\sigma_p=\sqrt{\frac{250}{n-1} \sum_{i=1}^{n}(r_p-\bar{r_p})^2}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>r</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1001" role="math" style="width: 9.657em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.828em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1002"><span class="msubsup" id="MathJax-Span-1003"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1004" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1005" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1006" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1007" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1008"><span class="mo" id="MathJax-Span-1009"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1010"><span class="mrow" id="MathJax-Span-1011"><span class="mo" id="MathJax-Span-1012"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1013"><span class="mrow" id="MathJax-Span-1014"><span class="mo" id="MathJax-Span-1015"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-1016"><span class="mrow" id="MathJax-Span-1017"><span class="mo" id="MathJax-Span-1018"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1019"><span class="mrow" id="MathJax-Span-1020"><span class="mo" id="MathJax-Span-1021"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1022"><span class="mrow" id="MathJax-Span-1023"><span class="mo" id="MathJax-Span-1024"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1025"><span class="mrow" id="MathJax-Span-1026"><span class="mo" id="MathJax-Span-1027"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>r</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-30">r_p=策略每日收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mi>p</mi></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5747;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><msub><mi>r</mi><mi>p</mi></msub></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1028" role="math" style="width: 19.311em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.704em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.765em, 1000.003em, 3.966em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1029"><span class="texatom" id="MathJax-Span-1030"><span class="mrow" id="MathJax-Span-1031"><span class="munderover" id="MathJax-Span-1032"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1033"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1034" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1035" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.257em;"><span class="mo" id="MathJax-Span-1036" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1037" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1038" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1039"><span class="mo" id="MathJax-Span-1040"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1041"><span class="mrow" id="MathJax-Span-1042"><span class="mo" id="MathJax-Span-1043"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1044"><span class="mrow" id="MathJax-Span-1045"><span class="mo" id="MathJax-Span-1046"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-1047"><span class="mrow" id="MathJax-Span-1048"><span class="mo" id="MathJax-Span-1049"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1050"><span class="mrow" id="MathJax-Span-1051"><span class="mo" id="MathJax-Span-1052"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1053"><span class="mrow" id="MathJax-Span-1054"><span class="mo" id="MathJax-Span-1055"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1056"><span class="mrow" id="MathJax-Span-1057"><span class="mo" id="MathJax-Span-1058"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="texatom" id="MathJax-Span-1059"><span class="mrow" id="MathJax-Span-1060"><span class="mo" id="MathJax-Span-1061"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1062"><span class="mrow" id="MathJax-Span-1063"><span class="mo" id="MathJax-Span-1064"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">平</span></span></span></span><span class="texatom" id="MathJax-Span-1065"><span class="mrow" id="MathJax-Span-1066"><span class="mo" id="MathJax-Span-1067"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">均</span></span></span></span><span class="texatom" id="MathJax-Span-1068"><span class="mrow" id="MathJax-Span-1069"><span class="mo" id="MathJax-Span-1070"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="mo" id="MathJax-Span-1071" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1072" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 0.612em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.252em;"><span class="mn" id="MathJax-Span-1073" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.252em;"><span class="mi" id="MathJax-Span-1074" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.612em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1075" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1076" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.271em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-1077"><span class="mrow" id="MathJax-Span-1078"><span class="mi" id="MathJax-Span-1079" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1080" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1081" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.46em;"><span class="texatom" id="MathJax-Span-1082"><span class="mrow" id="MathJax-Span-1083"><span class="mi" id="MathJax-Span-1084" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1085" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1086" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1087" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.622em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">¯</mo></mover></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>平</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>均</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><msub><mi>r</mi><mi>p</mi></msub></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-31">\bar{r_p}=策略每日收益率的平均值=\frac{1}{n} \sum_{i=1}^{n}r_p</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>n</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6267;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x884C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5929;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1088" role="math" style="width: 8.285em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.71em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1089"><span class="mi" id="MathJax-Span-1090" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-1091" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1092" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1093"><span class="mo" id="MathJax-Span-1094"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1095"><span class="mrow" id="MathJax-Span-1096"><span class="mo" id="MathJax-Span-1097"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1098"><span class="mrow" id="MathJax-Span-1099"><span class="mo" id="MathJax-Span-1100"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">执</span></span></span></span><span class="texatom" id="MathJax-Span-1101"><span class="mrow" id="MathJax-Span-1102"><span class="mo" id="MathJax-Span-1103"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">行</span></span></span></span><span class="texatom" id="MathJax-Span-1104"><span class="mrow" id="MathJax-Span-1105"><span class="mo" id="MathJax-Span-1106"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">天</span></span></span></span><span class="texatom" id="MathJax-Span-1107"><span class="mrow" id="MathJax-Span-1108"><span class="mo" id="MathJax-Span-1109"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>n</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>执</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>行</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>天</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-32">n=策略执行天数</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Benchmark Volatility</label>
      <label>基准波动率</label>
      <article>

用来测量基准的风险性，波动越大代表基准风险越高。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>B</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>k</mi><mtext>&amp;#xA0;</mtext><mi>V</mi><mi>o</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>=</mo><msub><mi>&amp;#x03C3;</mi><mi>m</mi></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mrow><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mi>m</mi></msub><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></msqrt></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1110" role="math" style="width: 27.035em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.954em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.409em, 1000.003em, 4.372em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1111"><span class="mi" id="MathJax-Span-1112" style="font-family: STIXGeneral-Italic;">B</span><span class="mi" id="MathJax-Span-1113" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-1114" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-1115" style="font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-1116" style="font-family: STIXGeneral-Italic;">h</span><span class="mi" id="MathJax-Span-1117" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-1118" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-1119" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1120" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-1121" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-1122" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mi" id="MathJax-Span-1123" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1124" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1125" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-1126" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1127" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1128" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1129" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1130" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1131" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-1132" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-1133" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1134" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="mi" id="MathJax-Span-1135" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1136" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msqrt" id="MathJax-Span-1137" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 9.454em; height: 0px;"><span style="position: absolute; clip: rect(2.238em, 1000.003em, 5.44em, -999.997em); top: -4.012em; left: 1.12em;"><span class="mrow" id="MathJax-Span-1138"><span class="mfrac" id="MathJax-Span-1139"><span style="display: inline-block; position: relative; width: 2.34em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.153em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-1140" style="font-family: STIXGeneral-Regular;">250</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -1.115em;"><span class="mrow" id="MathJax-Span-1141"><span class="mi" id="MathJax-Span-1142" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-1143" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="mn" id="MathJax-Span-1144" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 2.34em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1145" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1146" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.271em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-1147"><span class="mrow" id="MathJax-Span-1148"><span class="mi" id="MathJax-Span-1149" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1150" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1151" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.46em;"><span class="texatom" id="MathJax-Span-1152"><span class="mrow" id="MathJax-Span-1153"><span class="mi" id="MathJax-Span-1154" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1155" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1156"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1157" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1158" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1159" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="texatom" id="MathJax-Span-1160" style="padding-left: 0.257em;"><span class="mrow" id="MathJax-Span-1161"><span class="munderover" id="MathJax-Span-1162"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1163"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1164" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1165" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.307em;"><span class="mo" id="MathJax-Span-1166" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-1167"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1168" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -4.418em; left: 0.358em;"><span class="mn" id="MathJax-Span-1169" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.051em, 1000.003em, 3.407em, -999.997em); top: -5.18em; left: 1.12em;"><span style="display: inline-block; position: relative; width: 8.336em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 0.003em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 7.828em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.409em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.866em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.273em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.73em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.137em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.594em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.051em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.458em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.915em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.322em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.779em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.185em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.643em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.1em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.507em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.964em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 7.37em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(4.525em, 1000.003em, 8.488em, -999.997em); top: -6.654em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.351em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.709em; left: 0.003em;">⎷<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.792em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.182em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.677em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.122em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>B</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>k</mi><mtext>&nbsp;</mtext><mi>V</mi><mi>o</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>=</mo><msub><mi>σ</mi><mi>m</mi></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>r</mi><mi>m</mi></msub><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mi>m</mi></msub><mo stretchy="false">¯</mo></mover></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup></msqrt></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-33">Benchmark\space Volatility=\sigma_m=\sqrt{\frac{250}{n-1} \sum_{i=1}^{n}(r_m-\bar{r_m})^2}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>r</mi><mi>m</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1170" role="math" style="width: 9.809em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.98em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1171"><span class="msubsup" id="MathJax-Span-1172"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1173" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1174" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1175" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1176" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1177"><span class="mo" id="MathJax-Span-1178"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-1179"><span class="mrow" id="MathJax-Span-1180"><span class="mo" id="MathJax-Span-1181"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-1182"><span class="mrow" id="MathJax-Span-1183"><span class="mo" id="MathJax-Span-1184"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-1185"><span class="mrow" id="MathJax-Span-1186"><span class="mo" id="MathJax-Span-1187"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1188"><span class="mrow" id="MathJax-Span-1189"><span class="mo" id="MathJax-Span-1190"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1191"><span class="mrow" id="MathJax-Span-1192"><span class="mo" id="MathJax-Span-1193"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1194"><span class="mrow" id="MathJax-Span-1195"><span class="mo" id="MathJax-Span-1196"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>r</mi><mi>m</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-34">r_m=基准每日收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mi>m</mi></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5747;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><msub><mi>r</mi><mi>m</mi></msub></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1197" role="math" style="width: 19.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.009em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.765em, 1000.003em, 3.966em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1198"><span class="texatom" id="MathJax-Span-1199"><span class="mrow" id="MathJax-Span-1200"><span class="munderover" id="MathJax-Span-1201"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1202"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1203" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1204" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.307em;"><span class="mo" id="MathJax-Span-1205" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1206" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1207" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1208"><span class="mo" id="MathJax-Span-1209"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-1210"><span class="mrow" id="MathJax-Span-1211"><span class="mo" id="MathJax-Span-1212"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-1213"><span class="mrow" id="MathJax-Span-1214"><span class="mo" id="MathJax-Span-1215"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-1216"><span class="mrow" id="MathJax-Span-1217"><span class="mo" id="MathJax-Span-1218"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1219"><span class="mrow" id="MathJax-Span-1220"><span class="mo" id="MathJax-Span-1221"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1222"><span class="mrow" id="MathJax-Span-1223"><span class="mo" id="MathJax-Span-1224"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1225"><span class="mrow" id="MathJax-Span-1226"><span class="mo" id="MathJax-Span-1227"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="texatom" id="MathJax-Span-1228"><span class="mrow" id="MathJax-Span-1229"><span class="mo" id="MathJax-Span-1230"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1231"><span class="mrow" id="MathJax-Span-1232"><span class="mo" id="MathJax-Span-1233"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">平</span></span></span></span><span class="texatom" id="MathJax-Span-1234"><span class="mrow" id="MathJax-Span-1235"><span class="mo" id="MathJax-Span-1236"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">均</span></span></span></span><span class="texatom" id="MathJax-Span-1237"><span class="mrow" id="MathJax-Span-1238"><span class="mo" id="MathJax-Span-1239"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="mo" id="MathJax-Span-1240" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1241" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 0.612em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.252em;"><span class="mn" id="MathJax-Span-1242" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.252em;"><span class="mi" id="MathJax-Span-1243" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.612em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1244" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1245" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.271em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-1246"><span class="mrow" id="MathJax-Span-1247"><span class="mi" id="MathJax-Span-1248" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1249" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1250" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.46em;"><span class="texatom" id="MathJax-Span-1251"><span class="mrow" id="MathJax-Span-1252"><span class="mi" id="MathJax-Span-1253" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1254" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 0.968em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1255" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1256" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.622em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mi>m</mi></msub><mo stretchy="false">¯</mo></mover></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>平</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>均</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><msub><mi>r</mi><mi>m</mi></msub></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-35">\bar{r_m}=基准每日收益率的平均值=\frac{1}{n} \sum_{i=1}^{n}r_m</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>n</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6267;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x884C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5929;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1257" role="math" style="width: 8.285em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.71em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1258"><span class="mi" id="MathJax-Span-1259" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-1260" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1261" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1262"><span class="mo" id="MathJax-Span-1263"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-1264"><span class="mrow" id="MathJax-Span-1265"><span class="mo" id="MathJax-Span-1266"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-1267"><span class="mrow" id="MathJax-Span-1268"><span class="mo" id="MathJax-Span-1269"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">执</span></span></span></span><span class="texatom" id="MathJax-Span-1270"><span class="mrow" id="MathJax-Span-1271"><span class="mo" id="MathJax-Span-1272"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">行</span></span></span></span><span class="texatom" id="MathJax-Span-1273"><span class="mrow" id="MathJax-Span-1274"><span class="mo" id="MathJax-Span-1275"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">天</span></span></span></span><span class="texatom" id="MathJax-Span-1276"><span class="mrow" id="MathJax-Span-1277"><span class="mo" id="MathJax-Span-1278"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>n</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>执</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>行</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>天</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-36">n=基准执行天数</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Max Drawdown</label>
      <label>最大回撤</label>
      <article>

描述策略可能出现的最糟糕的情况，最极端可能的亏损情况。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mi>a</mi><mi>x</mi><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>r</mi><mi>a</mi><mi>w</mi><mi>d</mi><mi>o</mi><mi>w</mi><mi>n</mi><mo>=</mo><mi>M</mi><mi>a</mi><mi>x</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mi>x</mi></msub><mo>&amp;#x2212;</mo><msub><mi>P</mi><mi>y</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msub><mi>P</mi><mi>x</mi></msub></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1279" role="math" style="width: 18.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.094em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.73em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1280"><span class="mi" id="MathJax-Span-1281" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-1282" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-1283" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-1284" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-1285" style="font-family: STIXGeneral-Italic;">D</span><span class="mi" id="MathJax-Span-1286" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1287" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-1288" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-1289" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-1290" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1291" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-1292" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-1293" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mi" id="MathJax-Span-1294" style="font-family: STIXGeneral-Italic; padding-left: 0.307em;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-1295" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-1296" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1297" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1298"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1299" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-1300" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1301" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="msubsup" id="MathJax-Span-1302" style="padding-left: 0.257em;"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1303" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-1304" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1305" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1306"><span class="mrow" id="MathJax-Span-1307"><span class="mo" id="MathJax-Span-1308" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="msubsup" id="MathJax-Span-1309"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1310" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-1311" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mi>a</mi><mi>x</mi><mtext>&nbsp;</mtext><mi>D</mi><mi>r</mi><mi>a</mi><mi>w</mi><mi>d</mi><mi>o</mi><mi>w</mi><mi>n</mi><mo>=</mo><mi>M</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>x</mi></msub><mo>−</mo><msub><mi>P</mi><mi>y</mi></msub><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msub><mi>P</mi><mi>x</mi></msub></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-37">Max\space Drawdown=Max(P_x-P_y)/P_x</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mi>x</mi></msub><mo>,</mo><msub><mi>P</mi><mi>y</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x67D0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x80A1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7968;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x548C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x73B0;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x91D1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EF7;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x503C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>y</mi><mo>&amp;gt;</mo><mi>x</mi></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1312" role="math" style="width: 21.446em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.431em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1313"><span class="msubsup" id="MathJax-Span-1314"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1315" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-1316" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1317" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1318" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1319" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.612em;"><span class="mi" id="MathJax-Span-1320" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1321" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1322" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1323"><span class="mo" id="MathJax-Span-1324"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1325"><span class="mrow" id="MathJax-Span-1326"><span class="mo" id="MathJax-Span-1327"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1328"><span class="mrow" id="MathJax-Span-1329"><span class="mo" id="MathJax-Span-1330"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-1331"><span class="mrow" id="MathJax-Span-1332"><span class="mo" id="MathJax-Span-1333"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1334"><span class="mrow" id="MathJax-Span-1335"><span class="mo" id="MathJax-Span-1336"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">股</span></span></span></span><span class="texatom" id="MathJax-Span-1337"><span class="mrow" id="MathJax-Span-1338"><span class="mo" id="MathJax-Span-1339"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-1340"><span class="mrow" id="MathJax-Span-1341"><span class="mo" id="MathJax-Span-1342"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="texatom" id="MathJax-Span-1343"><span class="mrow" id="MathJax-Span-1344"><span class="mo" id="MathJax-Span-1345"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1346"><span class="mrow" id="MathJax-Span-1347"><span class="mo" id="MathJax-Span-1348"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">金</span></span></span></span><span class="texatom" id="MathJax-Span-1349"><span class="mrow" id="MathJax-Span-1350"><span class="mo" id="MathJax-Span-1351"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1352"><span class="mrow" id="MathJax-Span-1353"><span class="mo" id="MathJax-Span-1354"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-1355"><span class="mrow" id="MathJax-Span-1356"><span class="mo" id="MathJax-Span-1357"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">价</span></span></span></span><span class="texatom" id="MathJax-Span-1358"><span class="mrow" id="MathJax-Span-1359"><span class="mo" id="MathJax-Span-1360"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1361"><span class="mrow" id="MathJax-Span-1362"><span class="mo" id="MathJax-Span-1363"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mi" id="MathJax-Span-1364" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-1365" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">&gt;</span><span class="mi" id="MathJax-Span-1366" style="font-family: STIXGeneral-Italic; padding-left: 0.307em;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mi>x</mi></msub><mo>,</mo><msub><mi>P</mi><mi>y</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>某</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>股</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>票</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>和</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>现</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>金</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>价</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>值</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>y</mi><mo>&gt;</mo><mi>x</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-38">P_x,P_y=策略某日股票和现金的总价值，y>x</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>Downside Risk</label>
      <label>下行波动率</label>
      <article>

策略收益下行波动率。和普通收益波动率相比，下行标准差区分了好的和坏的波动。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>D</mi><mi>o</mi><mi>w</mi><mi>n</mi><mi>s</mi><mi>i</mi><mi>d</mi><mi>e</mi><mtext>&amp;#xA0;</mtext><mi>R</mi><mi>i</mi><mi>s</mi><mi>k</mi><mo>=</mo><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>d</mi></mrow></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mi>n</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mi>p</mi></msub><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></msqrt></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1367" role="math" style="width: 24.748em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.124em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.409em, 1000.003em, 4.372em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1368"><span class="mi" id="MathJax-Span-1369" style="font-family: STIXGeneral-Italic;">D</span><span class="mi" id="MathJax-Span-1370" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1371" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-1372" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-1373" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-1374" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1375" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-1376" style="font-family: STIXGeneral-Italic;">e</span><span class="mtext" id="MathJax-Span-1377" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-1378" style="font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-1379" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1380" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-1381" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1382" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msubsup" id="MathJax-Span-1383" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 1.324em; height: 0px;"><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1384" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.511em;"><span class="texatom" id="MathJax-Span-1385"><span class="mrow" id="MathJax-Span-1386"><span class="mi" id="MathJax-Span-1387" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-1388" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1389" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="msqrt" id="MathJax-Span-1390" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 10.013em; height: 0px;"><span style="position: absolute; clip: rect(2.238em, 1000.003em, 5.44em, -999.997em); top: -4.012em; left: 1.12em;"><span class="mrow" id="MathJax-Span-1391"><span class="mfrac" id="MathJax-Span-1392"><span style="display: inline-block; position: relative; width: 1.629em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.153em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-1393" style="font-family: STIXGeneral-Regular;">250</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.252em;"><span class="mi" id="MathJax-Span-1394" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 1.629em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1395" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1396" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.271em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-1397"><span class="mrow" id="MathJax-Span-1398"><span class="mi" id="MathJax-Span-1399" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1400" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1401" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.458em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.46em;"><span class="texatom" id="MathJax-Span-1402"><span class="mrow" id="MathJax-Span-1403"><span class="mi" id="MathJax-Span-1404" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1405" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1406"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1407" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1408" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1409" style="font-family: STIXGeneral-Regular; padding-left: 0.257em;">−</span><span class="texatom" id="MathJax-Span-1410" style="padding-left: 0.257em;"><span class="mrow" id="MathJax-Span-1411"><span class="munderover" id="MathJax-Span-1412"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1413"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1414" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="texatom" id="MathJax-Span-1415"><span class="mrow" id="MathJax-Span-1416"><span class="mi" id="MathJax-Span-1417" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-1418" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.358em;"><span class="mo" id="MathJax-Span-1419" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-1420"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.322em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1421" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -4.418em; left: 0.358em;"><span class="mn" id="MathJax-Span-1422" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mi" id="MathJax-Span-1423" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mo" id="MathJax-Span-1424" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1425" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1426" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.051em, 1000.003em, 3.407em, -999.997em); top: -5.18em; left: 1.12em;"><span style="display: inline-block; position: relative; width: 8.895em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 0.003em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -4.012em; left: 8.387em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.409em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 0.866em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.324em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 1.73em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.188em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 2.645em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.102em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.509em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 3.966em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.423em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 4.83em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.287em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 5.744em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.202em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 6.608em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 7.066em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 7.523em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -4.012em; left: 7.98em;">‾<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(4.525em, 1000.003em, 8.488em, -999.997em); top: -6.654em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.171em; height: 0px;"><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.351em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.709em; left: 0.003em;">⎷<span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.792em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.182em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.677em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.122em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>D</mi><mi>o</mi><mi>w</mi><mi>n</mi><mi>s</mi><mi>i</mi><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>R</mi><mi>i</mi><mi>s</mi><mi>k</mi><mo>=</mo><msub><mi>σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>d</mi></mrow></msub><mo>=</mo><msqrt><mfrac><mn>250</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>r</mi><mi>p</mi></msub><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy="false">¯</mo></mover></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></msqrt></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-39">Downside\space Risk=\sigma_{pd}=\sqrt{\frac{250}{n} \sum_{i=1}^{n}(r_p - \bar{r_{pi}})^2 f(t)}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>r</mi><mi>p</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BCF;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1427" role="math" style="width: 9.657em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.828em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1428"><span class="msubsup" id="MathJax-Span-1429"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1430" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1431" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1432" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1433" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1434"><span class="mo" id="MathJax-Span-1435"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1436"><span class="mrow" id="MathJax-Span-1437"><span class="mo" id="MathJax-Span-1438"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1439"><span class="mrow" id="MathJax-Span-1440"><span class="mo" id="MathJax-Span-1441"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-1442"><span class="mrow" id="MathJax-Span-1443"><span class="mo" id="MathJax-Span-1444"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1445"><span class="mrow" id="MathJax-Span-1446"><span class="mo" id="MathJax-Span-1447"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1448"><span class="mrow" id="MathJax-Span-1449"><span class="mo" id="MathJax-Span-1450"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1451"><span class="mrow" id="MathJax-Span-1452"><span class="mo" id="MathJax-Span-1453"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.503em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>r</mi><mi>p</mi></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>每</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-40">r_p=策略每日收益率</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x81F3;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B2C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5E73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5747;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>i</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></munderover><msub><mi>r</mi><mi>j</mi></msub></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1454" role="math" style="width: 18.753em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.246em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.612em, 1000.003em, 4.068em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1455"><span class="texatom" id="MathJax-Span-1456"><span class="mrow" id="MathJax-Span-1457"><span class="munderover" id="MathJax-Span-1458"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1459"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1460" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="texatom" id="MathJax-Span-1461"><span class="mrow" id="MathJax-Span-1462"><span class="mi" id="MathJax-Span-1463" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-1464" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.358em;"><span class="mo" id="MathJax-Span-1465" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1466" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1467" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1468"><span class="mo" id="MathJax-Span-1469"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1470"><span class="mrow" id="MathJax-Span-1471"><span class="mo" id="MathJax-Span-1472"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1473"><span class="mrow" id="MathJax-Span-1474"><span class="mo" id="MathJax-Span-1475"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">至</span></span></span></span><span class="texatom" id="MathJax-Span-1476"><span class="mrow" id="MathJax-Span-1477"><span class="mo" id="MathJax-Span-1478"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">第</span></span></span></span><span class="mi" id="MathJax-Span-1479" style="font-family: STIXGeneral-Italic;">i</span><span class="texatom" id="MathJax-Span-1480"><span class="mrow" id="MathJax-Span-1481"><span class="mo" id="MathJax-Span-1482"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1483"><span class="mrow" id="MathJax-Span-1484"><span class="mo" id="MathJax-Span-1485"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">平</span></span></span></span><span class="texatom" id="MathJax-Span-1486"><span class="mrow" id="MathJax-Span-1487"><span class="mo" id="MathJax-Span-1488"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">均</span></span></span></span><span class="texatom" id="MathJax-Span-1489"><span class="mrow" id="MathJax-Span-1490"><span class="mo" id="MathJax-Span-1491"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1492"><span class="mrow" id="MathJax-Span-1493"><span class="mo" id="MathJax-Span-1494"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1495"><span class="mrow" id="MathJax-Span-1496"><span class="mo" id="MathJax-Span-1497"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="mo" id="MathJax-Span-1498" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1499" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 0.612em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -4.672em; left: 50%; margin-left: -0.252em;"><span class="mn" id="MathJax-Span-1500" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.204em, 1000.003em, 4.169em, -999.997em); top: -3.351em; left: 50%; margin-left: -0.15em;"><span class="mi" id="MathJax-Span-1501" style="font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.612em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1502" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 1.273em; height: 0px;"><span style="position: absolute; clip: rect(2.899em, 1000.003em, 4.627em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mo" id="MathJax-Span-1503" style="font-family: STIXSizeOneSym; vertical-align: -0.506em;">∑</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.423em, -999.997em); top: -2.843em; left: 0.155em;"><span class="texatom" id="MathJax-Span-1504"><span class="mrow" id="MathJax-Span-1505"><span class="mi" id="MathJax-Span-1506" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1507" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1508" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.305em, 1000.003em, 4.169em, -999.997em); top: -5.231em; left: 0.561em;"><span class="texatom" id="MathJax-Span-1509"><span class="mrow" id="MathJax-Span-1510"><span class="mi" id="MathJax-Span-1511" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1512" style="padding-left: 0.206em;"><span style="display: inline-block; position: relative; width: 0.663em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1513" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1514" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.747em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy="false">¯</mo></mover></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>至</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>第</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>平</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>均</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mi>i</mi></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></munderover><msub><mi>r</mi><mi>j</mi></msub></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-41">\bar{r_{pi}}=策略至第i日平均收益率=\frac{1}{i} \sum_{j=1}^{i}r_j</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>n</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6267;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x884C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5929;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1515" role="math" style="width: 8.285em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.71em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.578em, 1000.003em, 2.899em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1516"><span class="mi" id="MathJax-Span-1517" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-1518" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="texatom" id="MathJax-Span-1519" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1520"><span class="mo" id="MathJax-Span-1521"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1522"><span class="mrow" id="MathJax-Span-1523"><span class="mo" id="MathJax-Span-1524"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1525"><span class="mrow" id="MathJax-Span-1526"><span class="mo" id="MathJax-Span-1527"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">执</span></span></span></span><span class="texatom" id="MathJax-Span-1528"><span class="mrow" id="MathJax-Span-1529"><span class="mo" id="MathJax-Span-1530"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">行</span></span></span></span><span class="texatom" id="MathJax-Span-1531"><span class="mrow" id="MathJax-Span-1532"><span class="mo" id="MathJax-Span-1533"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">天</span></span></span></span><span class="texatom" id="MathJax-Span-1534"><span class="mrow" id="MathJax-Span-1535"><span class="mo" id="MathJax-Span-1536"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>n</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>执</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>行</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>天</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-42">n=策略执行天数</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>f</mi><mtext>&amp;#xA0;</mtext><msub><mi>r</mi><mi>p</mi></msub><mo>&amp;lt;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1537" role="math" style="width: 9.403em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.624em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.73em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1538"><span class="mi" id="MathJax-Span-1539" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mo" id="MathJax-Span-1540" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1541" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1542" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1543" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mn" id="MathJax-Span-1544" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">1</span><span class="mtext" id="MathJax-Span-1545" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-1546" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1547" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mtext" id="MathJax-Span-1548" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="msubsup" id="MathJax-Span-1549"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1550" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1551" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1552" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">&lt;</span><span class="texatom" id="MathJax-Span-1553" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1554"><span class="munderover" id="MathJax-Span-1555"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1556"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1557" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="texatom" id="MathJax-Span-1558"><span class="mrow" id="MathJax-Span-1559"><span class="mi" id="MathJax-Span-1560" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-1561" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.358em;"><span class="mo" id="MathJax-Span-1562" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mtext>&nbsp;</mtext><mi>i</mi><mi>f</mi><mtext>&nbsp;</mtext><msub><mi>r</mi><mi>p</mi></msub><mo>&lt;</mo><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy="false">¯</mo></mover></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-43">f(t)=1\space if \space r_p< \bar{r_{pi}}</script><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>f</mi><mtext>&amp;#xA0;</mtext><msub><mi>r</mi><mi>p</mi></msub><mo>&amp;gt;=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy=&quot;false&quot;>&amp;#x00AF;</mo></mover></mrow></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1563" role="math" style="width: 10.267em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.336em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.73em, 1000.003em, 3.001em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1564"><span class="mi" id="MathJax-Span-1565" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mo" id="MathJax-Span-1566" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1567" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1568" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1569" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mn" id="MathJax-Span-1570" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">0</span><span class="mtext" id="MathJax-Span-1571" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mi" id="MathJax-Span-1572" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-1573" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.155em;"></span></span><span class="mtext" id="MathJax-Span-1574" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="msubsup" id="MathJax-Span-1575"><span style="display: inline-block; position: relative; width: 0.816em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1576" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="mi" id="MathJax-Span-1577" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span class="mo" id="MathJax-Span-1578" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">&gt;<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">=</span></span><span class="texatom" id="MathJax-Span-1579" style="padding-left: 0.307em;"><span class="mrow" id="MathJax-Span-1580"><span class="munderover" id="MathJax-Span-1581"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.474em, -999.997em); top: -4.012em; left: 0.003em;"><span class="msubsup" id="MathJax-Span-1582"><span style="display: inline-block; position: relative; width: 1.019em; height: 0px;"><span style="position: absolute; clip: rect(3.407em, 1000.003em, 4.169em, -999.997em); top: -4.012em; left: 0.003em;"><span class="mi" id="MathJax-Span-1583" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; top: -3.859em; left: 0.409em;"><span class="texatom" id="MathJax-Span-1584"><span class="mrow" id="MathJax-Span-1585"><span class="mi" id="MathJax-Span-1586" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-1587" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span><span style="position: absolute; clip: rect(3.255em, 1000.003em, 3.61em, -999.997em); top: -4.012em; left: 0.358em;"><span class="mo" id="MathJax-Span-1588" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.017em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mtext>&nbsp;</mtext><mi>i</mi><mi>f</mi><mtext>&nbsp;</mtext><msub><mi>r</mi><mi>p</mi></msub><mo>&gt;=</mo><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>i</mi></mrow></msub><mo stretchy="false">¯</mo></mover></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-44">f(t)=0\space if \space r_p>=\bar{r_{pi}}</script>


      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>胜率</label>
      <label>胜率(%)</label>
      <article>

盈利次数在总交易次数中的占比。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x80DC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mo>=</mo><mfrac><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76C8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5229;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EA4;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6613;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6B21;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></mrow><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EA4;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6613;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6B21;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></mrow></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1589" role="math" style="width: 10.013em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.133em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.917em, 1000.003em, 3.661em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1590"><span class="texatom" id="MathJax-Span-1591"><span class="mrow" id="MathJax-Span-1592"><span class="mo" id="MathJax-Span-1593"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">胜</span></span></span></span><span class="texatom" id="MathJax-Span-1594"><span class="mrow" id="MathJax-Span-1595"><span class="mo" id="MathJax-Span-1596"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="mo" id="MathJax-Span-1597" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1598" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 4.982em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -2.995em; left: 50%; margin-left: -2.436em;"><span class="mrow" id="MathJax-Span-1599"><span class="texatom" id="MathJax-Span-1600"><span class="mrow" id="MathJax-Span-1601"><span class="mo" id="MathJax-Span-1602"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">盈</span></span></span></span><span class="texatom" id="MathJax-Span-1603"><span class="mrow" id="MathJax-Span-1604"><span class="mo" id="MathJax-Span-1605"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">利</span></span></span></span><span class="texatom" id="MathJax-Span-1606"><span class="mrow" id="MathJax-Span-1607"><span class="mo" id="MathJax-Span-1608"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">交</span></span></span></span><span class="texatom" id="MathJax-Span-1609"><span class="mrow" id="MathJax-Span-1610"><span class="mo" id="MathJax-Span-1611"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">易</span></span></span></span><span class="texatom" id="MathJax-Span-1612"><span class="mrow" id="MathJax-Span-1613"><span class="mo" id="MathJax-Span-1614"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1615"><span class="mrow" id="MathJax-Span-1616"><span class="mo" id="MathJax-Span-1617"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -1.573em; left: 50%; margin-left: -2.03em;"><span class="mrow" id="MathJax-Span-1618"><span class="texatom" id="MathJax-Span-1619"><span class="mrow" id="MathJax-Span-1620"><span class="mo" id="MathJax-Span-1621"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-1622"><span class="mrow" id="MathJax-Span-1623"><span class="mo" id="MathJax-Span-1624"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">交</span></span></span></span><span class="texatom" id="MathJax-Span-1625"><span class="mrow" id="MathJax-Span-1626"><span class="mo" id="MathJax-Span-1627"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">易</span></span></span></span><span class="texatom" id="MathJax-Span-1628"><span class="mrow" id="MathJax-Span-1629"><span class="mo" id="MathJax-Span-1630"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1631"><span class="mrow" id="MathJax-Span-1632"><span class="mo" id="MathJax-Span-1633"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 4.982em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo>胜</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mo>=</mo><mfrac><mrow><mrow class="MJX-TeXAtom-ORD"><mo>盈</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>利</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>交</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>易</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>次</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></mrow><mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>交</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>易</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>次</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-45">胜率 = \frac{盈利交易次数}{总交易次数}</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>日胜率</label>
      <label>日胜率(%)</label>
      <article>

策略盈利超过基准盈利的天数在总交易数中的占比。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x80DC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7387;</mo></mrow><mo>=</mo><mfrac><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5F53;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7B56;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7565;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8DD1;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8D62;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5F53;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x57FA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x51C6;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6536;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7684;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5929;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></mrow><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EA4;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6613;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x65E5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6570;</mo></mrow></mrow></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1634" role="math" style="width: 22.005em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.889em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.917em, 1000.003em, 3.661em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1635"><span class="texatom" id="MathJax-Span-1636"><span class="mrow" id="MathJax-Span-1637"><span class="mo" id="MathJax-Span-1638"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1639"><span class="mrow" id="MathJax-Span-1640"><span class="mo" id="MathJax-Span-1641"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">胜</span></span></span></span><span class="texatom" id="MathJax-Span-1642"><span class="mrow" id="MathJax-Span-1643"><span class="mo" id="MathJax-Span-1644"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="mo" id="MathJax-Span-1645" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1646" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 13.925em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -2.995em; left: 50%; margin-left: -6.908em;"><span class="mrow" id="MathJax-Span-1647"><span class="texatom" id="MathJax-Span-1648"><span class="mrow" id="MathJax-Span-1649"><span class="mo" id="MathJax-Span-1650"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">当</span></span></span></span><span class="texatom" id="MathJax-Span-1651"><span class="mrow" id="MathJax-Span-1652"><span class="mo" id="MathJax-Span-1653"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1654"><span class="mrow" id="MathJax-Span-1655"><span class="mo" id="MathJax-Span-1656"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">策</span></span></span></span><span class="texatom" id="MathJax-Span-1657"><span class="mrow" id="MathJax-Span-1658"><span class="mo" id="MathJax-Span-1659"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">略</span></span></span></span><span class="texatom" id="MathJax-Span-1660"><span class="mrow" id="MathJax-Span-1661"><span class="mo" id="MathJax-Span-1662"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1663"><span class="mrow" id="MathJax-Span-1664"><span class="mo" id="MathJax-Span-1665"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1666"><span class="mrow" id="MathJax-Span-1667"><span class="mo" id="MathJax-Span-1668"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">跑</span></span></span></span><span class="texatom" id="MathJax-Span-1669"><span class="mrow" id="MathJax-Span-1670"><span class="mo" id="MathJax-Span-1671"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">赢</span></span></span></span><span class="texatom" id="MathJax-Span-1672"><span class="mrow" id="MathJax-Span-1673"><span class="mo" id="MathJax-Span-1674"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">当</span></span></span></span><span class="texatom" id="MathJax-Span-1675"><span class="mrow" id="MathJax-Span-1676"><span class="mo" id="MathJax-Span-1677"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1678"><span class="mrow" id="MathJax-Span-1679"><span class="mo" id="MathJax-Span-1680"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">基</span></span></span></span><span class="texatom" id="MathJax-Span-1681"><span class="mrow" id="MathJax-Span-1682"><span class="mo" id="MathJax-Span-1683"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-1684"><span class="mrow" id="MathJax-Span-1685"><span class="mo" id="MathJax-Span-1686"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-1687"><span class="mrow" id="MathJax-Span-1688"><span class="mo" id="MathJax-Span-1689"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">益</span></span></span></span><span class="texatom" id="MathJax-Span-1690"><span class="mrow" id="MathJax-Span-1691"><span class="mo" id="MathJax-Span-1692"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1693"><span class="mrow" id="MathJax-Span-1694"><span class="mo" id="MathJax-Span-1695"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">天</span></span></span></span><span class="texatom" id="MathJax-Span-1696"><span class="mrow" id="MathJax-Span-1697"><span class="mo" id="MathJax-Span-1698"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -1.573em; left: 50%; margin-left: -2.03em;"><span class="mrow" id="MathJax-Span-1699"><span class="texatom" id="MathJax-Span-1700"><span class="mrow" id="MathJax-Span-1701"><span class="mo" id="MathJax-Span-1702"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-1703"><span class="mrow" id="MathJax-Span-1704"><span class="mo" id="MathJax-Span-1705"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">交</span></span></span></span><span class="texatom" id="MathJax-Span-1706"><span class="mrow" id="MathJax-Span-1707"><span class="mo" id="MathJax-Span-1708"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">易</span></span></span></span><span class="texatom" id="MathJax-Span-1709"><span class="mrow" id="MathJax-Span-1710"><span class="mo" id="MathJax-Span-1711"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">日</span></span></span></span><span class="texatom" id="MathJax-Span-1712"><span class="mrow" id="MathJax-Span-1713"><span class="mo" id="MathJax-Span-1714"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 13.925em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>胜</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>率</mo></mrow><mo>=</mo><mfrac><mrow><mrow class="MJX-TeXAtom-ORD"><mo>当</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>策</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>略</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>跑</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>赢</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>当</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>基</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>准</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>收</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>的</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>天</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></mrow><mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>交</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>易</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>日</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>数</mo></mrow></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-46">日胜率 = \frac{当日策略收益跑赢当日基准收益的天数}{总交易日数}</script>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>盈亏比</label>
      <label>盈亏比</label>
      <article>

周期盈利亏损的比例。
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76C8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4E8F;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6BD4;</mo></mrow><mo>=</mo><mfrac><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76C8;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5229;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x989D;</mo></mrow></mrow><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x603B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4E8F;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x635F;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x989D;</mo></mrow></mrow></mfrac></math>" style=""><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1715" role="math" style="width: 8.996em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.32em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(0.917em, 1000.003em, 3.661em, -999.997em); top: -2.538em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1716"><span class="texatom" id="MathJax-Span-1717"><span class="mrow" id="MathJax-Span-1718"><span class="mo" id="MathJax-Span-1719"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">盈</span></span></span></span><span class="texatom" id="MathJax-Span-1720"><span class="mrow" id="MathJax-Span-1721"><span class="mo" id="MathJax-Span-1722"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">亏</span></span></span></span><span class="texatom" id="MathJax-Span-1723"><span class="mrow" id="MathJax-Span-1724"><span class="mo" id="MathJax-Span-1725"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">比</span></span></span></span><span class="mo" id="MathJax-Span-1726" style="font-family: STIXGeneral-Regular; padding-left: 0.307em;">=</span><span class="mfrac" id="MathJax-Span-1727" style="padding-left: 0.307em;"><span style="display: inline-block; position: relative; width: 3.356em; height: 0px; margin-right: 0.104em; margin-left: 0.104em;"><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -2.995em; left: 50%; margin-left: -1.623em;"><span class="mrow" id="MathJax-Span-1728"><span class="texatom" id="MathJax-Span-1729"><span class="mrow" id="MathJax-Span-1730"><span class="mo" id="MathJax-Span-1731"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-1732"><span class="mrow" id="MathJax-Span-1733"><span class="mo" id="MathJax-Span-1734"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">盈</span></span></span></span><span class="texatom" id="MathJax-Span-1735"><span class="mrow" id="MathJax-Span-1736"><span class="mo" id="MathJax-Span-1737"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">利</span></span></span></span><span class="texatom" id="MathJax-Span-1738"><span class="mrow" id="MathJax-Span-1739"><span class="mo" id="MathJax-Span-1740"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">额</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(1.374em, 1000.003em, 2.696em, -999.997em); top: -1.573em; left: 50%; margin-left: -1.623em;"><span class="mrow" id="MathJax-Span-1741"><span class="texatom" id="MathJax-Span-1742"><span class="mrow" id="MathJax-Span-1743"><span class="mo" id="MathJax-Span-1744"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-1745"><span class="mrow" id="MathJax-Span-1746"><span class="mo" id="MathJax-Span-1747"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">亏</span></span></span></span><span class="texatom" id="MathJax-Span-1748"><span class="mrow" id="MathJax-Span-1749"><span class="mo" id="MathJax-Span-1750"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">损</span></span></span></span><span class="texatom" id="MathJax-Span-1751"><span class="mrow" id="MathJax-Span-1752"><span class="mo" id="MathJax-Span-1753"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 81%; font-style: normal; font-weight: normal;">额</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.34em;"></span></span><span style="position: absolute; clip: rect(0.866em, 1000.003em, 1.222em, -999.997em); top: -1.268em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 3.356em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.543em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.247em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 3.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" aria-readonly="true"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo>盈</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>亏</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>比</mo></mrow><mo>=</mo><mfrac><mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>盈</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>利</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>额</mo></mrow></mrow><mrow><mrow class="MJX-TeXAtom-ORD"><mo>总</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>亏</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>损</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>额</mo></mrow></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-47">盈亏比 = \frac{总盈利额}{总亏损额}</script>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


  </div>
</section>
<p><span id="run_time"></span></p>
<h3 id="运行时间">运行时间</h3>
<ul>
<li><p>开盘前(9:20)运行:</p>
<ul>
<li><a href="#run_monthly">run_monthly</a>/<a href="#run_weekly">run_weekly</a>/<a href="#run_daily">run_daily</a>中指定time='before_open'运行的函数</li>
<li><a href="#before_trading_start">before_trading_start</a></li></ul></li>
<li><p>盘中运行:</p>
<ul>
<li><a href="#run_monthly">run_monthly</a>/<a href="#run_weekly">run_weekly</a>/<a href="#run_daily">run_daily</a>中在指定交易时间执行的函数, 执行时间为这分钟的第一秒. 例如: <code>run_daily(func, '14:50')</code> 会在每天的14:50:00(精确到秒)执行</li>
<li>[handle_data]<ul>
<li>按日回测/模拟, 在9:30:00(精确到秒)运行, <a href="#data">data</a>为昨天的天数据</li>
<li>按分钟回测/模拟, 在每分钟的第一秒运行, 每天执行240次, 不包括11:30和15:00这两分钟, [data]是上一分钟的分钟数据. 例如: 当天第一次执行是在9:30:00, <a href="#data">data</a>是昨天14:59这一分钟的分钟数据, 当天最后一次执行是在14:59:00, [data]是14:58这一分钟的分钟数据.</li></ul></li></ul></li>
<li><p>收盘后(15:00后半小时内)运行:</p>
<ul>
<li><a href="#run_monthly">run_monthly</a>/<a href="#run_weekly">run_weekly</a>/<a href="#run_daily">run_daily</a>中指定time='after_close'运行的函数</li>
<li><a href="#after_trading_end">after_trading_end</a></li></ul></li>
<li><p>同一个时间点, 总是先运行 run_XXX 指定的函数, 然后是 <a href="#before_trading_start">before_trading_start</a>
, <a href="#handle_data">handle_data</a> 和 <a href="#after_trading_end">after_trading_end</a></p></li>
<li><p>注意:</p>
<ul>
<li>run_XXX 指定的函数只能有一个参数 <a href="#context">context</a>,  <a href="#data">data</a> 不再提供, 请使用 <a href="#history">history</a>等获取</li>
<li>[initialize] / [before_trading_start] / [after_trading_end] / [handle_data] 都是可选的, 如果不是必须的, 不要实现这些函数, 一个空函数会降低运行速度.</li></ul></li>
</ul>
<p><span id="simulation_matters"></span><span id="模拟盘注意事项"></span></p>
<h3 id="模拟盘注意事项">模拟盘注意事项</h3>
<ul>
<li><p>模拟盘在每天运行结束后会保存状态, 结束进程(相当于休眠). 然后在第二天恢复.</p></li>
<li><p>进程结束时会保存这些状态:</p>
<ul>
<li><p>用户账户, 持仓</p></li>
<li><p>使用 <a href="#pickle">pickle</a> 保存 <a href="#g">g</a> 对象. 注意</p>
<ul>
<li>g 中以 '__' 开头的变量将被忽略, 不会被保存</li>
<li>g 中不能序列化的变量不会被保存, 重启后会不存在. 如果你写了如下的代码:</li></ul>
<pre><code class="python language-python">def initialize(context):
    g.query = query(valuation)
</code></pre>
<ul>
<li><a href="#g">g</a> 将不能被保存, 因为 query() 返回的对象并不能被持久化. 重启后也不会再执行 <a href="#initialize">initialize</a>, 使用 g.query 将会抛出 AttributeError 异常。正确的做法是, 在 <a href="#process_initialize">process_initialize</a> 中初始化它, 并且名字以 '__' 开头.</li></ul>
<pre><code class="python language-python">def process_initialize(context):
    g.__query = query(valuation)
</code></pre>
<ul>
<li>注意: 涉及到IO(打开的文件, 网络连接, 数据库连接)的对象是不能被序列化的:<ul>
<li><code>query(valuation)</code> : 数据库连接</li>
<li><code>open("some/path")</code> : 打开的文件</li>
<li><code>requests.get('')</code> : 网络连接</li></ul></li></ul></li>
<li><p>使用 <a href="#pickle">pickle</a> 保存 <a href="#context">context</a> 对象, 处理方式跟 <a href="#g">g</a> 一样</p></li>
<li><p>为了防止恶意攻击, 序列化之后的状态大小不能超过 30M, 如果超出将在保存状态时运行失败. 当超过 20M 时日志中会有警告提示, 请注意日志.</p></li></ul></li>
<li><p>恢复过程是这样的:</p>
<ol>
<li>加载策略代码, 因为python是动态语言, 编译即运行, 所以全局的(在函数外写的)代码会被执行一遍.</li>
<li>使用保存的状态恢复 <a href="#g">g</a>, <a href="#context">context</a>, 和函数外定义的全局变量.</li>
<li>执行 <a href="#process_initialize">process_initialize</a>, 每次启动时都会执行这个函数.</li>
<li>如果策略代码和上一次运行时发生了修改，而且代码中定义了 <a href="#after_code_changed">after_code_changed</a> 函数，则会运行 <a href="#after_code_changed">after_code_changed</a> 函数。</li></ol></li>
<li><p>重启后不再执行 <a href="#initialize">initialize</a> 函数, <a href="#initialize">initialize</a> 函数在整个模拟盘的生命周期中只执行一次. 即使是更改回测后, <a href="#initialize">initialize</a> 也不会执行.</p></li>
<li><p>模拟盘更改回测之后上述的全局变量(包括 g 和 context 中保存的)不会丢失. 新代码中 <a href="#initialize">initialize</a> 不会执行.
如果需要修改原来的值, 可以在 <a href="#after_code_changed">after_code_changed</a> 函数里面修改, 比如, 原来代码是:</p>
<pre><code class="python language-python">a = 1
def initialize(context):
    g.stock = '000001.XSHE'
</code></pre>
<p>代码改成:</p>
<pre><code class="python language-python">a = 2
def initialize(context):
    g.stock = '000002.XSHE'
</code></pre>
<p>执行时, a 仍然是 1, g.stock 仍然是 '000001.XSHE', 要修改他们的值, 必须定义 <a href="#after_code_changed">after_code_changed</a>:</p>
<pre><code class="python language-python">def after_code_changed(context):
    global a
    a = 2
    g.stock = '000002.XSHE'
</code></pre></li>
<li><p>创建模拟交易时, 如果选择的日期是今天, 则从今天当前时间点开始运行, 应该在当前时间点之前运行的函数不再运行. 比如: 今天10:00创建了<strong>按天</strong>的模拟交易, 选择日期是今天, 代码中实现了 handle_data 和 after_trading_end, 则 handle_data 今天不运行, 而 after_trading_end 会在 15:10 运行</p></li>
<li><p>当模拟交易在A时间点失败后, 然后在B时间点"重跑", 那么 A-B 之间的时间点应该运行的函数不再运行</p></li>
<li><p>因为模拟盘资源有限, 为了防止用户创建之后长期搁置浪费资源, 我们做出如下限制: 如果一个模拟盘同时满足下面条件, 则暂缓运行:</p>
<ul>
<li>该用户连续30天没有使用JoinQuant网站</li>
<li>没有开启微信通知</li></ul>
<p>当用户重新使用网站后, 第二天会继续运行(会把之前的交易日执行一遍, 并不会跳过日期)</p></li>
<li><p>强烈建议模拟盘使用真实价格成交, 即调用 <code>set_option('use_real_price', True)</code>. <a href="#use_real_price">更多细节</a></p></li>
</ul>
<p><span id="testing_simulation_difference"></span></p>
<h3 id="模拟交易和回测的差别">模拟交易和回测的差别</h3>
<p>因为一些原因, 模拟交易现在和回测还是有些微小的差别, 具体如下:</p>
<ul>
<li><p>市价单的处理:</p>
<ul>
<li>回测: 成交量不会超过当天成交量(或当天成交量的一部分, 见<a href="#order_volume_ratio">order_volume_ratio</a> 选项)</li>
<li>模拟: 默认使用盘口撮合，五档之后转撤销处理；关闭盘口撮合后，如果成交量不为0，则全部成交。</li></ul>
<p>这会导致同样的日期同样的程序回测结果可能会和模拟交易结果不一样, 请注意</p></li>
<li><p>按天模拟交易暂时不支持限价单, 所有限价单会自动转成市价单</p></li>
<li><p>理论上对运行结果不会有影响: 模拟交易进程每天会重启(请看[模拟交易注意事项]). 回测进程一般不会重启, 如果需要重启(比如机器宕机了) 也会做和模拟交易同样的处理.</p></li>
</ul>
<p><span id="futures_delivery_date"></span></p>
<h3 id="期货交割日">期货交割日</h3>
<p>期货持仓到交割日，没有手动交割，系统会以当天结算价平仓, 没有手续费, 不会有交易记录.</p>
<p><span id="marginsec_close_detail"></span></p>
<h3 id="还券细则">还券细则</h3>
<ul>
<li>T+1, 当日融的券当日不能还</li>
<li>还券时要扣除利息</li>
<li>直接还券时, 可以使用当日买入的券还(不受T+1限制), 且优先使用当日买入的券还</li>
</ul>
<h2 id="策略程序架构♦">策略程序架构♦</h2>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>initialize <span id="initialize"></span> </label>
      <label>初始化函数</label>
      <article>
<pre><code class="python language-python">initialize(context)
</code></pre>
初始化方法，在整个回测、模拟实盘中最开始执行一次，用于初始一些全局变量

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def initialize(context):
    # g为全局变量
    g.security = "000001.XSHE"
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>run_daily/run_weekly/run_monthly <span id="task_func"></span> <span id="run_monthly"></span> <span id="run_weekly"></span> <span id="run_daily"></span> </label>
      <label>定时运行策略(可选)</label>
      <article>

- run_monthly
- run_weekly
- run_daily
<pre><code class="python language-python">def initialize(context):
    # 按月运行
    run_monthly(func, monthday, time='open', reference_security)
    # 按周运行
    run_weekly(func, weekday, time='open', reference_security)
    # 每天内何时运行
    run_daily(func, time='open', reference_security)
</code></pre>

**回测环境/模拟专用API**

指定每月, 每周或者每天要运行的函数, 可以在具体每月/周的第几个交易日(或者倒数第几天)的某一分钟执行。

在日级模拟中使用时，如果设置 time='open' 或 time='9:30'，策略的实际运行时间是9:27~9:30之间。策略类获取到逻辑时间(context.current_dt)仍然是 9:30。


**调用这些函数后, handle_data可以不实现**

**参数**

参数|解释
---|---
func|一个函数, 此函数必须接受context参数
monthday|每月的第几个交易日, 可以是负数, 表示倒数第几个交易日。如果超出每月总交易日个数，则取临近的交易日执行。（具体见下方注意中的示例）
weekday|每周的第几个交易日, 可以是负数, 表示倒数第几个交易日。如果超出每周总交易日个数，则取临近的交易日执行。（具体见下方注意中的示例）
time|一个字符串,可以是具体执行时间,支持 time 表达式。比如 "10:00", "01:00", 或者 "every_bar", "open", "before_open", "after_close", "morning" 和 "night"。(具体执行时间如见下方)time 表达式具有 'base +/-offset' 的形式，如：'open-30m'表示开盘前30分钟，'close+1h30m'表示收盘后一小时三十分钟。
reference_security|时间的参照标的。 如参照 '000001.XSHG'，交易时间为 9:30\-15:00。如参照'IF1512.CCFX'，2016-01-01之后的交易时间为 9:30\-15:00，在此之前为 9:15\-15:15。如参照'A9999.XDCE'，因为有夜盘，因此开始时间为21:00，结束时间为15:00。


base|具体执行时间
---|---
具体时间|24小时内的任意时间，如"10:00", "01:00"
every_bar|只能在 run_daily 中调用； **按天**会在每天的开盘时调用一次，**按分钟**会在每天的每分钟运行
open|开盘时运行(等同于"9:30")
before_open|早上 9:00 运行
after_close|下午 15:30 运行
morning|早上 8:00 运行
night|晚上 20:00 运行


**返回值**
None

**注意**

- **参数 func 必须是一个全局的函数, 不能是类的成员函数**, 示例:
<pre><code class="python language-python">def on_week_start(context):
    pass

class MyObject(object):
    def on_week_start2(self, context):
        pass

def initialize(context):
    # OK
    run_weekly(on_week_start, 1)
    # 错误, 下面的语句会报错
    run_weekly(MyObject().on_week_start2, 1)
</code></pre>

- 通过[history](#history)/[attribute_history](#attribute_history)取天数据时, **是不包括当天的数据的**(即使在15:00和after_close里面也是如此), 要取得当天数据, 只能取分钟的
- 这些函数可以**重复调用**, 比如下面的代码可以在每周的第一个交易日和最后一个交易日分别调用两个函数:
<pre><code class="python language-python">def on_week_start(context):
    pass
def on_week_end(context):
    pass
def initialize(context):
    run_weekly(on_week_start, 1)
    run_weekly(on_week_end, -1)
</code></pre>

- 每次调用这些函数都会产生一个新的定时任务, 如果想修改或者删除旧的定时任务, 请先调用 [unschedule_all](#unschedule_all) 来删除所有定时任务, 然后再添加新的.

- 在一月/一周交易日数不够以致于monthday/weekday无法满足时, 我们会找这周内最近的一个日期来执行, 比如, 如果某一周只有4个交易日:
    - 若 weekday == 5, 我们会在第4个交易日执行
    - 若 weekday == -5, 我们会在第1个交易日执行

  如果要避免这样的行为, 您可以这样做:
<pre><code class="python language-python">def initialize(context):
    run_weekly(weekly, 1)

def weekly(context):
    if context.current_dt.isoweekday() != 1:
        # 不在周一, 跳过执行
        return
</code></pre>

**示例**<pre><code class="python language-python">def weekly(context):
    print 'weekly %s %s' % (context.current_dt, context.current_dt.isoweekday())


def monthly(context):
    print 'monthly %s %s' % (context.current_dt, context.current_dt.month)


def daily(context):
    print 'daily %s' % context.current_dt


def initialize(context):

    # 指定每月第一个交易日, 在开盘后十分钟执行
    run_monthly(monthly, 1, 'open+10m')

    # 指定每周倒数第一个交易日, 在开盘前执行
    run_weekly(weekly, -1, 'before_open')

    # 指定每天收盘前10分钟运行
    run_daily(daily, 'close - 10m')

    # 指定每天收盘后执行
    run_daily(daily, 'after_close')

    # 指定在每天的10:00运行
    run_daily(daily, '10:00')

    # 指定在每天的01:00运行
    run_daily(daily, '01:00')

    # 参照股指期货的时间每分钟运行一次, 必须选择分钟回测, 否则每天执行
    run_daily(daily, 'every_bar', reference_security='IF1512.CCFX')
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>handle_data <span id="handle_data"></span> </label>
      <label>运行策略(可选)</label>
      <article>
<pre><code class="python language-python">handle_data(context, data)
</code></pre>
该函数每个单位时间会调用一次, 如果按天回测,则每天调用一次,如果按分钟,则每分钟调用一次。

**该函数依据的时间是股票的交易时间，即 9:30 - 15:00. 期货请使用[定时运行]函数。**

该函数在回测中的非交易日是不会触发的（如回测结束日期为2016年1月5日，则程序在2016年1月1日-3日时，handle_data不会运行，4日继续运行）。

对于使用当日开盘价撮合的日级模拟盘，在9:25集合竞价完成时就可以获取到开盘价，出于减少并发运行模拟盘数量的目的，我们会提前到9:27~9:30之间运行, 策略类获取到逻辑时间(context.current_dt)仍然是 9:30。

**参数**
context: [Context](#Context)对象, 存放有当前的账户/标的持仓信息
data: 一个字典(dict), key是股票代码, value是当时的[SecurityUnitData](#SecurityUnitData) 对象. 存放前一个单位时间(按天回测, 是前一天, 按分钟回测, 则是前一分钟) 的数据. **注意**:

- 为了加速, data 里面的数据是按需获取的, 每次 handle_data 被调用时, data 是空的 dict, 当你使用 `data[security]` 时该 security 的数据才会被获取.
- data 只在这一个时间点有效, 请不要存起来到下一个 handle_data 再用
- 注意, 要获取回测当天的开盘价/是否停牌/涨跌停价, 请使用 [get_current_data](#get_current_data)

**返回**  
None

**示例**<pre><code class="python language-python">def handle_data(context, data):
    order("000001.XSHE",100)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>before_trading_start <span id="before_trading_start"></span> </label>
      <label>开盘前运行策略(可选)</label>
      <article>
<pre><code class="python language-python">before_trading_start(context)
</code></pre>
该函数会在每天开始交易前被调用一次, 您可以在这里添加一些每天都要初始化的东西.

**该函数依据的时间是股票的交易时间，即该函数启动时间为 9:00. 期货请使用[定时运行](#task_func)函数，time 参数设定为'before_open' 。**

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def before_trading_start(context):
    log.info(str(context.current_dt))
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>after_trading_end <span id="after_trading_end"></span> </label>
      <label>收盘后运行策略(可选)</label>
      <article>
<pre><code class="python language-python">after_trading_end(context)
</code></pre>
该函数会在每天结束交易后被调用一次, 您可以在这里添加一些每天收盘后要执行的内容. 这个时候所有未完成的订单已经取消.

**该函数依据的时间是股票的交易时间，即该函数启动时间为 15:30. 期货请使用[定时运行](#task_func)函数，time 参数设定为'after_close' 。**

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def after_trading_end(context):
    log.info(str(context.current_dt))
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>on_strategy_end <span id="on_strategy_end"></span> </label>
      <label>策略运行结束时调用(可选)</label>
      <article>
<pre><code class="python language-python">def on_strategy_end(context)
</code></pre>
在回测、模拟交易正常结束时被调用， 失败时不会被调用。

在模拟交易到期结束时也会被调用， 手动在到期前关闭不会被调用。

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def on_strategy_end(context):
    print '回测结束'
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>process_initialize <span id="process_initialize"></span> </label>
      <label>每次程序启动时运行函数(可选)</label>
      <article>
<pre><code class="python language-python">process_initialize(context)
</code></pre>
该函数会在每次模拟盘/回测进程重启时执行, 一般用来初始化一些**不能持久化保存**的内容. 在 [initialize](#initialize) 后执行.

因为模拟盘会每天重启, 所以这个函数会每天都执行.

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def process_initialize(context):
    # query 对象不能被 pickle 序列化, 所以不能持久保存, 所以每次进程重启时都给它初始化
    # 以两个下划线开始, 系统序列化 [g](#g) 时就会自动忽略这个变量, 更多信息, 请看 [g](#g) 和 [模拟盘注意事项](#simulation_matters)
    g.__q = query(valuation)

def handle_data(context, data):
    get_fundamentals(g.__q)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>after_code_changed <span id="after_code_changed"></span> </label>
      <label>模拟交易更换代码后运行函数(可选)</label>
      <article>
<pre><code class="python language-python">after_code_changed(context)
</code></pre>
模拟盘在每天的交易时间结束后会休眠，第二天开盘时会恢复，如果在恢复时发现代码已经发生了修改，则会在恢复时执行这个函数。
具体的使用场景：可以利用这个函数修改一些模拟盘的数据。

注意: 因为一些原因, 执行回测时这个函数也会被执行一次, 在 [process_initialize](#process_initialize) 执行完之后执行.

**参数**
context: [Context](#Context)对象, 存放有当前的账户/股票持仓信息

**返回**
None

**示例**<pre><code class="python language-python">def after_code_changed(context):
    g.stock = '000001.XSHE'
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>unschedule_all<span id="unschedule_all"></span> </label>
      <label>取消所有定时运行(可选)</label>
      <article>
<pre><code class="python language-python"># 取消所有定时运行
unschedule_all()
</code></pre>

**示例**<pre><code class="python language-python">def process_initialize(context):
    # 取消所有定时运行
    unschedule_all()
    # 设定新的定时运行函数，指定函数在每天的10:00运行
    run_daily(func, '10:00')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>



  </div>
</section>
<p><span id="alg_api"></span></p>
<h2 id="策略API介绍">策略API介绍</h2>
<p><span id="attention"></span></p>
<h3 id="注意事项">注意事项</h3>
<ul>
<li>【取数据函数】【其它函数】目录中带有"♠" 标识的API是 <code>"回测环境/模拟"</code>专用的API，<strong>不能在研究模块中调用</strong>。整个 【jqdata 模块】在研究环境与回测环境下都可以使用.</li>
<li>所有价格单位是元</li>
<li>时间表示:<ul>
<li>所有时间都是北京时间, 时区:UTC+8</li>
<li>所有时间都是<a href="https://docs.python.org/2/library/datetime.html#datetime.date">datetime.datetime</a>对象</li></ul></li>
<li>每日结束时自动撤销所有未完成订单</li>
<li>下文中提到 Context, SecurityUnitData,  Portfolio,  Position,  Order 对象都是只读的, 尝试修改他们会报错或者无效.</li>
<li>没有python基础的同学请注意, 有的函数的定义中, 某些参数是有值的, 这个值是参数的默认值, 这个参数是可选的, 可以不传.</li>
<li>回测和模拟中，每日下单的最大数量为10000笔</li>
</ul>
<p>如需使用<strong>策略组合或分仓操作</strong>，请看<a href="#fencang">策略组合操作</a>.</p>
<p><span id="set_func"></span></p>
<h3 id="策略设置函数">策略设置函数</h3>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">
    <div class="group">
      <label>set_benchmark <span id="set_benchmark"></span> </label>
      <label>设置基准</label>
      <article>
<pre><code class="python language-python">set_benchmark(security)
</code></pre>

默认我们选定了沪深300指数的每日价格作为判断您策略好坏和一系列风险值计算的基准. 您也可以使用[set_benchmark](#set_benchmark)指定其他股票/指数/ETF的价格作为基准。注意：这个函数只能在initialize中调用。

**参数**

- security:股票/指数/ETF代码

**返回**
None

**示例**
<pre><code class="python language-python">set_benchmark('600000.XSHG')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>set_order_cost <span id="set_order_cost"></span> </label>
      <label>设置佣金/印花税</label>
      <article>
<pre><code class="python language-python">set_order_cost(cost, type, ref=None)
</code></pre>

指定每笔交易要收取的手续费, 系统会根据用户指定的费率计算每笔交易的手续费

**参数**

- cost: OrderCost 对象
 - open_tax，买入时印花税 (只股票类标的收取，基金与期货不收)
 - close_tax，卖出时印花税 (只股票类标的收取，基金与期货不收)
 - open_commission，买入时佣金，申购场外基金的手续费
 - close_commission,  卖出时佣金，赎回场外基金的手续费
 - close_today_commission,  平今仓佣金
 - min_commission, 最低佣金，不包含印花税

- type: 股票、基金、金融期货、期货、债券基金、股票基金、QDII 基金、货币基金、混合基金、场外基金，'stock'/ 'fund' / 'index_futures' / 'futures' / 'bond_fund' / 'stock_fund' / 'QDII_fund' / 'money_market_fund' / ‘mixture_fund' / 'open_fund'
- ref: 参考代码，支持股票代码/基金代码/期货合约代码，以及期货的品种，如 '000001.XSHE'/'510180.XSHG'/'IF1709'/'IF'/'000300.OF'


**默认与示例**
<pre><code class="python language-python"># 股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税, 每笔交易佣金最低扣5块钱
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='stock')

# 期货类每笔交易时的手续费是：买入时万分之0.23,卖出时万分之0.23,平今仓为万分之23
set_order_cost(OrderCost(open_tax=0, close_tax=0, open_commission=0.000023, close_commission=0.000023, close_today_commission=0.0023, min_commission=0), type='index_futures')

# 单独设置 000300.XSHG 的费用
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='stock', ref='000300.XSHG')

# 设置所有期货（包括金融指数期货）的费用
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='futures')

# 对 IF/IH/IC 三个品种有效
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='index_futures')

# 单独设置AU期货品种的费用
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='futures', ref='AU')

# 单独设置AU1709合约的费用
set_order_cost(OrderCost(open_tax=0, close_tax=0.001, open_commission=0.0003, close_commission=0.0003, close_today_commission=0, min_commission=5), type='futures', ref='AU1709')
</code></pre>

**注：期货持仓到交割日会以当天结算价平仓, 没有手续费, 不会有交易记录.**

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>set_slippage <span id="set_slippage"></span> </label>
      <label>设置滑点</label>
      <article>
<pre><code class="python language-python">set_slippage(object)
</code></pre>

设定滑点，回测/模拟时有效.

当您下单后, 真实的成交价格与下单时预期的价格总会有一定偏差, 因此我们加入了滑点模式来帮您更好的模拟真实市场的表现. 我们暂时只支持固定滑点

**固定滑点**
当您使用固定滑点的时候, 我们认为您的落单的多少并不会影响您最后的成交价格. 您只需要指定一个价差,
当您下达一个买单指令的时候, 成交的价格等于当时(您执行order函数所在的单位时间)的平均价格加上价差的一半；当您下达一个卖出指令的时候，卖出的价格等于当时的平均价格减去价差的一半.
价差可以设定为一个固定值或者按照百分比设定。

- 固定值：
这个价差可以是一个固定的值(比如0.02元, 交易时加减0.01元), 设定方式为：FixedSlippage(0.02)
-  百分比：
这个价差可以是是当时价格的一个百分比(比如0.2%, 交易时加减当时价格的0.1%), 设定方式为：PriceRelatedSlippage(0.002)
<pre><code class="python language-python"># 设定滑点为固定值
set_slippage(FixedSlippage(0.02))

# 设定滑点为百分比
set_slippage(PriceRelatedSlippage(0.002))
</code></pre>

**注：如果您没有调用 set_slippage 函数, 系统默认的滑点是 PriceRelatedSlippage(0.00246)**
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>use_real_price <span id="use_real_price"></span> </label>
      <label>设置动态复权(真实价格)模式</label>
      <article>
<pre><code class="python language-python">set_option('use_real_price', value)
</code></pre>

**该设定必须在[initialize](#initialize)中调用**
设置是否开启动态复权（真实价格）模式，[原理讲解图示](#split_merge_dividends)。默认是False(主要是为了让旧的策略不会出错).
是否开启动态复权模式对模拟交易是有影响的，[查看详情](#split_merge_dividends)。

**在场外基金中的应用**

1）value=True，表示用基金的单位净值进行撮合成交  
2）value=False，表示分红再投资，即复权净值进行撮合成交

**参数**

- value: True / False

**示例**
<pre><code class="python language-python"># 开启动态复权模式
set_option('use_real_price', True)
</code></pre>

**是否开启动态复权对于回测及模拟交易的影响：**
1. [动态复权原理](#split_merge_dividends)
2. [是否开启动态复权模式对模拟交易的影响](#split_merge_dividends)

- **开启**，value 值为 True: 回测过程中:
    - 每天看到的当天的价格都是真实的(不复权的)
    - 使用真实的价格下单, 交易详情和持仓详情里看到的都是真实价格
    - 为了让编写代码简单, 通过[数据获取函数API](#数据获取函数)  **拿到的都是基于当天日期的前复权价格**. 比如: 回测运行到了2015-01-01这一天, 那么`history(3, '1d', 'close')`取得的就是你穿越到2015-01-01这一天所看到的前复权价格. 另一方面, 你在不同日期调用[数据获取函数API](#数据获取函数)返回的价格可能是不一样的, 因为我们在不同日期看到的前复权价格是不一样的. 所以**不要跨日期缓存这些API返回的结果.**
    - 每到新的一天, **如果持仓中有股票发生了拆合或者分红或者其他可能影响复权因子的情形, 我们会根据复权因子自动调整股票的数量, 如果调整后的数量是小数, 则向下取整到整数,** 最后为了保证[context].portfolio.portfolio_value不变, [context].portfolio.cash可能有略微调整.
    - 注意事项:
        - 如上所说, 不要跨日期缓存[数据获取函数API](#数据获取函数)返回的结果
        - 开启真实价格回测之后, 回测结果可能会之前不一样, 因为交易时买入数量必须是100的倍数, 使用前复权价格和实际价格能买入的数量是不一样的.
        - 如果想通过 history 拿到昨天的真实价格, 还是需要用取得价格除以factor, 因为可能今天发生了拆合分红, 导致拿到的昨天的价格是相对于今天的前复权价格.

            ```python
            s = '000001.XSHE'
            df = attribute_history(s, 1, '1d', fields=['close', 'factor'])
            real_close = df['close'][-1] / df['factor'][-1]
            ```
- **关闭**，value 值为 False: 此选项的核心是选定一个日期作为基准, 保证这个日期的价格是真实价格, 然后调整其他日期的价格. 最终保证所有价格是连续的, 在回测或者模拟交易过程中不同日期看到的价格是一致的. 下面分回测和模拟交易单独做介绍:
    - 回测: 基准日期是建立回测的日期, 回测过程中所看到的所有价格都是基于此日期的前复权价格. 比如说, 我昨天跑了一个回测, 那么回测过程所有价格都是在昨天所看到的前复权价格. 这会导致两个问题:
        - 回测过程中使用了前复权价格下单, 这是违背真实场景的, 不能对接实盘的.
        - 不同的日期建立的回测跑出来的结果可能会有差异, 因为如果这两次回测之间回测的股票发生了拆合或者分红, 会导致回测中看到前复权价格会不一致.
    - 模拟交易: 基准日期是建立模拟交易的日期, 模拟交易过程所看到的所有价格都是基于此日期调整过的. 为了方便计算, 我举一个虚拟的例子: 某只股票在如下三个日期的实际价格和后复权因子分别是:

|日期|价格|后复权因子|
|--|--|--|
|2015-09-01|1|1|
|2015-10-01|2|2|
|2015-11-01|4|4|

- 如果你在 09-01 建立了一个模拟交易, 你在不同日期看到的所有价格都是 1
- 如果你在 10-01 建立了一个模拟交易, 你在不同日期看到的所有价格都是 2
- 如果你在 11-01 建立了一个模拟交易, 你在不同日期看到的所有价格都是 4

- 为了更好的模拟, 建议大家都设成 True. 将来对接实盘交易时, 此选项会强制设成 True

**注意：** 设置 use_real_price 为 True之后, 如下的按天回测的代码是不对的：
<pre><code class="python language-python">def initialize(context):
    g.cached_data = []
    g.s = '000001.XSHE'

def handle_data(content, data):
    g.cached_data.append(data)
    if len(g.cached_data) &gt; 1:
        # 如果昨天收盘价比前天涨了5%, 则买入. 这是不对的, 如果昨天早上发生了拆合, 则昨天和前天的股价不具可比性.
        if g.cached_data[-1][g.s].close &gt; g.cached_data[-2][g.s].close * 1.05:
            order(g.s, 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order_volume_ratio <span id="order_volume_ratio"></span> </label>
      <label>设置成交量比例</label>
      <article>
<pre><code class="python language-python">set_option('order_volume_ratio', value)
</code></pre>
设定成交量比例，根据实际行情限制每个订单的成交量.

**参数**

- value: value 是一个 float 值, 根据实际行情限制每个订单的成交量.
    - 对于每一笔订单：
        - 如果是市价单, 成交量不超过: 每日成交量 * value
        - 如果是限价单, [限价单撮合](#订单处理)时设定分价表中每一个价格的成交量的比率, 假设某一分钟分价表如下:

            价格|成交量
            ---|---
            10.0 | 10
            10.1 | 11
            10.2 | 12

        - 撮合时, 按价格 10.0 成交 10 * value 股, 按价格 10.1 成交 11 * value 股, 按价格 10.2 成交 12 * value 股


**示例**
<pre><code class="python language-python"># 设定成交量比例
set_option('order_volume_ratio', 0.25) # 成交量不超过总成交量的四分之一
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>match_with_order_book <span id="match_with_order_book"></span> </label>
      <label>设置是否开启盘口撮合模式</label>
      <article>
<pre><code class="python language-python">set_option('match_with_order_book', value)
</code></pre>
设定是否使用盘口撮合模式.   **此选项只对模拟盘生效，默认开启**

**参数**

- value: 默认开启
  - True，开启，使用盘口进行撮合，撮合方式详见[订单处理](#订单处理)
  - False，关闭，使用 Bar 进行撮合，撮合方式详见[订单处理](#订单处理)

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>set_universe(history专用) <span id="set_universe"></span> </label>
      <label>设定股票池</label>
      <article>
<pre><code class="python language-python">set_universe(security_list)
</code></pre>
设置或者更新此策略要操作的股票池 context.universe. 请注意:

- **该函数现在只用于设定history函数的默认security_list, 除此之外并无其他用处。**

**参数**

- security_list: 股票列表

**返回**
None

**示例**
<pre><code class="python language-python">set_universe(['000001.XSHE', '600000.XSHG'])
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><s>set_commission(已废弃)</s></label>
      <label>设定费率</label>
      <article>
<pre><code class="python language-python">set_commission(object)
</code></pre>
指定每笔交易要收取的手续费, 系统会根据用户指定的费率计算每笔交易的手续费

**次函数已废弃，请使用 [set_order_cost - 设置佣金/印花税](#set_order_cost)**

**参数**
object: 一个PerTrade对象

 - PerTrade.buy_cost，买入时手续费
 - PerTrade.sell_cost，卖出时手续费
 - PerTrade.min_cost，最少的手续费

默认：PerTrade(buy_cost=0.0003, sell_cost=0.0013, min_cost=5)
每笔交易时的手续费是, 买入时万分之三，卖出时万分之三加千分之一印花税, 每笔交易最低扣5块钱
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>
  </div>
</section>
<h3 id="数据获取函数">数据获取函数</h3>
<p><span id="get_data_func"></span> <span id="数据获取函数"></span> <span id="获取数据函数"></span></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>get_price <span id="get_price"></span> </label>
      <label>获取历史数据，可查询多个标的多个数据字段，返回数据格式为 DataFrame</label>
      <article>
<pre><code class="python language-python">get_price(security, start_date=None, end_date=None, frequency='daily', fields=None, skip_paused=False, fq='pre', count=None)
</code></pre>

获取一支或者多只股票的行情数据, 按天或者按分钟，这里在使用时注意 end_date 的设置， 不要引入未来的数据。

**关于停牌**: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,

 我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充(请看 [SecurityUnitData] 的 paused 属性). 如想跳过, 请使用 skip_paused=True 参数, 同时只取一只股票的信息

**参数**

- security: 一支股票代码或者一个股票代码的list
- count: **与 start_date 二选一，不可同时使用**. 数量, 返回的结果集的行数, 即表示获取 end_date 之前几个 frequency 的数据
- start_date: **与 count 二选一，不可同时使用**. 字符串或者 [datetime.datetime]/[datetime.date] 对象, 开始时间.
    - 如果 count 和 start_date 参数都没有, 则 start_date 生效, 值是 '2015-01-01'. 注意:
    - 当取分钟数据时, 时间可以精确到分钟, 比如: 传入 `datetime.datetime(2015, 1, 1, 10, 0, 0)` 或者 `'2015-01-01 10:00:00'`.
    - 当取分钟数据时, 如果只传入日期, 则日内时间是当日的 00:00:00.
    - 当取天数据时, 传入的日内时间会被忽略
- end_date: 格式同上, 结束时间, 默认是'2015-12-31', 包含此日期. **注意: 当取分钟数据时, 如果 end_date 只有日期, 则日内时间等同于 00:00:00, 所以返回的数据是不包括 end_date 这一天的**.
- frequency: 单位时间长度, 几天或者几分钟, 现在支持'Xd','Xm', 'daily'(等同于'1d'), 'minute'(等同于'1m'), X是一个正整数, 分别表示X天和X分钟(不论是按天还是按分钟回测都能拿到这两种单位的数据), 注意, 当X &gt; 1时, fields只支持['open', 'close', 'high', 'low', 'volume', 'money']这几个标准字段. 默认值是daily

- fields: 字符串list, 选择要获取的行情数据字段, 默认是None(表示['open', 'close', 'high', 'low', 'volume', 'money']这几个标准字段), 支持[SecurityUnitData](#SecurityUnitData)里面的所有基本属性,，包含：['open', ' close', 'low', 'high', 'volume', 'money', 'factor', 'high_limit','  low_limit', 'avg', ' pre_close', 'paused']

- skip_paused: 是否跳过不交易日期(包括停牌, 未上市或者退市后的日期). 如果不跳过, 停牌时会使用停牌前的数据填充(具体请看SecurityUnitData的paused属性), 上市前或者退市后数据都为 nan, 但要注意:
    - 默认为 False
    - 当 skip_paused 是 True 时, 只能取一只股票的信息

- fq: 复权选项:
    - `'pre'`: 前复权(根据'use_real_price'选项不同含义会有所不同, 参见[set_option]), 默认是前复权
    - `None`: 不复权, 返回实际价格
    - `'post'`: 后复权


**返回**

- **请注意, 为了方便比较一只股票的多个属性, 同时也满足对比多只股票的一个属性的需求, 我们在security参数是一只股票和多只股票时返回的结构完全不一样**

- 如果是一支股票, 则返回[pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是行情字段名字, 比如'open'/'close'. 比如: `get_price('000300.XSHG')[:2]` 返回:

|---|open|close|high|low|volume|money|
|---|---|---|---|---|---|---|
|2015-01-05 00:00:00|3566.09|3641.54|3669.04|3551.51|451198098.0|519849817448.0|
|2015-01-06 00:00:00|3608.43|3641.06|3683.23|3587.23|420962185.0|498529588258.0|

- 如果是多支股票, 则返回[pandas.Panel]对象, 里面是很多[pandas.DataFrame]对象, 索引是行情字段(open/close/...), 每个[pandas.DataFrame]的行索引是[datetime.datetime]对象, 列索引是股票代号. 比如`get_price(['000300.XSHG', '000001.XSHE'])['open'][:2]`返回:

|---|000300.XSHG|000001.XSHE|
|---|---|---|
|2015-01-05 00:00:00|3566.09|13.21|
|2015-01-06 00:00:00|3608.43|13.09|

**示例**<pre><code class="python language-python"># 获取一支股票
df = get_price('000001.XSHE') # 获取000001.XSHE的2015年的按天数据
df = get_price('000001.XSHE', start_date='2015-01-01', end_date='2015-01-31 23:00:00', frequency='minute', fields=['open', 'close']) # 获得000001.XSHG的2015年01月的分钟数据, 只获取open+close字段
df = get_price('000001.XSHE', count = 2, end_date='2015-01-31', frequency='daily', fields=['open', 'close']) # 获取获得000001.XSHG在2015年01月31日前2个交易日的数据
df = get_price('000001.XSHE', start_date='2015-12-01 14:00:00', end_date='2015-12-02 12:00:00', frequency='1m') # 获得000001.XSHG的2015年12月1号14:00-2015年12月2日12:00的分钟数据

# 获取多只股票
panel =  get_price(get_index_stocks('000903.XSHG')) # 获取中证100的所有成分股的2015年的天数据, 返回一个[pandas.Panel]
df_open = panel['open']  # 获取开盘价的[pandas.DataFrame],  行索引是[datetime.datetime]对象, 列索引是股票代号
df_volume = panel['volume']  # 获取交易量的[pandas.DataFrame]

df_open['000001.XSHE'] # 获取平安银行的2015年每天的开盘价数据
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>history ♠ <span id="history"></span> </label>
      <label>获取历史数据，可查询多个标的单个数据字段，返回数据格式为 DataFrame 或 Dict(字典)</label>
      <article>
<pre><code class="python language-python">history(count, unit='1d', field='avg', security_list=None, df=True, skip_paused=False, fq='pre')
</code></pre>
**回测环境/模拟专用API**

查看历史的行情数据。

**关于停牌**: 因为获取了多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致, 我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充(请看[SecurityUnitData]的paused属性). 如想跳过, 请使用 skip_paused=True 参数

**当取天数据时, 不包括当天的, 即使是在收盘后**

**参数**

- count: 数量, 返回的结果集的行数
- unit: 单位时间长度, 几天或者几分钟, 现在支持'Xd','Xm', X是一个正整数, 分别表示X天和X分钟(不论是按天还是按分钟回测都能拿到这两种单位的数据), 注意, 当X &gt; 1时, field只支持['open', 'close', 'high', 'low', 'volume', 'money']这几个标准字段.
- field: 要获取的数据类型, 支持[SecurityUnitData](#SecurityUnitData)里面的所有基本属性,，包含：['open', ' close', 'low', 'high', 'volume', 'money', 'factor', 'high_limit','  low_limit', 'avg', ' pre_close', 'paused']
- security_list: 
  - 要获取数据的股票列表
  - None 表示查询 context.universe 中所有股票的数据，context.universe 需要使用[set_universe](#set_universe)进行设定，形如：set_universe(['000001.XSHE', '600000.XSHG'])。
- df: 若是True, 返回[pandas.DataFrame], 否则返回一个dict, 具体请看下面的返回值介绍. 默认是True.
我们之所以增加df参数, 是因为[pandas.DataFrame]创建和操作速度太慢, 很多情况并不需要使用它. 为了保持向上兼容, df默认是True, 但是如果你的回测速度很慢, 请考虑把df设成False.
- skip_paused: 是否跳过不交易日期(包括停牌, 未上市或者退市后的日期). 如果不跳过, 停牌时会使用停牌前的数据填充(具体请看SecurityUnitData的paused属性), 上市前或者退市后数据都为 nan, 但要注意:
    - 默认为 False
    - 如果跳过, 则行索引不再是日期, 因为不同股票的实际交易日期可能不一样

- fq: 复权选项:
    - `'pre'`: 前复权(根据'use_real_price'选项不同含义会有所不同, 参见[set_option]), 默认是前复权
    - `None`: 不复权, 返回实际价格
    - `'post'`: 后复权

**返回**

- df=True:
    [pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是股票代号. 比如: 如果当前时间是2015-01-07, universe是['000300.XSHG', '000001.XSHE'], `history(2, '1d', 'open')`将返回:

|---|000300.XSHG|000001.XSHE|
|---|---|---|
|2015-01-05 00:00:00|3566.09|13.21|
|2015-01-06 00:00:00|3608.43|13.09|

关于numpy和pandas, 请看下面的第三方库介绍

- df=False:
    dict, key是股票代码, 值是一个numpy数组[numpy.ndarray], 对应上面的DataFrame的每一列, 例如`history(2, '1d', 'open', df=False)`将返回:
    ```python
    {
        '000300.XSHG': array([ 3566.09,  3608.43]),
        '000001.XSHE': array([ 13.21,  13.09])
    }
    ```

**示例**<pre><code class="python language-python">h = history(5, security_list=['000001.XSHE', '000002.XSHE'])
h['000001.XSHE'] #000001(平安银行)过去5天的每天的平均价, 一个pd.Series对象, index是datatime
h['000001.XSHE'][-1] #000001(平安银行)昨天(数组最后一项)的平均价
h.iloc[-1] #所有股票在昨天的平均价, 一个pd.Series对象, index是股票代号
h.iloc[-1]['000001.XSHE'] #000001(平安银行)昨天(数组最后一项)的平均价
h.mean() # 取得每一列的平均值
</code></pre><pre><code class="python language-python">## set_universe 之后可以，调用 history 可以不用指定 security_list
set_universe(['000001.XSHE']) # 设定universe
history(5) # 获取universe中股票的过去5天(不包含今天)的每天的平均价
history(5, '1m') # 获取universe中股票的过去5分钟(不包含当前分钟)的每分钟的平均价
history(5, '1m', 'price') # 获取universe中股票的过去5分钟(不包含当前分钟)的每分钟的平均价
history(5, '1m', 'volume') # 获取universe中股票的过去5分钟(不包含当前分钟)的每分钟的交易额
history(5, '1m', 'price', ['000001.XSHE']) # 获取平安银行的过去5分钟(不包含当前分钟)的每分钟的平均价
</code></pre><pre><code class="python language-python">h = history(5, security_list=['000001.XSHE', '000002.XSHE'], df=False)
h['000001.XSHE'] #h 是一个 dict，获取 h 中 000001.XSHE 对应的值。
h['000001.XSHE'][0] #返回000001.XSHE最新一日的数据
h['000001.XSHE'][-1] #返回000001.XSHE第五天的数据
h['000001.XSHE'].sum() #对返回的五日数据求和
h['000001.XSHE'].mean() # 对返回的五日数据求平均
# 因为h本身是一个dict, 下列panda.DataFrame的特性将不可用:
# h.illoc[-1]
# h.sum()
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>attribute_history ♠ <span id="attribute_history"></span> </label>
      <label>获取历史数据，可查询单个标的多个数据字段，返回数据格式为 DataFrame 或 Dict(字典)</label>
      <article>
<pre><code class="python language-python">attribute_history(security, count, unit='1d',
            fields=['open', 'close', 'high', 'low', 'volume', 'money'],
            skip_paused=True, df=True, fq='pre')
</code></pre>
**回测环境/模拟专用API**

查看某一支股票的历史数据, 可以选这只股票的多个属性, **默认跳过停牌日期**.

**当取天数据时, 不包括当天的, 即使是在收盘后**

**参数**

- security: 股票代码
- count: 数量, 返回的结果集的行数
- unit: 单位时间长度, 几天或者几分钟, 现在支持 'Xd', 'Xm', X是一个正整数, 分别表示X天和X分钟(不论是按天还是按分钟回测都能拿到这两种单位的数据), 注意, 当 X &gt; 1 时, field 只支持 ['open', 'close', 'high', 'low', 'volume', 'money'] 这几个标准字段.
- fields: 股票属性的list, 支持[SecurityUnitData](#SecurityUnitData)里面的所有基本属性，包含：['open', ' close', 'low', 'high', 'volume', 'money', 'factor', 'high_limit','  low_limit', 'avg', ' pre_close', 'paused']
- skip_paused: 是否跳过不交易日期(包括停牌, 未上市或者退市后的日期). 如果不跳过, 停牌时会使用停牌前的数据填充(具体请看[SecurityUnitData]的paused属性), 上市前或者退市后数据都为 nan, **默认是True**
- df: 若是True, 返回[pandas.DataFrame], 否则返回一个dict, 具体请看下面的返回值介绍. 默认是True.我们之所以增加df参数, 是因为[pandas.DataFrame]创建和操作速度太慢, 很多情况并不需要使用它. 为了保持向上兼容, df默认是True, 但是如果你的回测速度很慢, 请考虑把df设成False.

- fq: 复权选项:
    - `'pre'`: 前复权(根据'use_real_price'选项不同含义会有所不同, 参见[set_option]), 默认是前复权
    - `None`: 不复权, 返回实际价格
    - `'post'`: 后复权

**返回**

- df=True
    [pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是属性名字. 比如: 如果当前时间是2015-01-07, `attribute_history('000300.XSHG', 2)`将返回:

|---|open|close|high|low|volume|money|
|---|---|---|---|---|---|---|
|2015-01-05 00:00:00|3566.09|3641.54|3669.04|3551.51|451198098.0|519849817448.0|
|2015-01-06 00:00:00|3608.43|3641.06|3683.23|3587.23|420962185.0|498529588258.0|

- df=False:
    dict, key是股票代码, 值是一个numpy数组[numpy.ndarray], 对应上面的DataFrame的每一列, 例如`attribute_history('000300.XSHG', 2, df=False)`将返回:
    ```python
    {
        'volume': array([  4.51198098e+08,   4.20962185e+08]),
        'money': array([  5.19849817e+11,   4.98529588e+11]),
        'high': array([ 3669.04,  3683.23]),
        'low': array([ 3551.51,  3587.23]),
        'close': array([ 3641.54,  3641.06]),
        'open': array([ 3566.09,  3608.43])
    }
    ```

**示例**<pre><code class="python language-python">stock = '000001.XSHE'
h = attribute_history(stock, 5, '1d', ('open','close', 'volume', 'factor')) # 取得000001(平安银行)过去5天的每天的开盘价, 收盘价, 交易量, 复权因子
# 不管df等于True还是False, 下列用法都是可以的
h['open'] #过去5天的每天的开盘价, 一个pd.Series对象, index是datatime
h['close'][-1] #昨天的收盘价
h['open'].mean()

# 下面的pandas.DataFrame的特性, df=False时将不可用
# 行的索引可以是整数, 也可以是日期的各种形式:
h['open']['2015-01-05']
h['open'][datetime.date(2015, 1, 5)]
h['open'][datetime.datetime(2015, 1, 5)]

# 按行取数据
h.iloc[-1] #昨天的开盘价和收盘价, 一个pd.Series对象, index是字符串:'open'/'close'
h.iloc[-1]['open'] #昨天的开盘价
h.loc['2015-01-05']['open']

# 高级运算
h = h[h['volume'] &gt; 1000000] # 只保留交易量&gt;1000000股的行
h['open'] = h['open']/h['factor'] #让open列都跟factor列相除, 把价格都转化成原始价格
h['close'] = h['close']/h['factor']
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_bars ♠ <span id="get_bars"></span> </label>
      <label>获取历史数据(包含快照数据)，可查询多个标的多个数据字段，返回数据格式为 numpy.ndarray</label>
      <article>
<pre><code class="python language-python">get_bars(security, count, unit='1d',
                 fields=['date', 'open','high','low','close'],
                 include_now=False)
</code></pre>
**回测环境/模拟专用API**

获取各种时间周期的 bar 数据， bar 的分割方式与主流股票软件相同， 而且支持返回当前时刻所在 bar 的数据。

**参数**

- security: 股票代码
- count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。
- unit: bar的时间单位, 支持如下周期：'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w', '1M'。'1w' 表示一周，‘1M' 表示一月。
- fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money'
- include_now:  取值True 或者False。 表示是否包含当前bar, 比如策略时间是9:33，unit参数为5m， 如果 include_now=True,则返回9:30-9:33这个分钟 bar。

**返回**

一个 numpy.ndarray 对象。可以通过 array['close'] 的方式直接访问列数据。

**示例**
<pre><code class="python language-python">array = get_bars('000001.XSHG', 5, unit='1d',fields=['open','close'],include_now=False)
array['close']
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_current_data ♠ <span id="get_current_data"></span> </label>
      <label>获取当前时间数据</label>
      <article>
<pre><code class="python language-python">get_current_data()
</code></pre>
**回测环境/模拟专用API**

获取当前单位时间（当天/当前分钟）的涨跌停价, 是否停牌，当天的开盘价等。

回测时, 通过 API 获取到的是前一个单位时间(天/分钟)的数据, 而有些数据, 我们在这个单位时间是知道的, 比如涨跌停价, 是否停牌, 当天的开盘价. 我们添加了这个API用来获取这些数据.

**参数**

- 现在不需要传入, 即使传入了, 返回的 dict 也是空的, dict 的 value 会按需获取.

**返回值**
一个dict, 其中 key 是股票代码, value 是拥有如下属性的对象

- last_price : 最新价
- high_limit: 涨停价
- low_limit: 跌停价
- paused: 是否停止或者暂停了交易, 当停牌、未上市或者退市后返回 True
- is_st: 是否是 ST(包括ST, *ST)，是则返回 True，否则返回 False
- day_open: 当天开盘价
- name: 股票现在的名称, 可以用这个来判断股票当天是否是 ST, *ST, 是否快要退市
- industry_code: 股票现在所属行业代码, 参见 [行业概念数据](/data/dict/plateData)

**注意**

- 为了加速, 返回的 dict 里面的数据是按需获取的, dict 初始是空的, 当你使用 `current_data[security]` 时(假设 current_data 是返回的 dict), 该 security 的数据才会被获取.
- 返回的结果只在当天有效, 请不要存起来到隔天再用

**示例**<pre><code class="python language-python">def handle_data(context, data):
    current_data = get_current_data()
    print current_data
    print current_data['000001.XSHE']
    print current_data['000001.XSHE'].paused
    print current_data['000001.XSHE'].day_open
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_extras <span id="get_extras"></span> </label>
      <label>获取基金单位/累计净值，期货结算价/持仓量等</label>
      <article>
<pre><code class="python language-python">get_extras(info, security_list, start_date='2015-01-01', end_date='2015-12-31', df=True, count=None)
</code></pre>
得到多只标的在一段时间的如下额外的数据:

- is_st: 是否是ST，是则返回 True，否则返回 False
- acc_net_value: 基金累计净值
- unit_net_value: 基金单位净值
- futures_sett_price: 期货结算价
- futures_positions: 期货持仓量

**参数**

- info: ['is_st', 'acc_net_value', 'unit_net_value', 'futures_sett_price', 'futures_positions'] 中的一个
- security_list: 股票列表
- start_date/end_date: 开始结束日期, 同 [get_price]
- df: 返回[pandas.DataFrame]对象还是一个dict, 同 [history]
- count: 数量, **与 start_date 二选一, 不可同时使用**, 必须大于 0. 表示取 end_date 往前的 count 个交易日的数据

**返回值**

- df=True:
    [pandas.DataFrame]对象, 列索引是股票代号, 行索引是[datetime.datetime], 比如`get_extras('acc_net_value', ['510300.XSHG', '510050.XSHG'], start_date='2015-12-01', end_date='2015-12-03')`返回:

|---|510300.XSHG|510050.XSHG|
|---|---|---|
|2015-12-01 00:00:00|1.395|3.119|
|2015-12-02 00:00:00|1.4432|3.251|
|2015-12-03 00:00:00|1.4535|3.254|

`get_extras('is_st', ['000001.XSHE', '000018.XSHE'], start_date='2013-12-01', end_date='2013-12-03')`返回:

|---|000001.XSHE|000018.XSHE|
|---|---|---|
|2013-12-02 00:00:00|False|True|
|2013-12-03 00:00:00|False|True|

- df=False
    一个dict, key是基金代号, value是[numpy.ndarray], 比如`get_extras('acc_net_value', ['510300.XSHG', '510050.XSHG'], start_date='2015-12-01', end_date='2015-12-03', df=False)` 返回:<pre><code class="python language-python">{
    u'510050.XSHG': array([ 3.119,  3.251,  3.254]),
    u'510300.XSHG': array([ 1.395 ,  1.4432,  1.4535])
}
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_fundamentals <span id="get_fundamentals"></span> </label>
      <label>查询财务数据</label>
      <article>
<pre><code class="python language-python">get_fundamentals(query_object, date=None, statDate=None)
</code></pre>
查询财务数据，详细的数据字段描述请点击<a href="/data/dict/fundamentals" target="_blank">财务数据文档</a>查看

date和statDate参数只能传入一个:

- 传入date时, 查询**指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据**, 我们会查找上市公司在这个日期之前(包括此日期)发布的数据, 不会有未来函数.
- 传入statDate时, 查询 **statDate 指定的季度或者年份的财务数据**. 注意:
1. 由于公司发布财报不及时, 一般是看不到当季度或年份的财务报表的, 回测中使用这个数据可能会有未来函数, 请注意规避.
2. 由于估值表每天更新, 当按季度或者年份查询时, 返回季度或者年份最后一天的数据
3. 由于“资产负债数据”这个表是存量性质的， 查询年度数据是返回第四季度的数据。
4. 银行业、券商、保险专项数据只有年报数据，需传入statDate参数，当传入 date 参数 或 statDate 传入季度时返回空，请自行避免未来函数。

当 date 和 statDate 都不传入时, 相当于使用 date 参数, date 的默认值下面会描述.

**参数**

- query_object: 一个[sqlalchemy.orm.query.Query对象](http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html), 可以通过全局的 query 函数获取 Query 对象
- date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 这个默认日期在回测和研究模块上有点差别:
1. 回测模块: 默认值会随着回测日期变化而变化, 等于 context.current_dt 的前一天(实际生活中我们只能看到前一天的财报和市值数据, 所以要用前一天)
2. 研究模块: 使用平台财务数据的最新日期, 一般是昨天.
如果传入的 date 不是交易日, 则使用这个日期之前的最近的一个交易日

- statDate: 财报统计的季度或者年份, 一个字符串, 有两种格式:
1. 季度: 格式是: **年 + 'q' + 季度序号**, 例如: '2015q1', '2013q4'.
2. 年份: 格式就是年份的数字, 例如: '2015', '2016'.

**返回**
返回一个 [pandas.DataFrame], 每一行对应数据库返回的每一行(可能是几个表的联合查询结果的一行), 列索引是你查询的所有字段
注意：
1. 为了防止返回数据量过大, 我们每次最多返回10000行
2. 当相关股票上市前、退市后，财务数据返回各字段为空

**示例**<pre><code class="python language-python"># 查询'000001.XSHE'的所有市值数据, 时间是2015-10-15
q = query(
    valuation
).filter(
    valuation.code == '000001.XSHE'
)
df = get_fundamentals(q, '2015-10-15')
# 打印出总市值
log.info(df['market_cap'][0])
</code></pre>
<pre><code class="python language-python"># 获取多只股票在某一日期的市值, 利润
df = get_fundamentals(query(
        valuation, income
    ).filter(
        # 这里不能使用 in 操作, 要使用in_()函数
        valuation.code.in_(['000001.XSHE', '600000.XSHG'])
    ), date='2015-10-15')
</code></pre>
<pre><code class="python language-python"># 选出所有的总市值大于1000亿元, 市盈率小于10, 营业总收入大于200亿元的股票
df = get_fundamentals(query(
        valuation.code, valuation.market_cap, valuation.pe_ratio, income.total_operating_revenue
    ).filter(
        valuation.market_cap &gt; 1000,
        valuation.pe_ratio &lt; 10,
        income.total_operating_revenue &gt; 2e10
    ).order_by(
        # 按市值降序排列
        valuation.market_cap.desc()
    ).limit(
        # 最多返回100个
        100
    ), date='2015-10-15')
</code></pre>
<pre><code class="python language-python"># 使用 or_ 函数: 查询总市值大于1000亿元 **或者** 市盈率小于10的股票
from sqlalchemy.sql.expression import or_
get_fundamentals(query(
        valuation.code
    ).filter(
        or_(
            valuation.market_cap &gt; 1000,
            valuation.pe_ratio &lt; 10
        )
    ))
</code></pre>
<pre><code class="python language-python"># 查询平安银行2014年四个季度的季报, 放到数组中
q = query(
        income.statDate,
        income.code,
        income.basic_eps,
        balance.cash_equivalents,
        cash_flow.goods_sale_and_service_render_cash
    ).filter(
        income.code == '000001.XSHE',
    )

rets = [get_fundamentals(q, statDate='2014q'+str(i)) for i in range(1, 5)]
</code></pre>
<pre><code class="python language-python"># 查询平安银行2014年的年报
q = query(
        income.statDate,
        income.code,
        income.basic_eps,
        cash_flow.goods_sale_and_service_render_cash
    ).filter(
        income.code == '000001.XSHE',
    )

ret = get_fundamentals(q, statDate='2014')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_fundamentals_continuously <span id="get_fundamentals_continuously"></span> </label>
      <label>查询多日的财务数据</label>
      <article>
<pre><code class="python language-python">get_fundamentals_continuously(query_object, end_date=None,count=None)
</code></pre>
查询财务数据，详细的数据字段描述请点击<a href="/data/dict/fundamentals" target="_blank">财务数据文档</a>查看

**参数**

- query_object: 一个[sqlalchemy.orm.query.Query对象](http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html), 可以通过全局的 query 函数获取 Query 对象
- end_date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 这个默认日期在回测和研究模块上有点差别:
1. 回测模块: 默认值会随着回测日期变化而变化, 等于 context.current_dt 的前一天(实际生活中我们只能看到前一天的财报和市值数据, 所以要用前一天)
2. 研究模块: 使用平台财务数据的最新日期, 一般是昨天.
如果传入的 date 不是交易日, 则使用这个日期之前的最近的一个交易日
- count: 获取 end_date 前 count 个日期的数据

**返回**
返回一个 [pandas.Panel]

**出于性能方面考虑，我们做出了返回总条数不超过10000条的限制。 也就是说：查询的股票数量\*count 要小于10000。 否则，返回的数据会不完整。**

**示例**
<pre><code class="python language-python">&gt;&gt;&gt; q = query(valuation.turnover_ratio,
              valuation.market_cap,
              indicator.eps
            ).filter(valuation.code.in_(['000001.XSHE', '600000.XSHG']))

&gt;&gt;&gt; panel = get_fundamentals_continuously(q, end_date='2018-01-01', count=5)

&gt;&gt;&gt; panel 

\&lt;class 'pandas.core.panel.Panel'\&gt;
Dimensions: 3 (items) x 5 (major_axis) x 2 (minor_axis)
Items axis: turnover_ratio to eps
Major_axis axis: 2017-12-25 to 2017-12-29
Minor_axis axis: 000001.XSHE to 600000.XSHG

&gt;&gt;&gt; panel.minor_xs('600000.XSHG')

turnover_ratio  market_cap  eps
day         
2017-12-25  0.0687  3695.4270   0.48
2017-12-26  0.0542  3710.1030   0.48
2017-12-27  0.1165  3704.2324   0.48
2017-12-28  0.0849  3680.7510   0.48
2017-12-29  0.0582  3695.4270   0.48


&gt;&gt;&gt; panel.major_xs('2017-12-25')

turnover_ratio  market_cap  eps
code            
000001.XSHE 0.9372  2275.0796   0.38
600000.XSHG 0.0687  3695.4270   0.48

&gt;&gt;&gt; panel.xs('turnover_ratio',axis=0)
# axis=0 表示 items axis; axis=1 表示 major axis; axis=2 表示 minor axis

code    000001.XSHE 600000.XSHG
day     
2017-12-25  0.9372  0.0687
2017-12-26  0.6642  0.0542
2017-12-27  0.8078  0.1165
2017-12-28  0.9180  0.0849
2017-12-29  0.5810  0.0582
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>jy.run_query <span id="jy"></span> </label>
      <label>更多财务及宏观数据</label>
      <article>
<pre><code class="python language-python">from jqdata import jy
jy.run_query(query_object)
</code></pre>
查询聚源数据，详细的数据字段描述请点击[聚源数据](https://www.joinquant.com/help/data/data?name=jy)查看

**参数**

- query_object: 一个[sqlalchemy.orm.query.Query对象](http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html), 可以通过全局的query函数获取Query对象

**返回**

- 返回一个pandas.DataFrame, 每一行对应数据库返回的每一行, 列索引是你查询的所有字段

**注意**

1. 为了防止返回数据量过大, 我们每次最多返回3000行 
2. 不能进行连表查询，即同时查询多张表内数据

**示例**
<pre><code class="python language-python"># 查询'股票基本信息表 - STK_STOCKINFO'的数据, 并返回前10条数据
from jqdata import jy
df = jy.run_query(query(jy.LC_StockArchives).limit(10))

# 打印出公司名称
log.info(df['ChiName'])
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>macro.run_query <span id="macro"></span> </label>
      <label>获取聚宽宏观经济数据</label>
      <article>

**数据调用方法**
<pre><code class="python language-python">from jqdata import *
macro.run_query(query_object)
</code></pre>

**参数**
* query_object: 一个[sqlalchemy.orm.query.Query对象](http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html), 可以通过全局的query函数获取Query对象。

**返回**
返回一个 dataframe， 每一行对应数据库返回的每一行， 列索引是你所查询的字段

注意
1. 为了防止返回数据量过大, 我们每次最多返回3000行 
2. 不能进行连表查询，即同时查询多张表内数据

**示例**
<pre><code class="python language-python"># 查询分地区农林牧渔业总产值表(季度累计) 的前10条数据
q = query(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_QUARTER
    ).limit(10)
df = macro.run_query(q)
</code></pre>
<pre><code class="python language-python"># 查询2014年的分地区农林牧渔业总产值表(年度)
q = query(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_YEAR
        ).filter(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_YEAR.stat_year=='2014')
df = macro.run_query(q)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_billboard_list <span id="get_billboard_list"></span> </label>
      <label> 获取龙虎榜数据</label>
      <article>
<pre><code class="python language-python">get_billboard_list(stock_list, start_date, end_date, count)
</code></pre>
获取指定日期区间内的龙虎榜数据

**参数**

- stock_list: 一个股票代码的 list。 当值为 None 时， 返回指定日期的所有股票。
- start_date:开始日期
- end_date: 结束日期
- count: 交易日数量， 可以与 end_date 同时使用， 表示获取 end_date 前 count 个交易日的数据(含 end_date 当日)

**返回值**

- pandas.DataFrame， 各 column 的含义如下:

    - code: 股票代码
    - day: 日期
    - direction: ALL 表示『汇总』，SELL 表示『卖』，BUY 表示『买』
    - abnormal_code: 异常波动类型
    - abnormal_name: 异常波动名称
    - sales_depart_name: 营业部名称
    - rank: 0 表示汇总， 1~5 表示买一到买5， 6~10 表示卖一到卖五
    - buy_value:买入金额
    - buy_rate:买入金额占比(买入金额/市场总成交额)
    - sell_value:卖出金额
    - sell_rate:卖出金额占比(卖出金额/市场总成交额)
    - net_value:净额(买入金额 - 卖出金额)
    - amount:市场总成交额


**示例**<pre><code class="python language-python"># 在策略中获取前一日的龙虎榜数据
get_billboard_list(stock_list=None, end_date = context.previous_date, count =1)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_locked_shares <span id="get_locked_shares"></span> </label>
      <label>获取限售解禁数据</label>
      <article>
<pre><code class="python language-python">get_locked_shares(stock_list, start_date, end_date, forward_count)
</code></pre>
获取指定日期区间内的限售解禁数据

**参数**

- stock_list: 一个股票代码的 list
- start_date: 开始日期
- end_date: 结束日期
- forward_count: 交易日数量， 可以与 start_date 同时使用， 表示获取 start_date 到 forward_count 个交易日区间的数据

**返回值**

- pandas.DataFrame， 各 column 的含义如下:

    - day: 解禁日期
    - code: 股票代码
    - num: 解禁股数
    - rate1: 解禁股数/总股本
    - rate2: 解禁股数/总流通股本

**示例**<pre><code class="python language-python"># 在策略中获取个股未来500天的解禁情况
get_locked_shares(stock_list=['000001.XSHE', '000002.XSHE'], start_date=context.current_dt, forward_count=500)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_index_stocks <span id="get_index_stocks"></span> </label>
      <label>获取指数成份股</label>
      <article>
<pre><code class="python language-python">get_index_stocks(index_symbol, date=None)
</code></pre>
获取一个指数给定日期在平台可交易的成分股列表，请点击[指数列表](/indexData)查看指数信息

**参数**

- index_symbol: 指数代码
- date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 这个默认日期在回测和研究模块上有点差别:
    1. 回测模块: 默认值会随着回测日期变化而变化, 等于context.current_dt
    2. 研究模块: 默认是今天

**返回**
返回股票代码的list

**示例**<pre><code class="python language-python"># 获取所有沪深300的股票
stocks = get_index_stocks('000300.XSHG')
log.info(stocks)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_industry_stocks <span id="get_industry_stocks"></span> </label>
      <label>获取行业成份股</label>
      <article>
<pre><code class="python language-python">get_industry_stocks(industry_code, date=None)
</code></pre>
获取在给定日期一个行业的所有股票，行业分类列表见数据页面-[行业概念数据](/data/dict/plateData)。

**参数**

- industry_code: 行业编码
- date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 这个默认日期在回测和研究模块上有点差别:
    1. 回测模块: 默认值会随着回测日期变化而变化, 等于context.current_dt
    2. 研究模块: 默认是今天

**返回**
返回股票代码的list

**示例**<pre><code class="python language-python"># 获取计算机/互联网行业的成分股
stocks = get_industry_stocks('I64')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_concept_stocks <span id="get_concept_stocks"></span> </label>
      <label>获取概念成份股</label>
      <article>
<pre><code class="python language-python">get_concept_stocks(concept_code, date=None)
</code></pre>
获取在给定日期一个概念板块的所有股票，概念板块分类列表见数据页面-[行业概念数据](/data/dict/plateData)。

**参数**

- concept_code: 概念板块编码
- date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 这个默认日期在回测和研究模块上有点差别:
    1. 回测模块: 默认值会随着回测日期变化而变化, 等于context.current_dt
    2. 研究模块: 默认是今天

**返回**
返回股票代码的list

**示例**<pre><code class="python language-python"># 获取风力发电概念板块的成分股
stocks = get_concept_stocks('GN036')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_industries <span id="get_industries"></span> </label>
      <label>获取行业列表</label>
      <article>
<pre><code class="python language-python">from jqdata import *
get_industries(name='zjw')
</code></pre>

按照行业分类获取行业列表。

**参数**

- name: 行业代码， 取值如下：

    - "sw_l1": 申万一级行业
    - "sw_l2": 申万二级行业
    - "sw_l3": 申万三级行业
    - "jq_l1": 聚宽一级行业
    - "jq_l2": 聚宽二级行业
    - "zjw": 证监会行业

**返回值**

- pandas.DataFrame， 各 column 的含义如下:

    - index: 行业代码
    - name: 行业名称
    - start_date: 开始日期

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_concepts <span id="get_concepts"></span> </label>
      <label>获取概念列表</label>
      <article>
<pre><code class="python language-python">from jqdata import *
get_concepts()
</code></pre>
获取所有的概念板块列表，行业分类列表见数据页面-[行业概念数据](/data/dict/plateData)。


**返回值**

- pandas.DataFrame， 各 column 的含义如下:

    - index: 概念代码
    - name: 概念名称
    - start_date: 开始日期

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>


    <div class="group">
      <label>get_all_securities <span id="get_all_securities"></span> </label>
      <label>获取所有标的信息</label>
      <article>
<pre><code>get_all_securities(types=[], date=None)
</code></pre>
获取平台支持的所有股票、基金、指数、期货信息

**参数**

- types: list: 用来过滤securities的类型, list元素可选: 'stock', 'fund', 'index', 'futures', 'etf', 'lof', 'fja', 'fjb', 'open_fund', 'bond_fund', 'stock_fund', 'QDII_fund', 'money_market_fund', 'mixture_fund'。 **types为空时返回所有股票, 不包括基金,指数和期货**
- date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息

**返回**
[pandas.DataFrame], 比如:`get_all_securities()[:2]`返回:

|---|display_name|name|start_date|end_date|type|
|---|---|---|---|---|---|
|000001.XSHE|平安银行|PAYH|1991-04-03|9999-01-01|stock|
|000002.XSHE|万  科Ａ|WKA|1991-01-29|9999-01-01|stock|


- display_name: 中文名称
- name: 缩写简称
- start_date: 上市日期
- end_date: 退市日期，如果没有退市则为2200-01-01
- type: 类型，stock(股票)，index(指数)，etf(ETF基金)，fja（分级A），fjb（分级B），open_fund（开放式基金）, bond_fund（债券基金）, stock_fund（股票型基金）, QDII_fund（QDII 基金）, money_market_fund（货币基金）, mixture_fund（混合型基金）


**示例**<pre><code class="python language-python">def initialize(context):
    #获得所有股票列表
    log.info(get_all_securities())
    log.info(get_all_securities(['stock']))

    #将所有股票列表转换成数组
    stocks = list(get_all_securities(['stock']).index)

    #获得所有指数列表
    get_all_securities(['index'])

    #获得所有基金列表
    df = get_all_securities(['fund'])

    #获取所有期货列表
    get_all_securities(['futures'])

    #获得etf基金列表
    df = get_all_securities(['etf'])
    #获得lof基金列表
    df = get_all_securities(['lof'])
    #获得分级A基金列表
    df = get_all_securities(['fja'])
    #获得分级B基金列表
    df = get_all_securities(['fjb'])

    #获得2015年10月10日还在上市的所有股票列表
    get_all_securities(date='2015-10-10')
    #获得2015年10月10日还在上市的 etf 和 lof 基金列表
    get_all_securities(['etf', 'lof'], '2015-10-10')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_security_info <span id="get_security_info"></span> </label>
      <label>获取单个标的信息</label>
      <article>
<pre><code class="python language-python">get_security_info(code)
</code></pre>
获取股票/基金/指数的信息.

**参数**

- code: 证券代码

**返回值**

- 一个对象, 有如下属性:

    - display_name: 中文名称
    - name: 缩写简称
    - start_date: 上市日期, [datetime.date] 类型
    - end_date: 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01
    - type: 股票、基金、金融期货、期货、债券基金、股票基金、QDII 基金、货币基金、混合基金、场外基金，'stock'/ 'fund' / 'index_futures' / 'futures' / 'bond_fund' / 'stock_fund' / 'QDII_fund' / 'money_market_fund' / ‘mixture_fund' / 'open_fund'
    - parent: 分级基金的母基金代码

**示例**<pre><code class="python language-python"># 获取基金的母基金, 下面的判断为真.
assert get_security_info('502050.XSHG').parent == '502048.XSHG'
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_all_trade_days <span id="get_all_trade_days"></span> </label>
      <label>获取所有交易日</label>
      <article>
<pre><code class="python language-python">from jqdata import *
get_all_trade_days()
</code></pre>
获取所有交易日, 不需要传入参数, 返回一个包含所有交易日的 [numpy.ndarray], 每个元素为一个 [datetime.date] 类型.

**注： 需导入 jqdata 模块，即在策略或研究起始位置加入`import jqdata`**

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_trade_days <span id="get_trade_days"></span> </label>
      <label>获取指定范围交易日</label>
      <article>
<pre><code class="python language-python">from jqdata import *
get_trade_days(start_date=None, end_date=None, count=None)
</code></pre>

获取指定日期范围内的所有交易日, 返回一个包含datetime.date object的列表, 包含指定的 start_date 和 end_date, 默认返回至 datatime.date.today() 的所有交易日

**注： 需导入 jqdata 模块，即在策略或研究起始位置加入`import jqdata`**

**参数**

- start_date: 开始日期, **与 count 二选一, 不可同时使用**. str/[datetime.date]/[datetime.datetime] 对象
- end_date: 结束日期, str/[datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()
- count: 数量, **与 start_date 二选一, 不可同时使用**, 必须大于 0. 表示取 end_date 往前的 count 个交易日，包含 end_date 当天。

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_money_flow <span id="get_money_flow"></span> </label>
      <label>获取资金流信息</label>
      <article>

<pre><code class="python language-python">from jqdata import *
get_money_flow(security_list, start_date=None, end_date=None, fields=None, count=None)
</code></pre>

获取一只或者多只股票在一个时间段内的资金流向数据，仅包含股票数据，不可用于获取期货数据。

**注： 需导入 jqdata 模块，即在策略或研究起始位置加入`import jqdata`**

**参数**

- security_list: 一只股票代码或者一个股票代码的 list
- start_date: 开始日期, **与 count 二选一, 不可同时使用**, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 默认为平台提供的数据的最早日期
- end_date: 结束日期, 一个字符串或者 [datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()
- count: 数量, **与 start_date 二选一，不可同时使用**, 必须大于 0. 表示返回 end_date 之前 count 个交易日的数据, 包含 end_date
- fields: 字段名或者 list, 可选. 默认为 None, 表示取全部字段, 各字段含义如下：

|字段名|含义|备注|
|---|---|---|
|date|日期|---|
|sec_code|股票代码|---|
|change_pct|涨跌幅(%)|---|
|net_amount_main|主力净额(万)|主力净额 = 超大单净额 + 大单净额|
|net_pct_main|主力净占比(%)|主力净占比 = 主力净额 / 成交额|
|net_amount_xl|超大单净额(万)|超大单：大于等于50万股或者100万元的成交单|
|net_pct_xl|超大单净占比(%)|超大单净占比 = 超大单净额 / 成交额|
|net_amount_l|大单净额(万)|大单：大于等于10万股或则20万元且小于50万股或者100万元的成交单|
|net_pct_l|大单净占比(%)|大单净占比 = 大单净额 / 成交额|
|net_amount_m|中单净额(万)|中单：大于等于2万股或者4万元且小于10万股或则20万元的成交单|
|net_pct_m|中单净占比(%)|中单净占比 = 中单净额 / 成交额|
|net_amount_s|小单净额(万)|小单：小于2万股或者4万元的成交单|
|net_pct_s|小单净占比(%)|小单净占比 = 小单净额 / 成交额|

**返回**

返回一个 [pandas.DataFrame] 对象，默认的列索引为取得的全部字段. 如果给定了 fields 参数, 则列索引与给定的 fields 对应.

**示例**
<pre><code class="python language-python"># 获取一只股票在一个时间段内的资金流量数据
jqdata.get_money_flow('000001.XSHE', '2016-02-01', '2016-02-04')
jqdata.get_money_flow('000001.XSHE', '2015-10-01', '2015-12-30', fields="change_pct")
jqdata.get_money_flow(['000001.XSHE'], '2010-01-01', '2010-01-30', ["date", "sec_code", "change_pct", "net_amount_main", "net_pct_l", "net_amount_m"])

— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —

# 获取多只股票在一个时间段内的资金流向数据
jqdata.get_money_flow(['000001.XSHE', '000040.XSHE', '000099.XSHE'], '2010-01-01', '2010-01-30')
# 获取多只股票在某一天的资金流向数据
jqdata.get_money_flow(['000001.XSHE', '000040.XSHE', '000099.XSHE'], '2016-04-01', '2016-04-01')

— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —

# 获取股票 000001.XSHE 在日期 2016-06-30 往前 20 个交易日的资金流量数据
jqdata.get_money_flow('000001.XSHE', end_date="2016-06-30", count=20)
# 获取股票 000001.XSHE 往前 20 个交易日的资金流量数据
jqdata.get_money_flow('000001.XSHE', count=20)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="jqlib">jqlib</h3>
<p><span id="jqlib"></span></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">
    <div class="group">
      <label>alpha101 <span id="alpha01"></span> </label>
      <label>Alpha 101 因子</label>
      <article>

**因子来源**

根据 WorldQuant LLC 发表的论文 [*101 Formulaic Alphas*](https://arxiv.org/ftp/arxiv/papers/1601/1601.00991.pdf) 中给出的 101 个 Alphas 因子公式，我们将公式编写成了函数，方便大家使用。

**详细介绍**

函数计算公式、API 调用方法，输入输出值详情请见:[数据 - Alpha 101](/data/dict/alpha101).

**使用方法**
<pre><code class="python language-python"># 导入 Alpha101 库
&gt;&gt;&gt; from jqlib.alpha101 import *

# 获取沪深300成分股的 alpha_001 因子值
&gt;&gt;&gt; a = alpha_001('2017-03-10','000300.XSHG')

# 查看前5行的因子值
&gt;&gt;&gt; a.head()
000001.XSHE   -0.496667
000002.XSHE    0.226667
000008.XSHE   -0.043333
000009.XSHE   -0.093333
000027.XSHE   -0.030000
Name: rank_value_boolean, dtype: float64

# 查看平安银行的因子值
&gt;&gt;&gt; a['000001.XSHE']
-0.49666666666666665

# 获取所有股票 alpha_007 的因子值
&gt;&gt;&gt; a = alpha_007('2014-10-22')
# 查看欣旺达(300207)的因子值
&gt;&gt;&gt; a['300207.XSHE']
0.8

# 查询函数说明
&gt;&gt;&gt; alpha_101?
Type:        cython_function_or_method
String form: &lt;cyfunction alpha_101 at 0x7f037a0167d0&gt;
Docstring:
公式：
((close - open) / ((high - low) + .001))

Inputs:
    enddate: 查询日期
    index: 股票池

Outputs:
    因子的值
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>alpha191 <span id="alpha191"></span> </label>
      <label>Alpha 191 因子</label>
      <article>

**因子来源**

根据国泰君安数量化专题研究报告 - [基于短周期价量特征的多因子选股体系](http://vdisk.weibo.com/s/uEfe2futCdyJ9)给出了 191 个短周期交易型阿尔法因子，方便大家使用。

**详细介绍**

函数计算公式、API 调用方法，输入输出值详情请见:[数据 - Alpha 191](/data/dict/alpha191).

**使用方法**
<pre><code class="python language-python"># 导入 Alpha191 库
&gt;&gt;&gt; from jqlib.alpha191 import *

# 获取沪深300成分股的 alpha_001 因子值
&gt;&gt;&gt; a = alpha_001('2017-03-10','000300.XSHG')

# 查看前5行的因子值
&gt;&gt;&gt; a.head()
000001.XSHE   -0.496667
000002.XSHE    0.226667
000008.XSHE   -0.043333
000009.XSHE   -0.093333
000027.XSHE   -0.030000
Name: rank_value_boolean, dtype: float64

# 查看平安银行的因子值
&gt;&gt;&gt; a['000001.XSHE']
-0.49666666666666665

# 获取所有股票 alpha_007 的因子值
&gt;&gt;&gt;end_date = '2017-04-04'
&gt;&gt;&gt;code = list(get_all_securities(['stock'],date=end_date).index)
&gt;&gt;&gt; a = alpha_007(code,end_date)
# 查看欣旺达(300207)的因子值
&gt;&gt;&gt; a['300207.XSHE']
1.2494895018526142

# 查询函数说明
&gt;&gt;&gt; alpha_001?
Signature: alpha_001(code, end_date=None)
Docstring:
公式：
    (-1 * CORR(RANK(DELTA(LOG(VOLUME),1)),RANK(((CLOSE-OPEN)/OPEN)),6)
Inputs:
    code: 股票池
    end_date: 查询日期
Outputs:
    因子的值
File:      ~/alpha191.py
Type:      function
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>technical_analysis <span id="technical_analysis"></span> </label>
      <label>技术分析指标</label>
      <article>

**因子说明**
为了让用户有更多可直接调用的技术分析指标因子，我们计划基于通达信、东方财富、同花顺等的公式，来完善我们的技术分析指标因子库。

我们给出了公式的API、参数说明、返回值的结果及类型说明、备注（相较于上述三家结果及算法的比对）、用法注释及示例，旨在帮助您更方便、更快速的在策略研究中使用这些因子函数。

**详细介绍**
函数计算公式、API 调用方法，用法注释， 输入输出值详情请见:[数据 - 技术分析指标](/data/dict/technicalanalysis).

**使用方法**
<pre><code class="python language-python"># 导入 Alpha101 库
&gt;&gt;&gt; from jqlib.technical_analysis import *

# 定义股票池列表
security_list1 = '000001.XSHE'
security_list2 = ['000001.XSHE','000002.XSHE','601211.XSHG','603177.XSHG']


# 计算并输出 security_list1 的 GDX 值，分别返回：济安线、压力线和支撑线的值。
gdx_jax, gdx_ylx, gdx_zcx = GDX(security_list1,check_date='2017-01-04', N = 30, M = 9)
print gdx_jax[security_list1]
print gdx_ylx[security_list1]
print gdx_zcx[security_list1]

# 输出 security_list2 的 GDX 值
gdx_jax, gdx_ylx, gdx_zcx = GDX(security_list2,check_date='2017-01-04', N = 30, M = 9)
for stock in security_list2:
    print gdx_jax[stock]
    print gdx_ylx[stock]
    print gdx_zcx[stock]

# 查询函数说明
&gt;&gt;&gt; GDX?
Signature: GDX(security_list, check_date, N=30, M=9)
Docstring:
 计算公式：
    AA:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,N))/MA(CLOSE,N); 
    JAX:DMA(CLOSE,AA);
    压力线:(1+M/100)*JAX; 
    支撑线:(1-M/100)*JAX; 
    AA赋值:(2*收盘价+最高价+最低价)/4-收盘价的N日简单移动平均的绝对值/收盘价的N日简单移动平均
    输出济安线 = 以AA为权重收盘价的动态移动平均
    输出压力线 = (1+M/100)*JAX
    输出支撑线 = (1-M/100)*JAX
输入：
    security_list:股票列表
    check_date：要查询数据的日期
    N：统计的天数 N
    M：统计的天数 M
输出：
    济安线、压力线和支撑线的值。
输出结果类型：
    字典(dict)：键(key)为股票代码，值(value)为数据。
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<p><span id="order_func"></span> <span id="交易函数"></span> <span id="下单函数"></span></p>
<h3 id="交易函数">交易函数</h3>
<p><strong>提示：所有下单函数可以在 handle_data中 与 <a href="#task_func">定时运行函数</a> 的 time 参数为 "every_bar", "open", "morning", "night" 时使用。</strong></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>order <span id="order"></span><span id="order-method"></span> </label>
      <label>按股数下单</label>
      <article>
<pre><code class="python language-python">order(security, amount, style=None, side='long', pindex=0)
</code></pre>
买卖标的。调用成功后, 您将可以调用[get_open_orders]取得所有未完成的交易, 也可以调用[cancel_order]取消交易

**参数**

- security: 标的代码
- amount: 交易数量, 正数表示买入, 负数表示卖出
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，开空单还是多单。默认为多单，**股票、基金暂不支持开空单**。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0 指定第一个 subportfolio, 1 指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建订单成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python">#买入平安银行股票100股
order('000001.XSHE', 100) # 下一个市价单
order('000001.XSHE', 100, MarketOrderStyle()) # 下一个市价单, 功能同上
order('000001.XSHE', 100, LimitOrderStyle(10.0)) # 以10块价格下一个限价单
</code></pre>

**可能的失败原因**:

1. 股票数量经调整后变成0 (请看下面的说明)
2. 股票停牌
3. 股票未上市或者退市
4. 股票不存在
5. 为股票、基金开了空单
6. 选择了不存在的仓位号，如没有建立多个仓位，而设定pindex的数大于0

对于原因4, 我们会抛出异常停止运行, 因为我们认为这是您代码的bug.

**注意**:

- 因为下列原因, 有时候实际买入或者卖出的股票数量跟您设置的不一样，这个时候我们会在您的log中添加警告信息。

1. 买入时会根据您当前的现金来限制您买入的数量
2. 卖出时会根据您持有股票的数量来限制您卖出的数量
3. 我们会遵守A股交易规则: 每次交易数量只能是100的整数倍, 但是卖光所有股票时不受这个限制

- 根据交易所规则, 每天结束时会取消所有未完成交易

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order_target <span id="order_target"></span> </label>
      <label>目标股数下单</label>
      <article>
<pre><code class="python language-python">order_target(security, amount, style=None, side='long', pindex=0)
</code></pre>
买卖标的, 使最终标的的数量达到指定的amount

**参数**

- security: 标的代码
- amount: 期望的最终数量
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，平空单还是多单。默认为多单，**股票、基金暂不支持开空单**。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python"># 卖出平安银行所有股票
order_target('000001.XSHE', 0)
# 买入平安银行所有股票到100股
order_target('000001.XSHE', 100)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order_value <span id="order_value"></span> </label>
      <label>按价值下单</label>
      <article>
<pre><code class="python language-python">order_value(security, value, style=None, side='long', pindex=0)
</code></pre>
买卖价值为value的股票，**金融期货暂不支持该API**

**参数**

- security: 股票名字
- value: 股票价值
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，平空单还是多单。默认为多单，**股票、基金暂不支持开空单**。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。


**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python">#卖出价值为10000元的平安银行股票
order_value('000001.XSHE', -10000)
#买入价值为10000元的平安银行股票
order_value('000001.XSHE', 10000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order_target_value <span id="order_target_value"></span> </label>
      <label>目标价值下单</label>
      <article>
<pre><code class="python language-python">order_target_value(security, value, style=None, side='long', pindex=0)
</code></pre>
调整股票仓位到value价值，**金融期货暂不支持该API**

**参数**

- security: 股票名字
- value: 期望的股票最终价值
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，平空单还是多单。默认为多单，**股票、基金暂不支持开空单**。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。


**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python">#卖出平安银行所有股票
order_target_value('000001.XSHE', 0)
#调整平安银行股票仓位到10000元价值
order_target_value('000001.XSHE', 10000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>cancel_order <span id="cancel_order"></span> </label>
      <label>撤单</label>
      <article>
<pre><code class="python language-python">cancel_order(order)
</code></pre>
取消订单

**参数**

- order: [Order]对象或者order_id

**返回**
Order对象或者None, 如果取消委托成功, 则返回Order对象, 委托不存在返回None

**示例**<pre><code class="python language-python">#每个交易日结束运行
def after_trading_end(context):
    # 得到当前未完成订单
    orders = get_open_orders()
    # 循环，撤销订单
    for _order in orders.values():
        cancel_order(_order)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_open_orders <span id="get_open_orders"></span> </label>
      <label>获取未完成订单</label>
      <article>
<pre><code class="python language-python">get_open_orders()
</code></pre>
获得当天的所有未完成的订单

**参数**
无

**返回**
返回一个dict, key是order_id, value是[Order]对象

**示例**<pre><code class="python language-python">#每个交易日结束运行
def after_trading_end(context):
    #得到当前未完成订单
    orders = get_open_orders()
    for _order in orders.values():
        log.info(_order.order_id)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_orders <span id="get_orders"></span> </label>
      <label>获取订单信息</label>
      <article>
<pre><code class="python language-python">get_orders(order_id=None, security=None, status=None)
</code></pre>
获取当天的所有订单

**参数**

- order_id: 订单 id
- security: 标的代码，可以用来查询指定标的的所有订单
- status: [OrderStatus]， 查询特定订单状态的所有订单

**返回**
返回一个dict, key是order_id, value是[Order]对象

**示例**<pre><code class="python language-python">#每个交易日结束运行
def after_trading_end(context):
    #得到当天所有订单
    orders = get_orders()
    for _order in orders.values():
        log.info(_order.order_id)

    # 根据订单id查询订单
    get_orders(order_id='1517627499')   

    # 查询所有标的为 000002.XSHE 的订单
    get_orders(security='000002.XSHE')  

    # 查询订单状态为 OrderStatus.held 的所有订单
    get_orders(status=OrderStatus.held)

    # 查询标的为 000002.XSHE 且状态为 OrderStatus.held 的所有订单
    get_orders(security='000002.XSHE', status=OrderStatus.held)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_trades <span id="get_trades"></span> </label>
      <label>获取成交信息</label>
      <article>
<pre><code class="python language-python">get_trades()
</code></pre>
获取当天的所有成交记录, 一个订单可能分多次成交

**参数**
无

**返回**
返回一个dict, key是trade_id, value是[Trade]对象

**示例**<pre><code class="python language-python">#每个交易日结束运行
def after_trading_end(context):
    #得到当天所有成交记录
    trades = get_trades()
    for _trade in trades.values():
        log.info(_trade.trade_id)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<p><span id="object_func"></span></p>
<h3 id="对象">对象</h3>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label><span id="g"></span> g</label>
      <label>全局变量对象</label>
      <article>

全局对象 g，用来存储用户的各类可被[pickle.dumps]函数序列化的全局数据

在模拟盘中，如果中途进程中断，我们会使用[pickle.dumps]序列化所有的g下面的变量内容, 保存到磁盘中，再启动的时候模拟盘就不会有任何数据影响。如果没有用g声明，会出现模拟盘重启后，变量数据丢失的问题。

**如果不想 g 中的某个变量被序列化, 可以让变量以 '__' 开头, 这样, 这个变量在序列化时就会被忽略**

更多模拟盘细节, 请看 [模拟盘注意事项](#模拟盘注意事项).
<pre><code class="python language-python">def initialize(context):
    g.security = "000001.XSHE"
    g.count = 1
    g.flag = 0

def process_initialize(context):
    # 保存不能被序列化的对象, 进程每次重启都初始化, 更多信息, 请看 [process_initialize]
    g.__q = query(valuation)

def handle_data(context, data):
    log.info(g.security)
    log.info(g.count)
    log.info(g.flag)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="Context"></span>Context</label>
      <label>策略信息总览，包含账户、时间等信息</label>
      <article>

- subportfolios: 当前单个操作仓位的资金、标的信息，是一个[SubPortfolio](#subportfolios) 的数组

- portfolio: 账户信息，即subportfolios 的汇总信息, [Portfolio](#portfolio)对象，单个操作仓位时，portfolio 指向 subportfolios[0]

- current_dt: 当前单位时间的开始时间, [datetime.datetime]对象,

    - 按天回测时, hour = 9, minute = 30, second = microsecond = 0,
    - 按分钟回测时, second = microsecond = 0

- previous_date: 前一个交易日, [datetime.date]对象, 注意, 这是一个日期, 是 date, 而不是 datetime

- universe: 查询set_universe()设定的股票池, 比如: ['000001.XSHE', '600000.XSHG']

- run_params: 表示此次运行的参数, 有如下属性

    - start_date: 回测/模拟开始日期, [datetime.date]对象
    - end_date: 回测/模拟结束日期, [datetime.date]对象
    - type: 运行方式, 如下三个字符串之一
      - 'simple_backtest': 回测, 通过点击'编译运行'运行
      - 'full_backtest': 回测, 通过点击'运行回测'运行
      - 'sim_trade': 模拟交易
    - frequency: 运行频率, 如下三个字符串之一
      - 'day'
      - 'minute'
      - 'tick'

- 为了让从其他平台迁移过来的同学更顺手的使用系统, 我们对此对象也做了和 [g] 一样的处理:

    - 可以添加自己的变量, 每次进程关闭时持久保存, 进程重启时恢复.
    - 以 '__' 开头的变量不会被持久保存
    - 如果添加的变量与系统的冲突, 将覆盖掉系统变量, 如果想恢复系统变量, 请删除自己的变量. 示例:

    ```python
    def handle_data(context, data):
        # 执行下面的语句之后, context.portfolio 的整数 1
        context.portfolio = 1
        log.info(context.portfolio)
        # 要恢复系统的变量, 只需要使用下面的语句即可
        del context.portfolio
        # 此时, context.portfolio 将变成账户信息.
        log.info(context.portfolio.portfolio_value)
    ```

  - 我们以后可能会往 context 添加新的变量来支持更多功能, 为了减少不必要的迷惑, 还是建议大家使用 [g]

**示例**
<pre><code class="python language-python">def handle_data(context, data):

    #获得当前回测相关时间
    year = context.current_dt.year
    month = context.current_dt.month
    day = context.current_dt.day
    hour = context.current_dt.hour
    minute = context.current_dt.minute
    second = context.current_dt.second
    #得到"年-月-日"格式
    date = context.current_dt.strftime("%Y-%m-%d")
    #得到周几
    weekday = context.current_dt.isoweekday()

    # 获取账户的持仓价值
    positions_value = context.portfolio.positions_value

    # 获取仓位subportfolios[0]的可用资金
    available_cash = context.subportfolios[0].available_cash

    # 获取subportfolios[0]中多头仓位的security的持仓成本
    hold_cost = context.subportfolios[0].long_positions[security].hold_cost
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="subportfolios"></span>SubPortfolio</label>
      <label>子账户信息</label>
      <article>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="Portfolio"></span>Portfolio</label>
      <label>总账户信息</label>
      <article>

账户当前的资金，标的信息，即所有标的操作仓位的信息汇总。如未使用 SubPortfolioConfig 设置多仓位，默认只有subportfolios[0]一个仓位，Portfolio 指向该仓位。

- inout_cash: 累计出入金, 比如初始资金 1000, 后来转移出去 100, 则这个值是 1000 - 100
- available_cash: 可用资金, 可用来购买证券的资金
- transferable_cash: 可取资金, 即可以提现的资金, 不包括今日卖出证券所得资金
- locked_cash: 挂单锁住资金
- margin: 保证金，股票、基金保证金都为100%
- positions: 等同于 long_positions
- long_positions: 多单的仓位, 一个 dict, key 是证券代码, value 是 [Position]对象
- short_positions: 空单的仓位, 一个 dict, key 是证券代码, value 是 [Position]对象
- total_value: 总的权益, 包括现金, 保证金, 仓位的总价值, 可用来计算收益
- returns: 总权益的累计收益
- starting_cash: 初始资金, 现在等于 inout_cash
- positions_value: 持仓价值
- locked_cash_by_purchase: 基金申购未完成所冻结的金额
- locked_cash_by_redeem: 基金赎回未到账的金额
- locked_amount_by_redeem: 基金赎回时，冻结的份额
- ~~cash: **已过时**，等价于 available_cash~~
- ~~portfolio_value: **已过时**，等价于 total_value~~
- ~~unsell_positions: **已过时, 请使用 positions 代替**, 当前持有的不可以卖出的持仓(比如在A股T+1市场, 今天购票的股票), 并没有考虑股票今天是否停牌, 一个dict, key是股票代码, value是[Position]对象.~~

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="Position"></span>Position</label>
      <label>持仓标的信息</label>
      <article>

持有的某个标的的信息

- security: 标的代码
- price: 最新行情价格
- avg_cost: 开仓均价，买入标的的加权平均价, 计算方法是:
  (buy_volume1 * buy_price1 + buy_volume2 * buy_price2 + ...) / (buy_volume1 + buy_volume2 + ...)
  每次买入后会调整avg_cost, 卖出时avg_cost不变. 这个值也会被用来计算浮动盈亏.
- hold_cost: 持仓成本，**针对期货有效**。
- init_time: 建仓时间，格式为 datetime.datetime
- transact_time: 最后交易时间，格式为 datetime.datetime
- total_amount: 总仓位, 但不包括挂单冻结仓位
- closeable_amount: 可卖出的仓位 / 场外基金持有份额 
- today_amount: 今天开的仓位
- locked_amount: 挂单冻结仓位
- value: 标的价值，计算方法是: price * total_amount * multiplier, 其中股票、基金的multiplier为1，期货为相应的合约乘数
- side: 多/空，'long' or 'short'
- pindex: 仓位索引，subportfolio index
- ~~sellable_amount: **已过时**, 为了向前兼容, 等同于 closeable_amount~~
- ~~amount: **已过时**, 为了向前兼容, 等同于 closeable_amount~~

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="SecurityUnitData"></span><span id="data"></span>SecurityUnitData</label>
      <label>data对象</label>
      <article>

一个单位时间内的股票的数据

##### 基本属性

**以下属性也能通过[history]/[attribute_history]/[get_price]获取到**

- open: 时间段开始时价格
- close: 时间段结束时价格
- low: 最低价
- high: 最高价
- volume: 成交的股票数量
- money: 成交的金额
- factor: 前复权因子, 我们提供的价格都是前复权后的, 但是利用这个值可以算出原始价格, 方法是价格除以factor, 比如: `close/factor`
- high_limit: 涨停价
- low_limit: 跌停价
- avg: 这段时间的平均价, 等于`money/volume`
- ~~price: **已经过时**, 为了向前兼容, 等同于 avg~~
- pre_close: 前一个单位时间结束时的价格, 按天则是前一天的收盘价, 按分钟则是前一分钟的结束价格
- paused: bool值, 这只股票是否停牌, 停牌时open/close/low/high/pre_close依然有值,都等于停牌前的收盘价, volume=money=0

##### 额外的属性和方法

- security: 股票代码, 比如'000001.XSHE'
- returns: 股票在这个单位时间的相对收益比例, 等于 `(close-pre_close)/pre_close`
- isnan(): 数据是否有效, 当股票未上市或者退市时, 无数据, isnan()返回True
- `mavg(days, field='close')`: 过去days天的每天收盘价的平均值, 把field设成'avg'(等同于已过时的'price')则为每天均价的平均价, 下同
- `vwap(days)`: 过去days天的每天均价的加权平均值, 以days=2为例子, 算法是:
<pre><code class="python language-python">(avg1 * volume1 + avg2 * volume2) / (volume1 + volume2)
</code></pre>

- `stddev(days)`: 过去days天的每天收盘价的标准差
- 注：mavg/vwap/stddev:都会跳过停牌日期, 如果历史交易天数不足, 则返回nan

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="tick"></span>tick 对象</label>
      <label>tick 对象</label>
      <article>

一个 tick 所包含的信息。 tick 中的信息是在 tick 事件发生时， 盘面的一个快照。 

- code: 标的的代码
- datetime: tick 发生的时间
- current: 最新价
- high: 截至到当前时刻的最高价
- low: 截至到当前时刻的最低价
- volume: 截至到当前时刻的成交量
- amount: 截至到当前时刻的成交额
- position: 截至到当前时刻的持仓量，只适用于期货 tick 对象
- a1_v ~ a5_v: 卖一量到卖五量，对于期货，只有卖一量
- a1_p ~ a5_p: 卖一价到卖五价，对于期货，只有卖一量
- b1_v ~ b5_v: 买一量到买五量，对于期货，只有买一量
- b1_p ~ b5_p: 买一价到买五价，对于期货，只有买一价

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="Trade"></span>Trade对象</label>
      <label>订单的一次交易记录,一个订单可能分多次交易.</label>
      <article>

订单的一次交易记录,一个订单可能分多次交易.

- time: 交易时间, [datetime.datetime]对象
- amount: 交易数量
- price: 交易价格
- trade_id: 交易记录id
- order_id: 对应的订单id

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="order-object"></span>Order对象</label>
      <label>买卖订单信息</label>
      <article>

买卖订单

- status: 状态, 一个[OrderStatus]值
- add_time: 订单添加时间, [datetime.datetime]对象
- is_buy: bool值, 买还是卖，对于期货:
  - 开多/平空 -&gt; 买
  - 开空/平多 -&gt; 卖
- amount: 下单数量, 不管是买还是卖, 都是正数
- filled: 已经成交的股票数量, 正数
- security: 股票代码
- order_id: 订单ID
- price: 平均成交价格, 已经成交的股票的平均成交价格(一个订单可能分多次成交)
- avg_cost: 卖出时表示下卖单前的此股票的持仓成本, 用来计算此次卖出的收益. 买入时表示此次买入的均价(等同于price).
- side: 多/空，'long'/'short'
- action: 开/平， 'open'/'close'

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="OrderStatus"></span>OrderStatus</label>
      <label>订单状态</label>
      <article>

订单状态, Enum特性使用的第三方库(https://pypi.python.org/pypi/enum34)
<pre><code class="python language-python">class OrderStatus(Enum):
    # 订单新创建未委托，用于盘前/隔夜单，订单在开盘时变为 open 状态开始撮合
    new = 8

    # 订单未完成, 无任何成交
    open = 0

    # 订单未完成, 部分成交
    filled = 1

    # 订单完成, 已撤销, 可能有成交, 需要看 Order.filled 字段
    canceled = 2

    # 订单完成, 交易所已拒绝, 可能有成交, 需要看 Order.filled 字段
    rejected = 3

    # 订单完成, 全部成交, Order.filled 等于 Order.amount
    held = 4

    # 订单取消中，只有实盘会出现，回测/模拟不会出现这个状态
    pending_cancel = 9 
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="OrderStyle"></span>OrderStyle</label>
      <label>下单方式</label>
      <article>

下单方式, 有如下子类

- 市价单: 不论价格, 直接下单, 直到交易全部完成
<pre><code class="python language-python">class MarketOrderStyle(OrderStyle):
    pass
</code></pre>

- 限价单: 指定一个价格, 买入时不能高于它, 卖出时不能低于它, 如果不满足, 则等待满足后再交易
<pre><code class="python language-python">class LimitOrderStyle(OrderStyle):
    def __init__(self, limit_price):
        self.limit_price = limit_price
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="其他函数">其他函数</h3>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label><span id="record"></span>record ♠</label>
      <label>画图函数</label>
      <article>
<pre><code class="python language-python">record(**kwargs)
</code></pre>

**回测环境/模拟专用API**

我们会帮您在图表上画出收益曲线和基准的收益曲线，您也可以调用record函数来描画额外的曲线。
因为我们是按天展现的，如果您使用按分钟回测，我们画出的点是您最后一次调用record的值。

**参数**
很多key=&gt;value形式的参数，key曲线名称，value为值

**返回**
None

**示例**
<pre><code class="python language-python"># d是一个SecurityUnitData结构体，会画出每个单元时间(天或分钟)的平均价,开始价,结束价
record(price=d.price, open=d.open, close=d.close)
# 也可以画一条100的直线
record(price=100)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>send_message ♠<span id="send_message"></span></label>
      <label>发送自定义消息</label>
      <article>

#### 
<pre><code>send_message(message, channel='weixin')
</code></pre>

**回测环境/模拟专用API**

给用户自己发送消息, 暂时只支持微信消息.

**参数**
message: 消息内容. 字符串.
channel: 消息渠道, 暂时只支持微信: weixin. 默认值是 weixin

**返回值**
True/False, 表示是否发送成功. 当发送失败时, 会在日志中显示错误信息.

**注意**

- 要使用功能, 必须绑定微信。请注意自定义消息的发送不受模拟交易“微信通知”开关的控制。
- 此功能只能在 **模拟交易** 中使用, 回测中使用会直接忽略, 无任何提示.
- 微信消息每人每天不超过 **5** 条, 超出会失败.
- 微信消息主页只显示前 **200** 个字符, 点击详情可查看全部消息, 全部消息不得超过 **10000** 个字符.

**示例**
<pre><code class="python language-python">send_message("测试消息")
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="log"></span> log </label>
      <label>日志log信息</label>
      <article>
<pre><code class="python language-python">log.error(content)
log.warn(content)
log.info(content)
log.debug(content)
print content1, content2, ...
</code></pre>

分级别打log,跟python的logging模块一致
print输出的结果等同于log.info, 但是print后面的每一个元素会占用一行

**参数**
参数可以是字符串、对象等

**返回**
None

**示例**
<pre><code class="python language-python">log.info(history(10)) # 打印出 history(10)返回的结果
log.info("Selling %s, amount=%s", security, amount) # 打印出一个格式化后的字符串
print history(10), data, context.portfolio
</code></pre>

##### 设定log级别：log.set_level
<pre><code class="python language-python">log.set_level(name, level)
</code></pre>

设置不同种类的log的级别, 低于这个级别的log不会输出. 所有log的默认级别是debug

**参数**
name: 字符串, log种类, 必须是'order', 'history', 'strategy'中的一个, 含义分别是:

- order: 调用order系列API产生的log
- history: 调用history系列API(history/attribute_history/get_price)产生的log
- strategy: 您自己在策略代码中打的log

level: 字符串, 必须是'debug', 'info', 'warning', 'error'中的一个, 级别: debug &lt; info &lt; warning &lt; error

**返回**
None

**示例**
<pre><code class="python language-python"># 过滤掉order系列API产生的比error级别低的log
log.set_level('order', 'error')
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="write_file"></span>write_file</label>
      <label>将策略中的信息写入内容到研究模块文件中</label>
      <article>
<pre><code class="python language-python">write_file(path, content, append=False)
</code></pre>

写入内容到研究模块path文件, 写入后, 您可以立即在研究模块中看到这个文件

**参数**

- path: 相对路径, 相对于您的私有空间的根目录的路径
- content: 文件内容, str或者unicode, 如果是unicode, 则会使用UTF-8编码再存储.可以是二进制内容.
- append: 是否是追加模式, 当为False会清除原有文件内容，默认为False.

**返回**
None
 如果写入失败(一般是因为路径不合法), 会抛出异常

**示例**
<pre><code class="python language-python">write_file("test.txt", "hello world")

# 写入沪深300的股票到HS300.stocks.json文件中
import json
write_file('HS300.stocks.json', json.dumps(get_index_stocks('000300.XSHG')))

# 把 DataFrame 表保存到文件
df = attribute_history('000001.XSHE', 5, '1d') #获取DataFrame表
write_file('df.csv', df.to_csv(), append=False) #写到文件中

## 详细用法可以参考文档：https://www.joinquant.com/post/580
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="read_file"></span>read_file</label>
      <label>读取你在研模块中存放的私有文件</label>
      <article>
<pre><code class="python language-python">read_file(path)
</code></pre>

读取你的私有文件(您的私有文件可以在研究模块中看到)

**参数**
path: 相对路径, 相对于您的私有空间的根目录的路径

**返回**
返回文件的原始内容, 不做任何decode.

**示例**
<pre><code class="python language-python">#解析json文件
import json
content = read_file('HS300.stocks.json')
securities = json.loads(content)
log.info(securities)

#解析csv文件
import pandas as pd
from six import StringIO
body=read_file("open.csv")
data=pd.read_csv(StringIO(body))

## 详细用法可以参考文档：https://www.joinquant.com/post/580
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="自定义python库"></span>自定义python库</label>
      <label>自定义私人的Python库文件</label>
      <article>

您可以在把.py文件放在'研究'的根目录, 然后在回测中就可以通过import的方式来引用此文件. 比如

研究根目录/mylib.py:

    #-*- coding: utf-8 -*-
    # 如果你的文件包含中文, 请在文件的第一行使用上面的语句指定你的文件编码

    # 用到回测API请加入下面的语句
    from kuanke.user_space_api import *

    my_stocks = get_index_stocks('000300.XSHG')


在策略代码中:

    # 导入自己创建的库
    from mylib import *

    def initialize(context):
        log.info(my_stocks)

注意: 暂时只能import研究根目录下的.py文件, 还不能import子目录下的文件(比如通过 import a.b.c 来引用a/b/c.py)

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="create_backtest"></span>create_backtest</label>
      <label>通过一个策略ID从研究中创建回测</label>
      <article>
<pre><code class="python language-python">create_backtest(algorithm_id, start_date, end_date, frequency="day", initial_cash=10000, initial_positions=None, extras=None, name=None)
</code></pre>

通过一个策略ID从研究中创建回测

**参数：**

- algorithm_id: 策略ID，从策略编辑页的 url 中获取, 比如 '/algorithm/index/edit?algorithmId=xxxx'，则策略ID为 `xxxx`
- start_date: 回测开始日期
- end_date: 回测结束日期
- frequency: 数据频率，支持 day，minute
- initial_cash: 初始资金
- extras: 额外参数，一个 dict， 用于设置全局的 g 变量，如 extras={'x':1, 'y':2}，则回测中 g.x = 1, g.y = 2，需要注意的是，该参数的值是`在 initialize 函数执行之后`才设置给 g 变量的，所以这会覆盖掉 initialize 函数中 g 变量同名属性的值
- name: 回测名, 用于指定回测名称, 如果没有指定则默认采用策略名作为回测名
- initial_positions: 初始持仓。持仓会根据价格换成现金加到初始资金中，如果没有给定价格则默认获取股票最近的价格。格式如下:
<pre><code class="python language-python">initial_positions = [
    {
        'security':'000001.XSHE',
        'amount':'100',
    },
    {
        'security':'000063.XSHE',
        'amount':'100',
        'avg_cost': '1.0'
    },
]
</code></pre>

**返回：**

一个字符串, 即 backtest_id

**示例：**
<pre><code class="python language-python">algorithm_id = "xxxx"
extra_vars = {'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5}
initial_positions = [
    {
        'security':'000001.XSHE',
        'amount':'100',
    },
    {
        'security':'000063.XSHE',
        'amount':'100',
        'avg_cost': '1.0'
    },
]

params = {
    "algorithm_id": algorithm_id,
    "start_date": "2015-10-01",
    "end_date": "2016-07-31",
    "frequency": "day",
    "initial_cash": "1000000",
    "initial_positions": initial_positions,
    "extras": extra_vars,
}

created_bt_id = create_backtest(**params)
print(created_bt_id)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="get_backtest"></span>get_backtest</label>
      <label>研究中获取回测信息</label>
      <article>

#### 
<pre><code class="python language-python">gt = get_backtest(backtest_id)
</code></pre>

**参数：**

- backtest_id: 回测ID，从回测详情页的 url 中获取, 比如 '/algorithm/backtest/detail?backtestId='，则回测ID为 `xxxx`。如下图所示：

![](http://img2.ph.126.net/snwsgC-gi5p3YHLjWJaI2g==/6632085913469806298.png)

**返回：**

- gt.get_status():**获取回测状态**. 返回一个字符串，其含义分别为：
    - none: 未开始
    - running: 正在进行
    - done: 完成
    - failed: 失败
    - canceled: 取消
    - paused: 暂停
    - deleted: 已删除
- gt.get_params()：**获得回测参数**. 返回一个 dict, 包含调用 create_backtest 时传入的所有信息. (注： algorithm_id，initial_positions，extras 只有在研究中创建的回测才能取到)
- gt.get_results()：**获得收益曲线**. 返回一个 list，每个交易日是一个 dict，键的含义如下：
    - time: 时间
    - returns: 收益
    - benchmark_returns: 基准收益
    - 如果没有收益则返回一个空的 list
- gt.get_positions()：**获得持仓详情**. 返回一个 list，每个交易日为一个 dict，键的含义为：
    - time: 时间
    - security: 证券代码
    - security_name: 证券名称
    - amount: 持仓数量
    - price: 股票价格
    - avg_cost: 买入股票平均每股所花的钱
    - closeable_amount: 可平仓数量
    - 如果没有持仓则返回一个空的 list
- gt.get_orders()：**获得交易详情**. 返回一个 list，每个交易日为一个 dict，键的含义为：
    - time: 时间
    - security: 证券代码
    - security_name: 证券名称
    - action: 交易类型, 开仓('open')/平仓('close')
    - amount: 下单数量
    - filled: 成交数量
    - price: 平均成交价格
    - commission: 交易佣金
    - 如果没有持仓则返回一个空的 list
- gt.get_records()：**获得所有 record 记录**. 返回一个 list，每个交易日为一个 dict，键是 time 以及调用 record() 函数时设置的值.
- gt.get_risk()：**获得总的风险指标**. 返回一个 dict，键是各类收益指标数据，如果没有风险指标则返回一个空的 dict.
- gt.get_period_risks()：**获得分月计算的风险指标**. 返回一个 dict，键是各类指标, 值为一个 pandas.DataFrame. 如果没有风险指标则返回一个空的 dict.

**示例：**
<pre><code class="python language-python">gt = get_backtest("xxxx")

gt.get_status()        # 获取回测状态
gt.get_params()        # 获取回测参数
gt.get_results()       # 获取收益曲线
gt.get_positions()     # 获取所有持仓列表
gt.get_orders()        # 获取交易列表
gt.get_records()       # 获取所有record()记录
gt.get_risk()          # 获取总的风险指标
gt.get_period_risks()  # 获取分月计算的风险指标
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="normalize_code"></span>normalize_code</label>
      <label>股票代码格式转换</label>
      <article>
<pre><code class="python language-python">normalize_code()
</code></pre>

将其他形式的股票代码转换为聚宽可用的股票代码形式。

**仅适用于A股市场股票代码以及基金代码**

**示例**
<pre><code class="python language-python">#输入
for code in ('000001', 'SZ000001', '000001SZ', '000001.sz', '000001.XSHE'):
        print normalize_code(code)

#输出
000001.XSHE
000001.XSHE
000001.XSHE
000001.XSHE
000001.XSHE
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="enable_profile"></span><span id="性能分析"></span>enable_profile ♠</label>
      <label>性能分析 </label>
      <article>
<pre><code class="python language-python">enable_profile()
</code></pre>

**回测环境/模拟专用API**

开启性能分析功能, **请在所有代码之前调用这句话(即在策略编译页面的代码编辑框最上方放置该代码)**, 只在点击 '运行回测' 运行的时候才能看到性能分析结果.
开启性能分析之后, 你会在回测结果页面看到性能分析结果.
请注意, 不需要时, 请不要调用此函数, 因为它本身会影响程序性能.

结果示例(真实输出中没有中文说明):
<pre><code>// 时间单位: 微秒
Timer unit: 1e-06 s

// 函数执行总时间
Total time: 0.00277 s
// 文件名
File: user_code.py
// 函数名
Function: initialize at line 3

//  行号, 这一行执行次数,总执行时间,每次执行时间, 这一行执行时间在整个函数的比例
Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
     3                                           def initialize(context):
     4                                               # 定义一个全局变量, 保存要操作的股票
     5                                               # 000001(股票:平安银行)
     6         1           31     31.0      1.1      g.security = '000001.XSHE'
     7                                               # 初始化此策略
     8                                               # 设置我们要操作的股票池, 这里我们只操作一支股票
     9         1         2739   2739.0     98.9      set_universe([g.security])

Total time: 0.426325 s
File: user_code.py
Function: handle_data at line 12

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    12                                           def handle_data(context, data):
    13       122          398      3.3      0.1      security = g.security
    14                                               # 取得过去五天的平均价格
    15       122       168565   1381.7     39.5      average_price = data[security].mavg(5)
    16                                               # 取得上一时间点价格
    17       122          493      4.0      0.1      current_price = data[security].price
    18                                               # 取得当前的现金
    19       122          240      2.0      0.1      cash = context.portfolio.cash
    20
    21                                               # 如果上一时间点价格高出五天平均价1%, 则全仓买入
    22       122          396      3.2      0.1      if current_price &gt; 1.01*average_price:
    23                                                   # 计算可以买多少只股票
    24        30          124      4.1      0.0          number_of_shares = int(cash/current_price)
    25                                                   # 购买量大于0时，下单
    26        30           56      1.9      0.0          if number_of_shares &gt; 0:
    27                                                       # 买入股票
    28        30        83190   2773.0     19.5              order(security, +number_of_shares)
    29                                                       # 记录这次买入
    30        30        16202    540.1      3.8              log.info("Buying %s" % (security))
    31                                               # 如果上一时间点价格低于五天平均价, 则空仓卖出
    32        92         1119     12.2      0.3      elif current_price &lt; average_price and context.portfolio.positions[security].amount &gt; 0:
    33                                                   # 卖出所有股票,使这只股票的最终持有量为0
    34        13        86702   6669.4     20.3          order_target(security, 0)
    35                                                   # 记录这次卖出
    36        13         8210    631.5      1.9          log.info("Selling %s" % (security))
    37                                               # 画出上一时间点价格
    38       122        60630    497.0     14.2      record(stock_price=data[security].price)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="策略组合操作">策略组合操作</h3>
<p><span id="fencang"></span></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label><span id="init_subportfolios"></span>set_subportfolios</label>
      <label>初始化策略子账户 subportfolios</label>
      <article>
<pre><code class="python language-python">set_subportfolios([SubPortfolioConfig(cash,type), ... ])
</code></pre>

**初始化或者修改 subportfolios 的配置，只能在 initialize 中调用, 每个 SubPortfolioConfig 中 cash 的和应该等于总的初始资金**

**SubPortfolioConfig 参数**
<pre><code class="python language-python">SubPortfolioConfig(cash,type)
</code></pre>

- cash: 仓位初始资金
- type: 可操作标的的类型，'stock' / 'index_futures' / 'futures'  / 'stock_margin' / ‘open\_fund',  其中 stock 包括股票和基金，index_futures 指金融期货，futures 包含股指期货和商品期货，stock_margin 为融资融券账户, open\_fund为场外基金账户。

**示例**
<pre><code class="python language-python">init_cash = 500000 # 定义一个变量
# 设定subportfolios[0]为 股票和基金仓位，初始资金为 init_cash 变量代表的数值
# 设定subportfolios[1]为 金融期货仓位，初始资金为 init_cash 变量代表的数值
# 设定subportfolios[2]为 融资融券账户，初始资金为 init_cash 变量代表的数值
set_subportfolios([SubPortfolioConfig(cash=init_cash, type='stock'),\
                   SubPortfolioConfig(cash=init_cash, type='futures'),\
                   SubPortfolioConfig(cash=init_cash, type='stock_margin')])
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="SubPortfolio"></span>SubPortfolio</label>
      <label>子账户信息</label>
      <article>

某个仓位的资金，标的信息，如不使用 SubPortfolioConfig 设置多仓位，默认只有subportfolios[0]一个仓位，Portfolio 指向该仓位。每个策略最多可以创建100个 subportfolio。

有关 SubPortfolio 详情见[对象 - SubPortfolio](#subportfolios)

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label><span id="transfer_cash"></span>transfer_cash</label>
      <label>仓位间转移资金</label>
      <article>
<pre><code class="python language-python">transfer_cash(from_pindex, to_pindex, cash)
</code></pre>

从序号为 from_pindex 的 subportfolio 转移 cash 到序号为 to_pindex 的 subportfolio
资金转移及时到账

**示例**
<pre><code class="python language-python">从subportfolio[0] 向 subportfolio[1] 转移 500000
transfer_cash(from_pindex=0, to_pindex=1, cash=500000)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="Tick级策略专用函数">Tick 级策略专用函数</h3>
<p><span id="tick_bt"> </span></p>
<p><strong>Tick级回测模拟需要申请才能使用，<a href="http://joinquant.mikecrm.com/lFNhkfR">申请链接</a></strong></p>
<h4 id="tickapi"><strong>Tick级专用API</strong></h4>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>handle_tick <span id="handle_tick"></span> </label>
      <label>策略运行</label>
      <article>
<pre><code class="python language-python">handle_tick(context, tick)
</code></pre>

该函数在策略订阅的标的产生 tick 事件时被调用一次。如果没有 tick 事件， 则不会被调用。 

**参数**

- context: [context](#Context) 对象, 存放有当前的账户/标的持仓信息 
- tick: [tick](#tick对象) 对象， 存放了触发 handle_tick 事件的 tick 数据。 

**返回** 

- None

**示例**
<pre><code class="python language-python">def handle_tick(context, tick):
    log.info(tick)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>subscribe <span id="subscribe"></span> </label>
      <label>订阅标的的 tick 事件</label>
      <article>
<pre><code class="python language-python"> subscribe(security, frequency)
</code></pre>

订阅标的的 tick 事件， 必须在频率为 tick 的回测、模拟中使用。

**参数**

- security：要订阅的标的代码或代码列表。 不能直接订阅主力合约、指数合约代码, 每个策略中最多可同时订阅100个标的。目前支持订阅股票、商品期货和股指期货。
- frequency：目前必须使用'tick'

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>unsubcribe <span id="unsubscribe"></span> </label>
      <label>取消订阅标的的 tick 事件</label>
      <article>
<pre><code class="python language-python">unsubscribe(security, frequency)
</code></pre>

取消订阅标的的 tick 事件

**参数**

- security：要取消订阅的标的代码或代码列表。
- frequency：目前必须使用'tick'

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>unsubscribe_all <span id="unsubscribe_all"></span> </label>
      <label>取消订阅所有 tick 事件</label>
      <article>
<pre><code class="python language-python">unsubscribe_all()
</code></pre>
取消订阅所有 tick 事件

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_current_tick <span id="get_current_tick"></span> </label>
      <label>获取最新的 tick 数据</label>
      <article>
<pre><code class="python language-python">get_current_tick(security)
</code></pre>

**参数**

- security: 标的代码， 支持股票、商品期货和股指期货。 不可以使用主力合约和指数合约代码。

**返回** 
[tick 对象](#tick对象)

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h4 id="tick"><strong>Tick级示例策略</strong></h4>
<h5 id="1">示例1：</h5>
<pre><code class="python language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    init_cash = context.portfolio.starting_cash
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'futures'</span>)])

    g.code1 = <span class="hljs-string">'RB1802.XSGE'</span>
    g.code2 = <span class="hljs-string">'I1710.XDCE'</span>
    subscribe(g.code1, <span class="hljs-string">'tick'</span>)
    <span class="hljs-comment">#subscribe(g.code2, 'tick')</span>
    unsubscribe(g.code2, <span class="hljs-string">'tick'</span>)
    unsubscribe_all()
    subscribe(g.code1, <span class="hljs-string">'tick'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_tick</span><span class="hljs-params">(context, tick)</span>:</span>
    <span class="hljs-comment">#pass</span>
    log.info(tick)
    get_current_tick(g.code1)
    <span class="hljs-comment">#order(g.code1, 1 , side='short', pindex=0)</span>
</code></pre>
<h5 id="2">示例2：</h5>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入函数库</span>
<span class="hljs-keyword">import</span> jqdata
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    set_benchmark(<span class="hljs-string">'000300.XSHG'</span>)
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)
    set_order_cost(OrderCost(close_tax=<span class="hljs-number">0.001</span>, open_commission=<span class="hljs-number">0.0003</span>, close_commission=<span class="hljs-number">0.0003</span>, min_commission=<span class="hljs-number">5</span>), type=<span class="hljs-string">'stock'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">before_trading_start</span><span class="hljs-params">(context)</span>:</span>
    subscribe(<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'tick'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_tick</span><span class="hljs-params">(context, tick)</span>:</span>
    log.info(tick)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">after_trading_end</span><span class="hljs-params">(context)</span>:</span>
    unsubscribe_all()
</code></pre>
<h3 id="融资融券专用函数">融资融券专用函数</h3>
<p><span id="rongzirongquan"> </span></p>
<h4 id="spanidsetrzrqspan"><strong>初始化融资融券账户</strong><span id="setrzrq"></span></h4>
<p>初始化的仓位是<strong>不允许</strong>直接进行融资融券操作的，因为初始默认 subportfolios[0] 中 SubPortfolioConfig 的 type = 'stock'，只允许买卖股票与场内基金等。</p>
<p>因此要买卖金融期货，您需要设定 SubPortfolioConfig 的 type = 'stock_margin'，具体方法如下：</p>
<pre><code class="python language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>

    <span class="hljs-comment">## 设置单个账户</span>
    <span class="hljs-comment"># 获取初始资金</span>
    init_cash = context.portfolio.starting_cash 
    <span class="hljs-comment"># 设定账户为融资融券账户，初始资金为 init_cash 变量代表的数值（如不使用设置多账户，默认只有subportfolios[0]一个账户，Portfolio 指向该账户。）</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock_margin'</span>)])

    — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —
    <span class="hljs-comment">## 设置多个账户</span>
    <span class="hljs-comment"># 获取初始资金，并等分为三份</span>
    init_cash = context.portfolio.starting_cash/<span class="hljs-number">3</span>
    <span class="hljs-comment"># 设定subportfolios[0]为 股票和基金仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[1]为 金融期货仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[2]为 融资融券账户，初始资金为 init_cash 变量代表的数值</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'index_futures'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock_margin'</span>)])
</code></pre>
<h4 id="api"><strong>融资融券专用API</strong></h4>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>margincash_interest_rate <span id="margincash_interest_rate'"></span>  </label>
      <label>设置融资利率</label>
      <article>
<pre><code class="python language-python">set_option('margincash_interest_rate', value)
</code></pre>
设定融资利率, 默认 8%

**参数**

- value: 融资利率的值, 默认 8%

**示例**<pre><code class="python language-python"># 设定融资利率: 年化8%
set_option('margincash_interest_rate', 0.08)
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>margincash_margin_rate <span id="margincash_margin_rate"></span>  </label>
      <label>设置融资保证金比率</label>
      <article>
<pre><code class="python language-python">set_option('margincash_margin_rate', value)
</code></pre>
设置融资保证金比率, 默认 100%

**参数**

- value: 融资保证金比率的值, 默认 100%

**示例**<pre><code class="python language-python"># 设置融资保证金比率: 150%
set_option('margincash_margin_rate', 1.5)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>marginsec_interest_rate <span id="marginsec_interest_rate"></span> </label>
      <label>设置融券利率</label>
      <article>
<pre><code class="python language-python">set_option('marginsec_interest_rate', value)
</code></pre>
设定融券利率: 年化 10%, 默认 10%

**参数**

- value: 融券利率的值, 默认 10%

**示例**<pre><code class="python language-python"># 设定融券利率: 年化10%
set_option('marginsec_interest_rate', 0.10)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>marginsec_margin_rate <span id="marginsec_margin_rate"></span>  </label>
      <label>设置融券保证金比率</label>
      <article>
<pre><code class="python language-python">set_option('marginsec_margin_rate', value)
</code></pre>
设定融券保证金比率: 150%, 默认 100%

**参数**

- value: 融券保证金比率的值, 默认 100%

**示例**<pre><code class="python language-python"># 设定融券保证金比率: 150%
set_option('marginsec_margin_rate', 1.5)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>margincash_open <span id="margincash_open"></span> </label>
      <label>融资买入</label>
      <article>
<pre><code class="python language-python">margincash_open(security, amount, style=None, pindex=0)
</code></pre>
融资买入

**参数**

- security: 标的代码
- amount: 数量
- style: 参见[order styles], None代表MarketOrder
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python"># 融资买入平安银行 1000 股
margincash_open('000001.XSHE', 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>margincash_close <span id="margincash_close"></span> </label>
      <label>卖券还款</label>
      <article>
<pre><code class="python language-python">margincash_close(security, amount, style=None, pindex=0)
</code></pre>
卖券还款

**参数**

- security: 标的代码
- amount: 数量
- style: 参见[order styles], None代表MarketOrder
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
None

**示例**<pre><code class="python language-python"># 卖出 1000 股平安银行用以还款
margincash_close('000001.XSHE', 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>margincash_direct_refund <span id="margincash_direct_refund"></span> </label>
      <label>直接还款</label>
      <article>
<pre><code class="python language-python">margincash_direct_refund(value, pindex=0)
</code></pre>
直接还款

**参数**

- value: 还款金额

**返回**
None

**示例**<pre><code class="python language-python"># 还款 100000 元
margincash_direct_refund(100000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>marginsec_open <span id="marginsec_open"></span>  </label>
      <label>融券卖出</label>
      <article>
<pre><code class="python language-python">marginsec_open(security, amount, style=None, pindex=0)
</code></pre>
融券卖出

**参数**

- security: 标的代码
- amount: 数量
- style: 参见[order styles], None代表MarketOrder
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python"># 融券卖出 1000 股 平安银行
marginsec_open('000001.XSHE', 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>marginsec_close <span id="marginsec_close"></span> </label>
      <label>买券还券</label>
      <article>
<pre><code class="python language-python">marginsec_close(security, amount, style=None, pindex=0)
</code></pre>
买券还券

**参数**

- security: 标的代码
- amount: 数量
- style: 参见[order styles], None代表MarketOrder
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
None

**示例**<pre><code class="python language-python"># 买入 1000 股平安银行用以还券
marginsec_close('000001.XSHE', 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>marginsec_direct_refund <span id="marginsec_direct_refund"></span> </label>
      <label>直接还券</label>
      <article>
<pre><code class="python language-python">marginsec_direct_refund(security, amount, pindex=0)
</code></pre>
直接还券

**参数**

- security: 标的代码
- amount: 数量
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
None

**示例**<pre><code class="python language-python">## 如果账户持仓中"有" 1000股 平安银行
# 直接还 1000 股平安银行
marginsec_direct_refund('000001.XSHE', 1000)

— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —

## 如果账户持仓中"没有" 1000股 平安银行
# 需先买入 1000 股平安银行
order('000001.XSHE', 1000)
# 再直接还 1000 股平安银行
marginsec_direct_refund('000001.XSHE', 1000)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_margincash_stocks <span id="get_margincash_stocks"></span> </label>
      <label>获取融资标的列表</label>
      <article>
<pre><code class="python language-python">get_margincash_stocks()
</code></pre>

**返回**
返回上交所、深交所最近一次披露的的可融资标的列表的list。

**示例**<pre><code class="python language-python"># 获取融资标的列表，并赋值给 margincash_stocks
margincash_stocks = get_margincash_stocks()

# 判断平安银行是否在可融资列表
&gt;&gt;&gt; '000001.XSHE' in get_margincash_stocks()
&gt;&gt;&gt; True
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_marginsec_stocks <span id="get_marginsec_stocks"></span> </label>
      <label>获取融券标的列表</label>
      <article>
<pre><code class="python language-python">get_marginsec_stocks()
</code></pre>

**返回**
返回上交所、深交所最近一次披露的的可融券标的列表的list。

**示例**<pre><code class="python language-python"># 获取融券标的列表，并赋值给 marginsec_stocks
marginsec_stocks= get_marginsec_stocks()

# 判断平安银行是否在可融券列表
&gt;&gt;&gt; '000001.XSHE' in get_marginsec_stocks()
&gt;&gt;&gt; True
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>jqdata.get_mtss <span id="get_mtss"></span> </label>
      <label>获取融资融券信息</label>
      <article>
<pre><code class="python language-python">jqdata.get_mtss(security_list, start_date=None, end_date=None, fields=None, count=None)
</code></pre>

获取一只或者多只股票在一个时间段内的融资融券信息

**注： 需导入 jqdata 模块，即在策略或研究起始位置加入`import jqdata`**

**参数**

- security_list: 一只股票代码或者一个股票代码的 list
- start_date: 开始日期, **与 count 二选一, 不可同时使用**. 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 默认为平台提供的数据的最早日期
- end_date: 结束日期, 一个字符串或者 [datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()
- count: 数量, **与 start_date 二选一，不可同时使用**, 必须大于 0. 表示返回 end_date 之前 count 个交易日的数据, 包含 end_date
- fields: 字段名或者 list, 可选. 默认为 None, 表示取全部字段, 各字段含义如下：

|字段名|含义|
|---|---|
|date|日期|
|sec_code|股票代码|
|fin_value|融资余额|
|fin_buy_value|融资买入额|
|fin_refund_value|融资偿还额|
|sec_value|融券余额|
|sec_sell_value|融券卖出额|
|sec_refund_value|融券偿还额|
|fin_sec_value|融资融券余额|

**返回**

返回一个 [pandas.DataFrame] 对象，默认的列索引为取得的全部字段. 如果给定了 fields 参数, 则列索引与给定的 fields 对应.

**示例**
<pre><code class="python language-python"># 导入聚宽函数库
import jqdata

# 获取一只股票的融资融券信息
jqdata.get_mtss('000001.XSHE', '2016-01-01', '2016-04-01')
jqdata.get_mtss('000001.XSHE', '2016-01-01', '2016-04-01', fields=["date", "sec_code", "fin_value", "fin_buy_value"])
jqdata.get_mtss('000001.XSHE', '2016-01-01', '2016-04-01', fields="sec_sell_value")

# 获取多只股票的融资融券信息
jqdata.get_mtss(['000001.XSHE', '000002.XSHE', '000099.XSHE'], '2015-03-25', '2016-01-25')
jqdata.get_mtss(['000001.XSHE', '000002.XSHE', '000099.XSHE'], '2015-03-25', '2016-01-25', fields=["date", "sec_code", "sec_value", "fin_buy_value", "sec_sell_value"])

# 获取股票 000001.XSHE 在日期 2016-06-30 往前 20 个交易日的融资融券信息
jqdata.get_mtss('000001.XSHE', end_date="2016-06-30", count=20)
# 获取股票 000001.XSHE 往前 20 个交易日的融资融券信息
jqdata.get_mtss('000001.XSHE', count=20)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="期货策略专用函数">期货策略专用函数</h3>
<p><span id="ccfx_api"> </span></p>
<h4 id="spanidsetccfxspan"><strong>初始化期货账户</strong><span id="setccfx"></span></h4>
<p>初始化的仓位是<strong>不允许</strong>直接买卖期货的，因为初始默认 subportfolios[0] 中 SubPortfolioConfig 的 type = 'stock'，只允许买卖股票与场内基金等。</p>
<p>因此要买卖期货，您需要设定 SubPortfolioConfig 的 type = 'futures'，具体方法如下：</p>
<pre><code class="python language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>

    <span class="hljs-comment">## 设置单个账户</span>
    <span class="hljs-comment"># 获取初始资金</span>
    init_cash = context.portfolio.starting_cash 
    <span class="hljs-comment"># 设定账户为金融账户，初始资金为 init_cash 变量代表的数值（如不使用设置多账户，默认只有subportfolios[0]一个账户，Portfolio 指向该账户。）</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'futures'</span>)])

    — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —
    <span class="hljs-comment">## 设置多个账户</span>
    <span class="hljs-comment"># 获取初始资金，并等分为三份</span>
    init_cash = context.portfolio.starting_cash/<span class="hljs-number">3</span>
    <span class="hljs-comment"># 设定subportfolios[0]为 股票和基金仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[1]为 金融期货仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[2]为 融资融券账户，初始资金为 init_cash 变量代表的数值</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'futures'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock_margin'</span>)])
</code></pre>
<h4 id=""><strong>期货信息</strong></h4>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>主力连续合约</label>
      <label>主力连续合约信息</label>
      <article>

1. 期货合约的生存周期是有限的，到合约最后交易日后就要交割。因此我们根据持仓量对期货合约进行拼接，形成主力连续合约。
2. 合约代码：品种代号+9999，例如AG9999(白银主力合约)、Y9999(豆油主力合约)。
3. 主力合约定义：如果某合约持仓量连续2天为同一个品种中最大的，且该合约相对于当前主力合约为远期合约，则自动变成主力合约。不会在日内进行主力合约切换。

下面是主要期货交易所的主力合约列表：

**中金所**

| 代码        | 名称            | 代码        | 名称               |
| ----------- | --------------- | ----------- | ------------------ |
| IC9999.CCFX | 中证500主力合约 | T9999.CCFX  | 10年期国债主力合约 |
| IF9999.CCFX | 沪深300主力合约 | TF9999.CCFX | 5年期国债主力合约  |
| IH9999.CCFX | 上证50主力合约  | -           | -                  |

**上海国际能源交易中心**

| 代码        | 名称         | 代码 | 名称 |
| ----------- | ------------ | ---- | ---- |
| SC9999.XINE | 原油主力合约 | -    | -    |

**上期所**

| 代码        | 名称             | 代码        | 名称             |
| ----------- | ---------------- | ----------- | ---------------- |
| AG9999.XSGE | 白银主力合约     | PB9999.XSGE | 铅主力合约       |
| AU9999.XSGE | 黄金主力合约     | RB9999.XSGE | 螺纹钢主力合约   |
| AL9999.XSGE | 铝主力合约       | RU9999.XSGE | 天然橡胶主力合约 |
| BU9999.XSGE | 石油沥青主力合约 | SN9999.XSGE | 锡主力合约       |
| CU9999.XSGE | 铜主力合约       | WR9999.XSGE | 线材主力合约     |
| FU9999.XSGE | 燃料油主力合约   | ZN9999.XSGE | 锌主力合约       |
| HC9999.XSGE | 热轧卷板主力合约 | NI9999.XSGE | 镍主力合约       |

**郑商所**

| 代码        | 名称                   | 代码        | 名称                 |
| ----------- | ---------------------- | ----------- | -------------------- |
| CY9999.XZCE | 棉纱主力合约           | RM9999.XZCE | 菜籽粕主力合约       |
| CF9999.XZCE | 棉花主力合约           | RM9999.XZCE | 菜籽粕主力合约       |
| FG9999.XZCE | 玻璃主力合约           | RS9999.XZCE | 油菜籽主力合约       |
| JR9999.XZCE | 粳稻谷主力合约         | SF9999.XZCE | 硅铁主力合约         |
| LR9999.XZCE | 晚籼稻主力合约         | SM9999.XZCE | 锰硅主力合约         |
| MA9999.XZCE | 甲醇主力合约           | SR9999.XZCE | 白糖主力合约         |
| ME9999.XZCE | 甲醇主力合约[退市]     | TA9999.XZCE | PTA主力合约          |
| OI9999.XZCE | 菜籽油主力合约         | WH9999.XZCE | 强麦主力合约         |
| RO9999.XZCE | 菜籽油主力合约[退市]   | WS9999.XZCE | 强麦主力合约[退市]   |
| PM9999.XZCE | 普麦主力合约           | ZC9999.XZCE | 动力煤主力合约       |
| WT9999.XZCE | 硬白小麦主力合约[退市] | TC9999.XZCE | 动力煤主力合约[退市] |
| RI9999.XZCE | 早籼稻主力合约         | GN9999.XZCE | 绿豆主力合约[退市]   |
| ER9999.XZCE | 早籼稻主力合约[退市]   | AP9999.XZCE | 苹果主力合约         |

**大商所**

| 代码        | 名称             | 代码        | 名称             |
| ----------- | ---------------- | ----------- | ---------------- |
| A9999.XDCE  | 豆一主力合约     | JD9999.XDCE | 鸡蛋主力合约     |
| B9999.XDCE  | 豆二主力合约     | JM9999.XDCE | 焦煤主力合约     |
| BB9999.XDCE | 胶合板主力合约   | L9999.XDCE  | 聚乙烯主力合约   |
| C9999.XDCE  | 玉米主力合约     | M9999.XDCE  | 豆粕主力合约     |
| CS9999.XDCE | 玉米淀粉主力合约 | P9999.XDCE  | 棕榈油主力合约   |
| FB9999.XDCE | 纤维板主力合约   | PP9999.XDCE | 聚丙烯主力合约   |
| I9999.XDCE  | 铁矿石主力合约   | V9999.XDCE  | 聚氯乙烯主力合约 |
| J9999.XDCE  | 焦炭主力合约     | Y9999.XDCE  | 豆油主力合约     |

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>品种指数</label>
      <label>品种指数信息</label>
      <article>

下面是主要期货交易所的期货指数列表：

**中金所**

| 代码        | 名称            | 代码        | 名称               |
| ----------- | --------------- | ----------- | ------------------ |
| IC8888.CCFX | 中证500期货指数 | T8888.CCFX  | 10年期国债期货指数 |
| IF8888.CCFX | 沪深300期货指数 | TF8888.CCFX | 5年期国债期货指数  |
| IH8888.CCFX | 上证50期货指数  | -           | -                  |

**上海国际能源交易中心**

| 代码        | 名称         | 代码 | 名称 |
| ----------- | ------------ | ---- | ---- |
| SC8888.XINE | 原油期货指数 | -    | -    |

**上期所**

| 代码        | 名称             | 代码        | 名称             |
| ----------- | ---------------- | ----------- | ---------------- |
| AG8888.XSGE | 白银期货指数     | PB8888.XSGE | 铅期货指数       |
| AU8888.XSGE | 黄金期货指数     | RB8888.XSGE | 螺纹钢期货指数   |
| AL8888.XSGE | 铝期货指数       | RU8888.XSGE | 天然橡胶期货指数 |
| BU8888.XSGE | 石油沥青期货指数 | SN8888.XSGE | 锡期货指数       |
| CU8888.XSGE | 铜期货指数       | WR8888.XSGE | 线材期货指数     |
| FU8888.XSGE | 燃料油期货指数   | ZN8888.XSGE | 锌期货指数       |
| HC8888.XSGE | 热轧卷板期货指数 | NI8888.XSGE | 镍期货指数       |

**郑商所**

| 代码        | 名称                   | 代码        | 名称                 |
| ----------- | ---------------------- | ----------- | -------------------- |
| CY8888.XZCE | 棉纱期货指数           | RM8888.XZCE | 菜籽粕期货指数       |
| CF8888.XZCE | 棉花期货指数           | RM8888.XZCE | 菜籽粕期货指数       |
| FG8888.XZCE | 玻璃期货指数           | RS8888.XZCE | 油菜籽期货指数       |
| JR8888.XZCE | 粳稻谷期货指数         | SF8888.XZCE | 硅铁期货指数         |
| LR8888.XZCE | 晚籼稻期货指数         | SM8888.XZCE | 锰硅期货指数         |
| MA8888.XZCE | 甲醇期货指数           | SR8888.XZCE | 白糖期货指数         |
| ME8888.XZCE | 甲醇期货指数[退市]     | TA8888.XZCE | PTA期货指数          |
| OI8888.XZCE | 菜籽油期货指数         | WH8888.XZCE | 强麦期货指数         |
| RO8888.XZCE | 菜籽油期货指数[退市]   | WS8888.XZCE | 强麦期货指数[退市]   |
| PM8888.XZCE | 普麦期货指数           | ZC8888.XZCE | 动力煤期货指数       |
| WT8888.XZCE | 硬白小麦期货指数[退市] | TC8888.XZCE | 动力煤期货指数[退市] |
| RI8888.XZCE | 早籼稻期货指数         | GN8888.XZCE | 绿豆期货指数[退市]   |
| ER8888.XZCE | 早籼稻期货指数[退市]   | AP8888.XZCE | 苹果期货指数         |

**大商所**

| 代码        | 名称             | 代码        | 名称             |
| ----------- | ---------------- | ----------- | ---------------- |
| A8888.XDCE  | 豆一期货指数     | JD8888.XDCE | 鸡蛋期货指数     |
| B8888.XDCE  | 豆二期货指数     | JM8888.XDCE | 焦煤期货指数     |
| BB8888.XDCE | 胶合板期货指数   | L8888.XDCE  | 聚乙烯期货指数   |
| C8888.XDCE  | 玉米期货指数     | M8888.XDCE  | 豆粕期货指数     |
| CS8888.XDCE | 玉米淀粉期货指数 | P8888.XDCE  | 棕榈油期货指数   |
| FB8888.XDCE | 纤维板期货指数   | PP8888.XDCE | 聚丙烯期货指数   |
| I8888.XDCE  | 铁矿石期货指数   | V8888.XDCE  | 聚氯乙烯期货指数 |
| J8888.XDCE  | 焦炭期货指数     | Y8888.XDCE  | 豆油期货指数     |


      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>期货注意事项</label>
      <label>期货策略注意事项</label>
      <article>

- 有夜盘的商品期货的一个交易日从前一天晚上 21:00 开始
- 每日在16:00:00结算, 对于期货, 使用结算价结算
- 期货持仓到交割日，没有手动交割，系统会以当天结算价平仓, 没有手续费, 不会有交易记录

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h4 id="api"><strong>期货专用API</strong></h4>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>get_dominant_future <span id="get_dominant_future"></span> </label>
      <label>获取主力合约对应的标的</label>
      <article>
<pre><code class="python language-python">get_dominant_future(security)
</code></pre>

**参数**

-  security: 期货合约品种，如 'AG'(白银)

**返回**

- 主力合约对应的期货合约

**示例**
<pre><code class="python language-python"># 获取某一天的主力合约对应的期货合约代码（策略当前日期是20160801）
&gt;&gt;&gt; get_dominant_future('IF')

# 输出
'IF1608.CCFX'
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_future_contracts <span id="get_future_contracts"></span>  </label>
      <label>期货可交易合约列表</label>
      <article>
<pre><code class="python language-python">get_future_contracts(security)
</code></pre>
获取某期货品种在策略当前日期的可交易合约标的列表

**参数**

-  security: 期货合约品种，如 'AG'(白银)

**返回**

- 某期货品种在策略当前日期的可交易合约标的列表

**示例**
<pre><code class="python language-python"># 获取某一天的主力合约对应的期货合约代码（策略当前日期是20160601）
get_future_contracts('IF')

# 输出
[u'IF1606.CCFX', u'IF1607.CCFX', u'IF1609.CCFX', u'IF1612.CCFX']
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>futures_margin_rate <span id="futures_margin_rate"></span>  </label>
      <label>设置期货保证金比例</label>
      <article>
<pre><code class="python language-python">set_option('futures_margin_rate', value)
</code></pre>
设置期货保证金比例.

**参数**

- value: value 是一个 float 值，为期货的保证金比例。

**示例**<pre><code class="python language-python"># 设定期货保证金比例
set_option('futures_margin_rate', 0.25) # 设定期货保证金比例为25%
</code></pre>

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>is_dangerous <span id="is_dangerous"></span> </label>
      <label>期货保证金预警</label>
      <article>

判断指定仓位，是否低于指定的保证金比率，高于该比例返回`False`，低于该比例返回`True`.
<pre><code class="python language-python">context.subportfolios[i].is_dangerous(margin_rate)
</code></pre>
**其中 i 是要查询的仓位编号, margin_rate 是要查询的保证金比例**

**返回：** True 或 False

**示例：**
<pre><code class="python language-python"># 查询 subportfolios[1] 中保证金是否低于 20%
context.subportfolios[1].is_dangerous(0.2)

# 低于则返回True， 高则返回 False
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_price等 <span id="get_future_quotes"></span> </label>
      <label>获取期货的行情数据</label>
      <article>

获取期货行情与获取股票行情的方法相同， [get_price](#get_price-获取历史数据)、[history](#history♠-获取历史数据)、[attribute_history](#attribute_history♠-获取历史数据)、[get_current_data](#get_current_data♠-获取当前时间数据)、[get_bars](#get_bars♠-获取历史数据) 等 API 均可正常使用。

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order <span id="order-method_ccfx"></span> </label>
      <label>期货按股数下单</label>
      <article>
<pre><code class="python language-python">order(security, amount, style=None, side='long', pindex=0)
</code></pre>
买卖标的。调用成功后, 您将可以调用[get_open_orders]取得所有未完成的交易, 也可以调用[cancel_order]取消交易

**参数**

- security: 标的代码
- amount: 交易数量, 正数表示买入, 负数表示卖出
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，开空单还是多单，默认为多单。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0 指定第一个 subportfolio, 1 指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建订单成功, 则返回Order对象, 失败则返回None

**示例**<pre><code class="python language-python">## 如果期货账户是默认账户
# 在仓位0中开一手沪深300指数期货的空单
order('IF1412.CCFX', 1 , side='short', pindex=0)

# 在仓位0中开一手沪深300指数期货的多单
order('IF1412.CCFX', 1 , side='long', pindex=0)

## 如果期货账户是仓位1
# 在仓位1中以3600的限价单，平一手沪深300指数期货的空单
order('IF1412.CCFX', -1 , LimitOrderStyle(3600.0), side='short', pindex=1)

# 在仓位1中平一手沪深300指数期货的多单
order('IF1412.CCFX', -1 , side='long', pindex=1)
</code></pre>

**可能的失败原因**:

1. 标的不存在，对于该原因, 我们会抛出异常停止运行, 因为我们认为这是您代码的bug.
2. 选择了不存在的仓位号，如没有建立多个仓位，而设定pindex的数大于0

**注意**:

- 因为下列原因, 有时候实际买入或者卖出的股票数量跟您设置的不一样，这个时候我们会在您的log中添加警告信息。

1. 买入时会根据您当前的现金来限制您买入的数量
2. 卖出时会根据您持有股票的数量来限制您卖出的数量
3. 我们会遵守A股交易规则: 每次交易数量只能是100的整数倍, 但是卖光所有股票时不受这个限制

- 根据交易所规则, 每天结束时会取消所有未完成交易
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>order_target <span id="order_target_ccfx"></span> </label>
      <label>期货目标股数下单</label>
      <article>
<pre><code class="python language-python">order_target(security, amount, style=None, side='long', pindex=0)
</code></pre>
买卖标的, 使最终标的的数量达到指定的amount

**参数**

- security: 标的代码
- amount: 期望的最终数量
- style: 参见[order styles], None代表MarketOrder
- side: 'long'/'short'，平空单还是多单，默认为多单。
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0为 指定第一个 subportfolio, 1 为指定第二个 subportfolio，**默认为0**。

**返回**
Order对象或者None, 如果创建委托成功, 则返回Order对象, 失败则返回None

注意：**使用order_target进行开平仓时，请直接对目标方向进行操作，请看示例。**

**示例**<pre><code class="python language-python"># 开5手多单
order_target('IF1412.CCFX', 5 , side='long', pindex=1)
# 平1手多单
order_target('IF1412.CCFX', 4 , side='long', pindex=1)
# 再开5手空单，操作完成后持有多单4手，空单5手
order_target('IF1412.CCFX', 5 , side='short', pindex=1)
# 平1手空单，操作完成后持有多单4手，空单4手
order_target('IF1412.CCFX', 4 , side='short', pindex=1)
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h3 id="场外基金策略专用函数">场外基金策略专用函数</h3>
<p><span id="open_fund"> </span>
<strong>请使用 <a href="#get_extras">get_extras</a> 获取场外基金的净值信息。</strong><br>
<strong>在进行申购与赎回操作前， 需要先使用 set_subportfolios 设置独立的场外基金仓位。</strong><br>
<strong>在申购与赎回份额时， 使用 purchase 和 redeem 两个 API 接口。</strong></p>
<h4 id="spanidset_open_fundspan"><strong>初始场外基金账户</strong><span id="set_open_fund"></span></h4>
<p>初始化的仓位是<strong>不允许</strong>直接买卖场外基金的，因为初始默认 subportfolios[0] 中 SubPortfolioConfig 的 type = 'stock'，只允许买卖股票与场内基金。</p>
<p>因此要买卖期货，您需要设定 SubPortfolioConfig 的 type = 'open_fund'，具体方法如下：</p>
<pre><code class="python language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>

    <span class="hljs-comment">## 设置单个账户</span>
    <span class="hljs-comment"># 获取初始资金</span>
    init_cash = context.portfolio.starting_cash 
    <span class="hljs-comment"># 设定账户为场外基金账户，初始资金为 init_cash 变量代表的数值（如不使用设置多账户，默认只有subportfolios[0]一个账户，Portfolio 指向该账户。）</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'open_fund'</span>)])

    — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —
    <span class="hljs-comment">## 设置多个账户</span>
    <span class="hljs-comment"># 获取初始资金，并等分为三份</span>
    init_cash = context.portfolio.starting_cash/<span class="hljs-number">3</span>
    <span class="hljs-comment"># 设定subportfolios[0]为 股票和基金仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[1]为 场外基金仓位，初始资金为 init_cash 变量代表的数值</span>
    <span class="hljs-comment"># 设定subportfolios[2]为 融资融券账户，初始资金为 init_cash 变量代表的数值</span>
    set_subportfolios([SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'open_fund'</span>),\
                       SubPortfolioConfig(cash=init_cash, type=<span class="hljs-string">'stock_margin'</span>)])
</code></pre>
<h4 id="spanidmatch_pricespan"><span id="match_price"></span> 场外基金成交价格说明</h4>
<ul>
<li>非QDII基金，今日申购，按今天的收盘净值价格进行撮合</li>
<li>非QDII基金，今日只能拿到昨天的净值，延迟T+1，因此撮合成交在第二天</li>
<li>QDII基金，今日可以拿到前天的净值，延迟T+2，因此撮合成交在第三天</li>
</ul>
<h4 id="api"><strong>场外基金专用API</strong></h4>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">

    <div class="group">
      <label>purchase <span id="purchase"></span> </label>
      <label>申购基金</label>
      <article>
<pre><code class="python language-python">purchase(security, cash, pindex=0)
</code></pre>

申购基金API接口

**参数**

- security: 基金代码编号，OF作为尾缀的字符串，例如招商中证白酒指数分级基金为“161725.OF"
- cash: 申购的金额
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0 指定第一个 subportfolio, 1 指定第二个 subportfolio，默认为0

**返回** 

- Order对象或者None, 如果创建订单成功, 则返回Order对象, 失败则返回None

**说明**

目前暂时没有考虑T+0交易的场外货币基金

- 非QDII基金，份额T+2到账并可以卖出
- QDII基金，份额T+3到账并可以卖出

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>redeem <span id="redeem"></span> </label>
      <label>订阅赎回基金</label>
      <article>
<pre><code class="python language-python">redeem(security, amount，pindex=0)
</code></pre>

赎回基金API接口

**参数**

- security: 基金代码编号，OF作为尾缀的字符串，例如招商中证白酒指数分级基金为“161725.OF"
- amount: 赎回的份额
- pindex: 在使用set_subportfolios创建了多个仓位时，指定subportfolio 的序号, 从 0 开始, 比如 0 指定第一个 subportfolio, 1 指定第二个 subportfolio，默认为0

**返回**

- Order对象或者None, 如果创建订单成功, 则返回Order对象, 失败则返回None


      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>set_redeem_latency <span id="set_redeem_latency"></span> </label>
      <label>设置赎回到账日</label>
      <article>
<pre><code class="python language-python">set_redeem_latency(day，type, ref=None)
</code></pre>

设置指定类型基金的赎回到帐日，默认的赎回到帐日：非货币基金：T+4，QDII:T+7，货币型基金:T+2

**参数**

- day: int 类型，例如，day=4 表示 T+4 日到账，赎回到账时间至少是2天。
- type: 可操作的场外基金类型，取值不可为空，可以包含多种场外基金的类型'bond_fund'/'stock_fund'/'QDII_fund'/'money_market_fund'/'mixture_fund'/'open_fund'，其中 bond_fund指债券基金，stock_fund指股票型基金，QDII_fund指QDII基金，money_market_fund指货币基金，mixture_fund指混合型基金，open_fund则泛指所有的场外基金，如果不清楚具体操作的场外基金的类型，可以使用open_fund
- ref: 参考代码，仅支持场外基金代码，如 '000300.OF'，类型为字符串，不能用列表填入一组场外基金。取值可以为空，当ref为空时，表示设置的到账时间对type类型中场外基金生效，其他type类型的场外基金使用默认值，如果不为空，则表示对type类型下的ref基金生效，除ref基金以外的其他场外基金使用默认值，包括type类型中除ref以外的其他场外基金。

**返回** 
- None

**示例**
<pre><code class="python language-python"># 设置股票型基金的到帐日为 T+7 
set_redeem_latency(day=7, type='stock_fund')

# 设置股票型基金中的000697.OF 的到帐日为 T+5
set_redeem_latency(day=5, type='stock_fund',ref='000697.OF')
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

    <div class="group">
      <label>get_fund_info <span id="get_fund_info"></span> </label>
      <label>基金基础信息数据接口</label>
      <article>
<pre><code class="python language-python">get_fund_info(security, date=None)
</code></pre>

获取单个基金的基本信息

**参数**

- security: 基金代码
- date: 查询日期, 一个字符串(格式类似’2015-10-15’)或者datetime.date/datetime.datetime对象, 可以是None, 使用默认日期。回测模块中， 默认日期等于 context.current_dt。 研究模块中， 默认日期是今天。

**返回** 
dict, 各 key 的含义如下：
- fund_name: 基金全称
- fund_type: 基金类型
- fund_establishment_day: 基金成立日  
- fund_manager: 基金管理人及基本信息
- fund_management_fee: 基金管理费
- fund_custodian_fee: 基金托管费 
- fund_status: 基金申购赎回状态
- fund_size: 基金规模（季度） 
- fund_share: 基金份额（季度）
- fund_asset_allocation_proportion: 基金资产配置比例（季度）
- heavy_hold_stocks: 基金重仓股（季度）
- heavy_hold_stocks_proportion: 基金重仓股占基金资产净值比例（季度）
- heavy_hold_bond: 基金重仓债券（季度）
- heavy_hold_bond_proportion: 基金重仓债券占基金资产净值比例（季度）

      </article>
    <span class="glyphicon glyphicon-triangle-bottom"></span></div>

  </div>
</section>
<h4 id=""><strong>场外基金示例策略</strong></h4>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-comment"># 初始化</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    g.day = <span class="hljs-number">0</span>
    <span class="hljs-comment"># 初始化场外基金仓位</span>
    set_subportfolios([SubPortfolioConfig(context.portfolio.cash, <span class="hljs-string">'open_fund'</span>)])
    <span class="hljs-comment"># 设置 QDII 的赎回到账日为 T+3</span>
    set_redeem_latency(<span class="hljs-number">3</span>, <span class="hljs-string">'QDII_fund'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_data</span><span class="hljs-params">(context, data)</span>:</span>
    s = <span class="hljs-string">'000311.OF'</span>
    <span class="hljs-keyword">if</span> g.day == <span class="hljs-number">1</span>:
        o = purchase(s, <span class="hljs-number">100000</span>)
        <span class="hljs-keyword">print</span> o
    <span class="hljs-keyword">if</span> g.day == <span class="hljs-number">10</span>:
        o2 = redeem(s, <span class="hljs-number">500</span>)
        <span class="hljs-keyword">print</span> o2
    <span class="hljs-keyword">print</span> context.current_dt
    <span class="hljs-keyword">print</span> context.portfolio.cash
    <span class="hljs-keyword">print</span> context.portfolio.total_value
    g.day += <span class="hljs-number">1</span>
</code></pre>
<p><span id="others_func"></span></p>
<h2 id="Python库">Python库</h2>
<p><span id="third_lib"></span></p>
<h3 id="标准库">标准库</h3>
<p><span id="standard_library"></span></p>
<p>我们支持所有Python标准库(https://docs.python.org/2/library/index.html)，您可以通过import的方式进行引入, 下面列出了一些常用的库：</p>
<table>
<thead>
<tr>
<th>库名</th>
<th>帮助文档</th>
</tr>
</thead>
<tbody>
<tr>
<td>array</td>
<td>https://docs.python.org/2.7/library/array.html</td>
</tr>
<tr>
<td>cmath</td>
<td>https://docs.python.org/2.7/library/cmath.html</td>
</tr>
<tr>
<td>collections</td>
<td>https://docs.python.org/2.7/library/collections.html</td>
</tr>
<tr>
<td>copy</td>
<td>https://docs.python.org/2.7/library/copy.html</td>
</tr>
<tr>
<td>datetime</td>
<td>https://docs.python.org/2.7/library/datetime.html</td>
</tr>
<tr>
<td>dateutil</td>
<td>https://pypi.python.org/pypi/dateutils/0.6.6</td>
</tr>
<tr>
<td>functools</td>
<td>https://docs.python.org/2.7/library/functools.html</td>
</tr>
<tr>
<td>heapq</td>
<td>https://docs.python.org/2.7/library/heapq.html</td>
</tr>
<tr>
<td>itertools</td>
<td>https://docs.python.org/2.7/library/itertools.html</td>
</tr>
<tr>
<td>json</td>
<td>https://docs.python.org/2.7/library/json.html</td>
</tr>
<tr>
<td>math</td>
<td>https://docs.python.org/2.7/library/math.html</td>
</tr>
<tr>
<td>operator</td>
<td>https://docs.python.org/2.7/library/operator.html</td>
</tr>
<tr>
<td>pytz</td>
<td>https://pypi.python.org/pypi/pytz/2015.2</td>
</tr>
<tr>
<td>random</td>
<td>https://docs.python.org/2.7/library/random.html</td>
</tr>
<tr>
<td>re</td>
<td>https://docs.python.org/2.7/library/re.html</td>
</tr>
<tr>
<td>string</td>
<td>https://docs.python.org/2.7/library/string.html</td>
</tr>
<tr>
<td>time</td>
<td>https://docs.python.org/2.7/library/time.html</td>
</tr>
<tr>
<td>xml</td>
<td>https://docs.python.org/2.7/library/xml.html</td>
</tr>
</tbody>
</table>
<h3 id="第三方库">第三方库</h3>
<p><span id="third_library"></span></p>
<p>我们支持以下Python第三方库，您可以通过import的方式进行引入:
在研究模拟中, 您可以运行 <code>!pip list</code> 来查看所有安装的第三库和版本.</p>
<p>回测模块：</p>
<blockquote>
  <p><strong>anyjson, arch, graphviz, Lasagne, numpy, pandas, pybrain, scipy, seaborn, sklearn, statsmodels, talib, tushare, Theanom, requests, hmm, hmmlearn, pywt, pycrypto, beautifulsoup4, prettytable, PyBrain, xlrd</strong></p>
</blockquote>
<p>研究模块：</p>
<blockquote>
  <p><strong>anyjson, arch, beautifulsoup4, cvxopt, graphviz, gensim, jieba,  matplotlib, mpl_toolkits, numpy, pandas, pybrain, pymc, pillow, scipy, seaborn, sklearn, statsmodels, tables, talib, hmm, hmmlearn, tushare, theano, Lasagne, requests, pywt, zipline, xlrd, xlwt, openpyxl, snownlp, pycrypto, prettytable, PyBrain, seaborn</strong></p>
</blockquote>
<p>主要模块介绍：</p>
<table>
<thead>
<tr>
<th>模块名称</th>
<th>版本</th>
<th>简介</th>
<th>网址</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>arch</strong></td>
<td>3.1</td>
<td>Arch模型的lib库</td>
<td>https://pypi.python.org/pypi/arch</td>
</tr>
<tr>
<td><strong>cvxopt</strong></td>
<td>1.1.8</td>
<td>cvxopt是一个最优化计算包，进行线性规划、二次规划、半正定规划等的计算</td>
<td>https://pypi.python.org/pypi/cvxopt/1.1.8</td>
</tr>
<tr>
<td><strong>gensim</strong></td>
<td>0.12.2</td>
<td>gensim用于计算文本相似度，依赖NumPy和SciPy这两大Python科学计算工具包</td>
<td>http://radimrehurek.com/gensim/tutorial.html</td>
</tr>
<tr>
<td><strong>jieba</strong></td>
<td>0.37</td>
<td>jieba是一个中文分词组件</td>
<td>https://pypi.python.org/pypi/jieba</td>
</tr>
<tr>
<td><strong>matplotlib</strong></td>
<td>1.4.3</td>
<td>matplotlib可能是Python 2D绘图领域使用最广泛的库。它能让使用者很轻松地将数据图形化，并且提供多样化的输出格式</td>
<td>http://matplotlib.org/contents.html</td>
</tr>
<tr>
<td><strong>mpl_toolkits</strong></td>
<td>1.4.3</td>
<td>mpl_toolkits是一个Python 3D绘图领域函数库</td>
<td>http://matplotlib.org/mpl_toolkits/index.html</td>
</tr>
<tr>
<td><strong>NumPy</strong></td>
<td>1.9.3</td>
<td>NumPy系统是Python的一种开源的数值计算扩展。NumPy（Numeric Python）提供了许多高级的数值编程工具，如：矩阵数据类型、矢量处理，以及精密的运算库。专为进行严格的数字处理而产生</td>
<td>http://www.numpy.org/</td>
</tr>
<tr>
<td><strong>pandas</strong></td>
<td>0.16.2</td>
<td>Python Data Analysis Library 或 pandas 是基于NumPy 的一种工具，该工具是为了解决数据分析任务而创建的。Pandas 纳入了大量库和一些标准的数据模型，提供了高效地操作大型数据集所需的工具。pandas提供了大量能使我们快速便捷地处理数据的函数和方法</td>
<td>http://pandas.pydata.org/pandas-docs/version/0.16.2/</td>
</tr>
<tr>
<td><strong>pybrain</strong></td>
<td>0.3</td>
<td>pybrain一个开源的Python神经网络库</td>
<td>http://pybrain.org/docs/</td>
</tr>
<tr>
<td><strong>pymc</strong></td>
<td>2.3.6</td>
<td>pymc是机器学习中一个图模型的Python库</td>
<td>https://pypi.python.org/pypi/pymc/</td>
</tr>
<tr>
<td><strong>SciPy</strong></td>
<td>0.15.1</td>
<td>SciPy是一款方便、易于使用、专为科学和工程设计的Python工具包。它包括统计，优化，整合，线性代数模块，傅里叶变换，信号和图像处理,常微分方程求解器等等</td>
<td>http://www.scipy.org/</td>
</tr>
<tr>
<td><strong>seaborn</strong></td>
<td>0.6.0</td>
<td>该模块是一个统计数据可视化库</td>
<td>http://web.stanford.edu/~mwaskom/software/seaborn/</td>
</tr>
<tr>
<td><strong>sklearn</strong></td>
<td>0.18</td>
<td>Scikit-Learn是基于python的机器学习模块，基于BSD开源许可证。scikit-learn的基本功能主要被分为六个部分，分类，回归，聚类，数据降维，模型选择，数据预处理。Scikit-Learn中的机器学习模型非常丰富，包括SVM，决策树，GBDT，KNN等等，可以根据问题的类型选择合适的模型</td>
<td>http://scikit-learn.org/stable/</td>
</tr>
<tr>
<td><strong>Statsmodels</strong></td>
<td>0.6.1</td>
<td>Statismodels是一个Python包，提供一些互补scipy统计计算的功能，包括描述性统计和统计模型估计和推断</td>
<td>http://statsmodels.sourceforge.net/</td>
</tr>
<tr>
<td><strong>PyTables</strong></td>
<td>3.2.2</td>
<td>PyTables提供了一些用于结构化数组的高级查询功能，而且还能添加列索引以提升查询速度，这跟关系型数据库所提供的表索引功能非常类似</td>
<td>http://www.pytables.org/usersguide/tutorials.html</td>
</tr>
<tr>
<td><strong>TALib</strong></td>
<td>0.4.9</td>
<td>TALib是一个处理金融数据和技术分析的开放代码库</td>
<td>http://mrjbq7.github.io/ta-lib/funcs.html</td>
</tr>
<tr>
<td><strong>hmmlearn</strong></td>
<td>0.2.0</td>
<td>是在python上实现隐马可夫模型的一个组件包</td>
<td>https://github.com/hmmlearn/hmmlearn</td>
</tr>
<tr>
<td><strong>Theano</strong></td>
<td>0.8.1</td>
<td>Pyhton深度学习库</td>
<td>http://deeplearning.net/software/theano/</td>
</tr>
<tr>
<td><strong>Lasagne</strong></td>
<td>0.1</td>
<td>Pyhton深度学习库</td>
<td>http://lasagne.readthedocs.org/en/latest/</td>
</tr>
<tr>
<td><strong>requests</strong></td>
<td>2.7.0</td>
<td>网络访问模块</td>
<td>http://docs.python-requests.org/en/v2.7.0/</td>
</tr>
<tr>
<td><strong>pywt</strong></td>
<td>0.4.0</td>
<td>小波工具箱</td>
<td>http://pywavelets.readthedocs.io/en/v0.4.0/</td>
</tr>
<tr>
<td><strong>Zipline</strong></td>
<td>0.9.0</td>
<td>开源的交易算法库，目前作为Quantopian的回溯检验引擎</td>
<td>https://github.com/quantopian/zipline</td>
</tr>
<tr>
<td><strong>xlrd</strong></td>
<td>1.0.0</td>
<td>Python语言中，读取Excel的扩展工具</td>
<td>https://pypi.python.org/pypi/xlrd/</td>
</tr>
<tr>
<td><strong>xlwt</strong></td>
<td>1.1.2</td>
<td>Python语言中，写入Excel文件的扩展工具</td>
<td>https://pypi.python.org/pypi/xlwt/</td>
</tr>
<tr>
<td><strong>openpyxl</strong></td>
<td>2.4.0</td>
<td>Openpyxl是一个python读写Excel 2010文件的库</td>
<td>http://openpyxl.readthedocs.io/en/default/</td>
</tr>
<tr>
<td><strong>snownlp</strong></td>
<td>0.12.3</td>
<td>处理中文文本的Python库</td>
<td>https://pypi.python.org/pypi/snownlp/</td>
</tr>
<tr>
<td><strong>pycrypto</strong></td>
<td>2.6.2</td>
<td>Python加密工具包</td>
<td>https://pypi.python.org/pypi/pycrypto</td>
</tr>
<tr>
<td><strong>beautifulsoup4</strong></td>
<td>4.5.1</td>
<td>python下很帅气的爬虫包</td>
<td>https://www.crummy.com/software/BeautifulSoup/</td>
</tr>
<tr>
<td><strong>prettytable</strong></td>
<td>0.7.2</td>
<td>Python通过prettytable模块可以将输出内容如表格方式整齐的输出。</td>
<td>https://pypi.python.org/pypi/PrettyTable</td>
</tr>
<tr>
<td><strong>PyBrain</strong></td>
<td>0.3</td>
<td>Python的一个机器学习模块，它的目标是为机器学习任务提供灵活、易应、强大的机器学习算法。</td>
<td>http://www.pybrain.org/</td>
</tr>
<tr>
<td><strong>seaborn</strong></td>
<td>0.6.0</td>
<td>基于matplotlib的Python可视化库</td>
<td>http://seaborn.pydata.org/</td>
</tr>
</tbody>
</table>
<h3 id="共享函数库">共享函数库</h3>
<p>用户产生的函数，并分享出来。
使用共享函数库，可以避免用户再做重复的工作，也可以学习其他宽客的代码思路。
详情查看：帮助 -&gt; <a href="/algorithm/apishare/list">共享函数库</a></p>
<h2 id="策略示例">策略示例</h2>

<h3 id="均线策略">均线策略</h3>
<p>当价格高于5日均线平均价格<em>1.05时买入，当价格低于5日平均价格</em>0.95时卖出。</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入聚宽函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-comment"># 初始化函数，设定要操作的股票、基准等等</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 定义一个全局变量, 保存要操作的股票</span>
    <span class="hljs-comment"># 000001(股票:平安银行)</span>
    g.security = <span class="hljs-string">'000001.XSHE'</span>
    <span class="hljs-comment"># 设定沪深300作为基准</span>
    set_benchmark(<span class="hljs-string">'000300.XSHG'</span>)
    <span class="hljs-comment"># 开启动态复权模式(真实价格)</span>
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)

<span class="hljs-comment"># 每个单位时间(如果按天回测,则每天调用一次,如果按分钟,则每分钟调用一次)调用一次</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_data</span><span class="hljs-params">(context, data)</span>:</span>
    security = g.security
    <span class="hljs-comment"># 获取股票的收盘价</span>
    close_data = attribute_history(security, <span class="hljs-number">5</span>, <span class="hljs-string">'1d'</span>, [<span class="hljs-string">'close'</span>])
    <span class="hljs-comment"># 取得过去五天的平均价格</span>
    MA5 = close_data[<span class="hljs-string">'close'</span>].mean()
    <span class="hljs-comment"># 取得上一时间点价格</span>
    current_price = close_data[<span class="hljs-string">'close'</span>][<span class="hljs-number">-1</span>]
    <span class="hljs-comment"># 取得当前的现金</span>
    cash = context.portfolio.cash

    <span class="hljs-comment"># 如果上一时间点价格高出五天平均价5%, 则全仓买入</span>
    <span class="hljs-keyword">if</span> current_price &gt; <span class="hljs-number">1.05</span>*MA5:
        <span class="hljs-comment"># 用所有 cash 买入股票</span>
        order_value(security, cash)
        <span class="hljs-comment"># 记录这次买入</span>
        log.info(<span class="hljs-string">"Buying %s"</span> % (security))
    <span class="hljs-comment"># 如果上一时间点价格低于五天平均价, 则空仓卖出</span>
    <span class="hljs-keyword">elif</span> current_price &lt; <span class="hljs-number">0.95</span>*MA5 <span class="hljs-keyword">and</span> context.portfolio.positions[security].closeable_amount &gt; <span class="hljs-number">0</span>:
        <span class="hljs-comment"># 卖出所有股票,使这只股票的最终持有量为0</span>
        order_target(security, <span class="hljs-number">0</span>)
        <span class="hljs-comment"># 记录这次卖出</span>
        log.info(<span class="hljs-string">"Selling %s"</span> % (security))
    <span class="hljs-comment"># 画出上一时间点价格</span>
    record(stock_price=current_price)
</code></pre>
<h3 id="多股票持仓示例">多股票持仓示例</h3>
<p>这是一个较简单的多股票操作示例，当价格高于三天平均价<em>1.005则买入100股，当价格小于三天平均价</em>0.995则卖出。</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入聚宽函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 初始化此策略</span>
    <span class="hljs-comment"># 设置我们要操作的股票池</span>
    g.stocks = [<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>,<span class="hljs-string">'000004.XSHE'</span>,<span class="hljs-string">'000005.XSHE'</span>]
    <span class="hljs-comment"># 设定沪深300作为基准</span>
    set_benchmark(<span class="hljs-string">'000300.XSHG'</span>)
    <span class="hljs-comment"># 开启动态复权模式(真实价格)</span>
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)

<span class="hljs-comment"># 每个单位时间(如果按天回测,则每天调用一次,如果按分钟,则每分钟调用一次)调用一次</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_data</span><span class="hljs-params">(context, data)</span>:</span>
    <span class="hljs-comment"># 循环每只股票</span>
    <span class="hljs-keyword">for</span> security <span class="hljs-keyword">in</span> g.stocks:
        <span class="hljs-comment"># 得到股票之前3天的平均价</span>
        vwap = data[security].vwap(<span class="hljs-number">3</span>)
        <span class="hljs-comment"># 得到上一时间点股票平均价</span>
        price = data[security].close
        <span class="hljs-comment"># 得到当前资金余额</span>
        cash = context.portfolio.cash

        <span class="hljs-comment"># 如果上一时间点价格小于三天平均价*0.995，并且持有该股票，卖出</span>
        <span class="hljs-keyword">if</span> price &lt; vwap * <span class="hljs-number">0.995</span> <span class="hljs-keyword">and</span> context.portfolio.positions[security].closeable_amount &gt; <span class="hljs-number">0</span>:
            <span class="hljs-comment"># 下入卖出单</span>
            order(security,<span class="hljs-number">-100</span>)
            <span class="hljs-comment"># 记录这次卖出</span>
            log.info(<span class="hljs-string">"Selling %s"</span> % (security))
        <span class="hljs-comment"># 如果上一时间点价格大于三天平均价*1.005，并且有现金余额，买入</span>
        <span class="hljs-keyword">elif</span> price &gt; vwap * <span class="hljs-number">1.005</span> <span class="hljs-keyword">and</span> cash &gt; <span class="hljs-number">0</span>:
            <span class="hljs-comment"># 下入买入单</span>
            order(security,<span class="hljs-number">100</span>)
            <span class="hljs-comment"># 记录这次买入</span>
            log.info(<span class="hljs-string">"Buying %s"</span> % (security))
</code></pre>
<h3 id="多股票追涨策略">多股票追涨策略</h3>
<p>当股票在当日收盘30分钟内涨幅到达9.5%~9.9%时间段的时候，我们进行买入，在第二天开盘卖出。注意：<strong>请按照分钟进行回测该策略</strong>。</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入聚宽函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-comment"># 初始化程序, 整个回测只运行一次</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 开启动态复权模式(真实价格)</span>
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)

    <span class="hljs-comment"># 每天买入股票数量</span>
    g.daily_buy_count  = <span class="hljs-number">5</span>

    <span class="hljs-comment"># 设置我们要操作的股票池, 这里我们操作多只股票，下列股票选自计算机信息技术相关板块</span>
    g.stocks = get_industry_stocks(<span class="hljs-string">'I64'</span>) + get_industry_stocks(<span class="hljs-string">'I65'</span>)

    <span class="hljs-comment"># 防止板块之间重复包含某只股票, 排除掉重复的, g.stocks 现在是一个集合(set)</span>
    g.stocks = set(g.stocks)

    <span class="hljs-comment"># 让每天早上开盘时执行 morning_sell_all</span>
    run_daily(morning_sell_all, <span class="hljs-string">'open'</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">morning_sell_all</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 将目前所有的股票卖出</span>
    <span class="hljs-keyword">for</span> security <span class="hljs-keyword">in</span> context.portfolio.positions:
        <span class="hljs-comment"># 全部卖出</span>
        order_target(security, <span class="hljs-number">0</span>)
        <span class="hljs-comment"># 记录这次卖出</span>
        log.info(<span class="hljs-string">"Selling %s"</span> % (security))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">before_trading_start</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 今天已经买入的股票</span>
    g.today_bought_stocks = set()

    <span class="hljs-comment"># 得到所有股票昨日收盘价, 每天只需要取一次, 所以放在 before_trading_start 中</span>
    g.last_df = history(<span class="hljs-number">1</span>,<span class="hljs-string">'1d'</span>,<span class="hljs-string">'close'</span>,g.stocks)

<span class="hljs-comment"># 在每分钟的第一秒运行, data 是上一分钟的切片数据</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_data</span><span class="hljs-params">(context, data)</span>:</span>

    <span class="hljs-comment"># 判断是否在当日最后的2小时，我们只追涨最后2小时满足追涨条件的股票</span>
    <span class="hljs-keyword">if</span> context.current_dt.hour &lt; <span class="hljs-number">13</span>:
        <span class="hljs-keyword">return</span>

    <span class="hljs-comment"># 每天只买这么多个</span>
    <span class="hljs-keyword">if</span> len(g.today_bought_stocks) &gt;= g.daily_buy_count:
        <span class="hljs-keyword">return</span>

    <span class="hljs-comment"># 只遍历今天还没有买入的股票</span>
    <span class="hljs-keyword">for</span> security <span class="hljs-keyword">in</span> (g.stocks - g.today_bought_stocks):

        <span class="hljs-comment"># 得到当前价格</span>
        price = data[security].close

        <span class="hljs-comment"># 获取这只股票昨天收盘价</span>
        last_close = g.last_df[security][<span class="hljs-number">0</span>]

        <span class="hljs-comment"># 如果上一时间点价格已经涨了9.5%~9.9%</span>
        <span class="hljs-comment"># 今天的涨停价格区间大于1元，今天没有买入该支股票</span>
        <span class="hljs-keyword">if</span> price/last_close &gt; <span class="hljs-number">1.095</span> \
                <span class="hljs-keyword">and</span> price/last_close &lt; <span class="hljs-number">1.099</span> \
                <span class="hljs-keyword">and</span> data[security].high_limit - last_close &gt;= <span class="hljs-number">1.0</span>:

            <span class="hljs-comment"># 得到当前资金余额</span>
            cash = context.portfolio.cash

            <span class="hljs-comment"># 计算今天还需要买入的股票数量</span>
            need_count = g.daily_buy_count - len(g.today_bought_stocks)

            <span class="hljs-comment"># 把现金分成几份,</span>
            buy_cash = context.portfolio.cash / need_count

            <span class="hljs-comment"># 买入这么多现金的股票</span>
            order_value(security, buy_cash)

            <span class="hljs-comment"># 放入今日已买股票的集合</span>
            g.today_bought_stocks.add(security)

            <span class="hljs-comment"># 记录这次买入</span>
            log.info(<span class="hljs-string">"Buying %s"</span> % (security))

            <span class="hljs-comment"># 买够5个之后就不买了</span>
            <span class="hljs-keyword">if</span> len(g.today_bought_stocks) &gt;= g.daily_buy_count:
                <span class="hljs-keyword">break</span>
</code></pre>
<h3 id="万圣节效应策略">万圣节效应策略</h3>
<p>股市投资中的“万圣节效应”是指在北半球的冬季(11月至4月份)，股市回报通常明显高於夏季(5月至10月份)。这里我们选取了中国蓝筹股，采用10月15日后买入，5月15日后卖出的简单策略进行示例。</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入聚宽函数库</span>
<span class="hljs-keyword">import</span> jqdata

<span class="hljs-comment"># 初始化此策略</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(context)</span>:</span>
    <span class="hljs-comment"># 开启动态复权模式(真实价格)</span>
    set_option(<span class="hljs-string">'use_real_price'</span>, <span class="hljs-keyword">True</span>)

    <span class="hljs-comment"># 设置我们要操作的股票池，这里我们选择蓝筹股</span>
    g.stocks = [<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'600000.XSHG'</span>,<span class="hljs-string">'600019.XSHG'</span>,<span class="hljs-string">'600028.XSHG'</span>,<span class="hljs-string">'600030.XSHG'</span>,<span class="hljs-string">'600036.XSHG'</span>,<span class="hljs-string">'600519.XSHG'</span>,<span class="hljs-string">'601398.XSHG'</span>,<span class="hljs-string">'601857.XSHG'</span>,<span class="hljs-string">'601988.XSHG'</span>]

<span class="hljs-comment"># 每个单位时间(如果按天回测,则每天调用一次,如果按分钟,则每分钟调用一次)调用一次</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_data</span><span class="hljs-params">(context, data)</span>:</span>
    <span class="hljs-comment"># 得到每只股票可以花费的现金，这里我们使用总现金股票数数量</span>
    cash = context.portfolio.cash / len(g.stocks)
    <span class="hljs-comment"># 获取数据</span>
    hist = history(<span class="hljs-number">1</span>,<span class="hljs-string">'1d'</span>,<span class="hljs-string">'close'</span>,g.stocks)
    <span class="hljs-comment"># 循环股票池</span>
    <span class="hljs-keyword">for</span> security <span class="hljs-keyword">in</span> g.stocks:
        <span class="hljs-comment"># 得到当前时间</span>
        today = context.current_dt
        <span class="hljs-comment"># 得到该股票上一时间点价格</span>
        current_price = hist[security][<span class="hljs-number">0</span>]
        <span class="hljs-comment"># 如果当前为10月且日期大于15号，并且现金大于上一时间点价格，并且当前该股票空仓</span>
        <span class="hljs-keyword">if</span> today.month == <span class="hljs-number">10</span> <span class="hljs-keyword">and</span> today.day &gt; <span class="hljs-number">15</span> <span class="hljs-keyword">and</span> cash &gt; current_price <span class="hljs-keyword">and</span> context.portfolio.positions[security].closeable_amount == <span class="hljs-number">0</span>:
            order_value(security, cash)
            <span class="hljs-comment"># 记录这次买入</span>
            log.info(<span class="hljs-string">"Buying %s"</span> % (security))
        <span class="hljs-comment"># 如果当前为5月且日期大于15号，并且当前有该股票持仓，则卖出</span>
        <span class="hljs-keyword">elif</span> today.month == <span class="hljs-number">5</span> <span class="hljs-keyword">and</span> today.day &gt; <span class="hljs-number">15</span> <span class="hljs-keyword">and</span> context.portfolio.positions[security].closeable_amount &gt; <span class="hljs-number">0</span>:
            <span class="hljs-comment"># 全部卖出</span>
            order_target(security, <span class="hljs-number">0</span>)
            <span class="hljs-comment"># 记录这次卖出</span>
            log.info(<span class="hljs-string">"Selling %s"</span> % (security))
</code></pre></div></div>